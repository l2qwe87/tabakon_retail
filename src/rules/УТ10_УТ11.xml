<ПравилаОбмена>
	<ВерсияФормата РежимСовместимости="РежимСовместимостиСБСП20">2.01</ВерсияФормата>
	<Ид>9fba3c65-6b38-4372-8771-b756e2840337    </Ид>
	<Наименование>УТ_Табак_Новая --&gt; УТ_Табак_11</Наименование>
	<ДатаВремяСоздания>2020-11-06T11:15:50</ДатаВремяСоздания>
	<Источник ВерсияПлатформы="8.0" ВерсияКонфигурации="10.3.60.1" СинонимКонфигурации="Управление торговлей, редакция 10.3">УправлениеТорговлей</Источник>
	<Приемник ВерсияПлатформы="8.0" ВерсияКонфигурации="11.4.13.51" СинонимКонфигурации="Управление торговлей, редакция 11">УправлениеТорговлей</Приемник>
	<ПередВыгрузкойДанных>Параметры.Вставить("СворачиватьХарактеристики",ЛОЖЬ);
Параметры.Вставить("ИспользоватьУпаковкиНоменклатуры");
Параметры.Вставить("ИспользоватьХарактеристикиНоменклатуры");
Параметры.Вставить("ИспользоватьОрдерныеСклады");
Параметры.Вставить("ВыгруженыОрганизации");
Параметры.Вставить("КешВидовНоменклатуры");
Параметры.Вставить("ТабНоменклатурыТары");
Параметры.Вставить("ТабАлкогольнаяПродукцияНоменклатуры");

Запрос = Новый Запрос("
|ВЫБРАТЬ ПЕРВЫЕ 1
|	1
|ИЗ
|	Справочник.ЕдиницыИзмерения КАК ЕдиницыИзмерения
|ГДЕ
|	ВЫРАЗИТЬ(ЕдиницыИзмерения.Владелец КАК Справочник.Номенклатура.).ЕдиницаХраненияОстатков &lt;&gt; ЕдиницыИзмерения.Ссылка
|");

Параметры.ИспользоватьУпаковкиНоменклатуры = Не Запрос.Выполнить().Пустой();
Параметры.ВыгруженыОрганизации = Ложь;
Параметры.ИспользоватьХарактеристикиНоменклатуры = Константы.ИспользоватьХарактеристикиНоменклатуры.Получить();
Параметры.КешВидовНоменклатуры = Новый Соответствие;

// Определим перечень номенклатуры-тары
Запрос = Новый Запрос(
	"ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	АвансовыйОтчетВозвратнаяТара.Номенклатура КАК Номенклатура
	|ПОМЕСТИТЬ НоменклатураТара
	|ИЗ
	|	Документ.АвансовыйОтчет.ВозвратнаяТара КАК АвансовыйОтчетВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ВнутреннийЗаказВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.ВнутреннийЗаказ.ВозвратнаяТара КАК ВнутреннийЗаказВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ВозвратТоваровОтПокупателяВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.ВозвратТоваровОтПокупателя.ВозвратнаяТара КАК ВозвратТоваровОтПокупателяВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ВозвратТоваровПоставщикуВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.ВозвратТоваровПоставщику.ВозвратнаяТара КАК ВозвратТоваровПоставщикуВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ВозвратТоваровПоставщикуИзНТТВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.ВозвратТоваровПоставщикуИзНТТ.ВозвратнаяТара КАК ВозвратТоваровПоставщикуИзНТТВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ЗаказПокупателяВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.ЗаказПокупателя.ВозвратнаяТара КАК ЗаказПокупателяВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ЗаказПоставщикуВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.ЗаказПоставщику.ВозвратнаяТара КАК ЗаказПоставщикуВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ИзменениеЛимитовВозвратнойТарыВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.ИзменениеЛимитовВозвратнойТары.ВозвратнаяТара КАК ИзменениеЛимитовВозвратнойТарыВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	КорректировкаВнутреннегоЗаказаВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.КорректировкаВнутреннегоЗаказа.ВозвратнаяТара КАК КорректировкаВнутреннегоЗаказаВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	КорректировкаДолгаПоВозвратнойТареВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.КорректировкаДолгаПоВозвратнойТаре.ВозвратнаяТара КАК КорректировкаДолгаПоВозвратнойТареВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	КорректировкаЗаказаПокупателяВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.КорректировкаЗаказаПокупателя.ВозвратнаяТара КАК КорректировкаЗаказаПокупателяВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	КорректировкаЗаказаПоставщикуВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.КорректировкаЗаказаПоставщику.ВозвратнаяТара КАК КорректировкаЗаказаПоставщикуВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ПеремещениеТоваровВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.ПеремещениеТоваров.ВозвратнаяТара КАК ПеремещениеТоваровВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ПоступлениеТоваровУслугВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.ПоступлениеТоваровУслуг.ВозвратнаяТара КАК ПоступлениеТоваровУслугВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ПоступлениеТоваровУслугВНТТВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.ПоступлениеТоваровУслугВНТТ.ВозвратнаяТара КАК ПоступлениеТоваровУслугВНТТВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ПриходныйОрдерНаТоварыВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.ПриходныйОрдерНаТовары.ВозвратнаяТара КАК ПриходныйОрдерНаТоварыВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	РазмещениеЗаказаВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.РазмещениеЗаказа.ВозвратнаяТара КАК РазмещениеЗаказаВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	РасходныйОрдерНаТоварыВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.РасходныйОрдерНаТовары.ВозвратнаяТара КАК РасходныйОрдерНаТоварыВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	РеализацияТоваровУслугВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.РеализацияТоваровУслуг.ВозвратнаяТара КАК РеализацияТоваровУслугВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	РезервированиеТоваровВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.РезервированиеТоваров.ВозвратнаяТара КАК РезервированиеТоваровВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	СписаниеТоваровВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.СписаниеТоваров.ВозвратнаяТара КАК СписаниеТоваровВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	СчетНаОплатуПокупателюВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.СчетНаОплатуПокупателю.ВозвратнаяТара КАК СчетНаОплатуПокупателюВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	СчетНаОплатуПоставщикаВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.СчетНаОплатуПоставщика.ВозвратнаяТара КАК СчетНаОплатуПоставщикаВозвратнаяТара
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	Номенклатура
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	НоменклатураТара.Номенклатура
	|ИЗ
	|	НоменклатураТара КАК НоменклатураТара");

ТабНоменклатурыТары = Запрос.Выполнить().Выгрузить();
ТабНоменклатурыТары.Индексы.Добавить("Номенклатура");

Параметры.ТабНоменклатурыТары = ТабНоменклатурыТары;

// Определим, используются ли ордерные склады

Запрос = Новый Запрос("
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	Док.Ссылка
	|ИЗ
	|	Документ.ПриходныйОрдерНаТовары КАК Док
	|ГДЕ
	|	Док.Проведен = ИСТИНА
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	Док.Ссылка
	|ИЗ
	|	Документ.РасходныйОрдерНаТовары КАК Док
	|ГДЕ
	|	Док.Проведен = ИСТИНА
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	Док.Ссылка
	|ИЗ
	|	Документ.ПоступлениеТоваровУслуг КАК Док
	|ГДЕ
	|	Док.ВидПоступления = ЗНАЧЕНИЕ(Перечисление.ВидыПоступленияТоваров.ПоОрдеру)
	|	И Док.Проведен = ИСТИНА
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	Док.Ссылка
	|ИЗ
	|	Документ.РеализацияТоваровУслуг КАК Док
	|ГДЕ
	|	Док.ВидПередачи = ЗНАЧЕНИЕ(Перечисление.ВидыПередачиТоваров.ПоОрдеру)
	|	И Док.Проведен = ИСТИНА
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	Док.Ссылка
	|ИЗ
	|	Документ.ВозвратТоваровПоставщику КАК Док
	|ГДЕ
	|	Док.ВидПередачи = ЗНАЧЕНИЕ(Перечисление.ВидыПередачиТоваров.ПоОрдеру)
	|	И Док.Проведен = ИСТИНА
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	Док.Ссылка
	|ИЗ
	|	Документ.ВозвратТоваровОтПокупателя КАК Док
	|ГДЕ
	|	Док.ВидПоступления = ЗНАЧЕНИЕ(Перечисление.ВидыПоступленияТоваров.ПоОрдеру)
	|	И Док.Проведен = ИСТИНА");
Параметры.ИспользоватьОрдерныеСклады = Не Запрос.Выполнить().Пустой();

Параметры.ТабАлкогольнаяПродукцияНоменклатуры = Новый ТаблицаЗначений;
Параметры.ТабАлкогольнаяПродукцияНоменклатуры.Колонки.Добавить("Номенклатура");
Параметры.ТабАлкогольнаяПродукцияНоменклатуры.Колонки.Добавить("АлкогольнаяПродукция");
Параметры.ТабАлкогольнаяПродукцияНоменклатуры.Колонки.Добавить("ВидАлкогольнойПродукции");
Параметры.ТабАлкогольнаяПродукцияНоменклатуры.Колонки.Добавить("ВестиУчетПоГТД");
</ПередВыгрузкойДанных>
	<ПередЗагрузкойДанных>Параметры.Вставить("ЗагруженыРасчетныеСчета",         Ложь);
Параметры.Вставить("ЗагруженыВалюты",                 Ложь);
Параметры.Вставить("ЗагруженыКассы",                  Ложь);
Параметры.Вставить("ЗагруженыВидыЦен",                Ложь);
Параметры.Вставить("ЗагруженыСклады",                 Ложь);
Параметры.Вставить("ЗагруженыРолиКонтактныхЛиц",      Ложь);
Параметры.Вставить("ЗагруженыГруппыДоступаПартнеров", Ложь);
Параметры.Вставить("ЗагруженыПОЗаказовКлиентов",      Ложь);

ЗагруженныеОбъектыПереноса = Новый ТаблицаЗначений;
ЗагруженныеОбъектыПереноса.Колонки.Добавить("ИмяПКО");
ЗагруженныеОбъектыПереноса.Колонки.Добавить("Объект");
ЗагруженныеОбъектыПереноса.Колонки.Добавить("Параметры");

Параметры.Вставить("ЗагруженныеОбъектыПереноса", ЗагруженныеОбъектыПереноса);

Константы.КонтролироватьУникальностьРабочегоНаименованияНоменклатурыИХарактеристик.Установить(Ложь);

Параметры.Вставить("ЭтоБазоваяВерсия", Метаданные.Имя = "УправлениеТорговлейБазовая");
Параметры.Вставить("ЗагруженыБизнесРегионы", Ложь);

Дерево = Справочники.УпаковкиЕдиницыИзмерения.ПолучитьДанныеКлассификатора();
Соответствие = Новый Соответствие;
Для Каждого СтрокаУровень1 Из Дерево.Строки Цикл
	Для Каждого СтрокаУровень2 Из СтрокаУровень1.Строки Цикл
		Для Каждого СтрокаУровень3 Из СтрокаУровень2.Строки Цикл
			Если ЗначениеЗаполнено(СтрокаУровень3.ТипИзмеряемойВеличины) Тогда
				СтруктураРеквизитов = Новый Структура("ТипИзмеряемойВеличины,Числитель,Знаменатель",
				Перечисления.ТипыИзмеряемыхВеличин[СтрокаУровень3.ТипИзмеряемойВеличины]);
				ЗаполнитьЗначенияСвойств(СтруктураРеквизитов, СтрокаУровень3,,"ТипИзмеряемойВеличины");
				Соответствие.Вставить(СокрЛП(СтрокаУровень3.КодЧисловой), СтруктураРеквизитов);
			КонецЕсли;
		КонецЦикла;
	КонецЦикла;
КонецЦикла;
Параметры.Вставить("Соответствие", Соответствие);</ПередЗагрузкойДанных>
	<ПослеЗагрузкиДанных>


Если Параметры.ЗагруженыНовыеПользователи Тогда
	ПользователиСлужебный.ОбновитьСоставыГруппПользователей(Справочники.ГруппыПользователей.ВсеПользователи);
КонецЕсли;

</ПослеЗагрузкиДанных>
	<ПередКонвертациейОбъекта>Если ТипЗнч(ВходящиеДанные) &lt;&gt; Тип("Структура") Тогда
	ВходящиеДанные = Новый Структура;
КонецЕсли;

Если ТипЗнч(ИсходящиеДанные) &lt;&gt; Тип("Структура") Тогда
	ИсходящиеДанные = Новый Структура;
КонецЕсли;</ПередКонвертациейОбъекта>
	<Параметры/>
	<Обработки/>
	<ПравилаКонвертацииОбъектов>
		<Группа>
			<Код>Перечисления</Код>
			<Наименование>Перечисления</Наименование>
			<Порядок>50</Порядок>
			<Правило>
				<Код>ABCКлассификация</Код>
				<Наименование>Перечисление: ABC Классификация</Наименование>
				<Источник>ПеречислениеСсылка.ABCКлассификация</Источник>
				<Приемник>ПеречислениеСсылка.ABCКлассификация</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>AКласс --&gt; AКласс</Наименование>
						<Порядок>50</Порядок>
						<Источник>AКласс</Источник>
						<Приемник>AКласс</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>BКласс --&gt; BКласс</Наименование>
						<Порядок>100</Порядок>
						<Источник>BКласс</Источник>
						<Приемник>BКласс</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>CКласс --&gt; CКласс</Наименование>
						<Порядок>150</Порядок>
						<Источник>CКласс</Источник>
						<Приемник>CКласс</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>XYZКлассификация</Код>
				<Наименование>Перечисление: XYZ Классификация</Наименование>
				<Источник>ПеречислениеСсылка.XYZКлассификация</Источник>
				<Приемник>ПеречислениеСсылка.XYZКлассификация</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>XКласс --&gt; XКласс</Наименование>
						<Порядок>50</Порядок>
						<Источник>XКласс</Источник>
						<Приемник>XКласс</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>YКласс --&gt; YКласс</Наименование>
						<Порядок>100</Порядок>
						<Источник>YКласс</Источник>
						<Приемник>YКласс</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ZКласс --&gt; ZКласс</Наименование>
						<Порядок>150</Порядок>
						<Источник>ZКласс</Источник>
						<Приемник>ZКласс</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВедениеВзаиморасчетовПоДоговорам_ПорядокРасчетов</Код>
				<Наименование>Перечисление: Ведение взаиморасчетов по договорам</Наименование>
				<Источник>ПеречислениеСсылка.ВедениеВзаиморасчетовПоДоговорам</Источник>
				<Приемник>ПеречислениеСсылка.ПорядокРасчетов</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ПоДоговоруВЦелом --&gt; ПоДоговорамКонтрагентов</Наименование>
						<Порядок>50</Порядок>
						<Источник>ПоДоговоруВЦелом</Источник>
						<Приемник>ПоДоговорамКонтрагентов</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ПоЗаказам --&gt; ПоЗаказамНакладным</Наименование>
						<Порядок>100</Порядок>
						<Источник>ПоЗаказам</Источник>
						<Приемник>ПоЗаказамНакладным</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ПоСчетам --&gt; ПоЗаказамНакладным</Наименование>
						<Порядок>150</Порядок>
						<Источник>ПоСчетам</Источник>
						<Приемник>ПоЗаказамНакладным</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыАгентскихДоговоров</Код>
				<Наименование>Перечисление: Виды агентских договоров</Наименование>
				<Источник>ПеречислениеСсылка.ВидыАгентскихДоговоров</Источник>
				<Приемник>ПеречислениеСсылка.ВидыАгентскихДоговоров</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Аренда --&gt; Аренда</Наименование>
						<Порядок>50</Порядок>
						<Источник>Аренда</Источник>
						<Приемник>Аренда</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Нерезидент --&gt; Нерезидент</Наименование>
						<Порядок>100</Порядок>
						<Источник>Нерезидент</Источник>
						<Приемник>Нерезидент</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>РеализацияИмущества --&gt; РеализацияИмущества</Наименование>
						<Порядок>150</Порядок>
						<Источник>РеализацияИмущества</Источник>
						<Приемник>РеализацияИмущества</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыДоговоровКонтрагентов_ХозяйственныеОперации</Код>
				<Наименование>Перечисление: Виды договоров контрагентов</Наименование>
				<Источник>ПеречислениеСсылка.ВидыДоговоровКонтрагентов</Источник>
				<Приемник>ПеречислениеСсылка.ХозяйственныеОперации</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>СКомиссионером --&gt; ПередачаНаКомиссию</Наименование>
						<Порядок>50</Порядок>
						<Источник>СКомиссионером</Источник>
						<Приемник>ПередачаНаКомиссию</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>СКомитентом --&gt; ПриемНаКомиссию</Наименование>
						<Порядок>100</Порядок>
						<Источник>СКомитентом</Источник>
						<Приемник>ПриемНаКомиссию</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>СПокупателем --&gt; РеализацияКлиенту</Наименование>
						<Порядок>150</Порядок>
						<Источник>СПокупателем</Источник>
						<Приемник>РеализацияКлиенту</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>СПоставщиком --&gt; ЗакупкаУПоставщика</Наименование>
						<Порядок>200</Порядок>
						<Источник>СПоставщиком</Источник>
						<Приемник>ЗакупкаУПоставщика</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыИнформационныхКарт_ТипыКарт</Код>
				<Наименование>Перечисление: Виды информационных карт</Наименование>
				<Источник>ПеречислениеСсылка.ВидыИнформационныхКарт</Источник>
				<Приемник>ПеречислениеСсылка.ТипыКарт</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Магнитная --&gt; Магнитная</Наименование>
						<Порядок>50</Порядок>
						<Источник>Магнитная</Источник>
						<Приемник>Магнитная</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Штриховая --&gt; Штриховая</Наименование>
						<Порядок>100</Порядок>
						<Источник>Штриховая</Источник>
						<Приемник>Штриховая</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ДниНедели</Код>
				<Наименование>Перечисление: Дни недели</Наименование>
				<Источник>ПеречислениеСсылка.ДниНедели</Источник>
				<Приемник>ПеречислениеСсылка.ДниНедели</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Воскресенье --&gt; Воскресенье</Наименование>
						<Порядок>50</Порядок>
						<Источник>Воскресенье</Источник>
						<Приемник>Воскресенье</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Вторник --&gt; Вторник</Наименование>
						<Порядок>100</Порядок>
						<Источник>Вторник</Источник>
						<Приемник>Вторник</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>Понедельник --&gt; Понедельник</Наименование>
						<Порядок>150</Порядок>
						<Источник>Понедельник</Источник>
						<Приемник>Понедельник</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Пятница --&gt; Пятница</Наименование>
						<Порядок>200</Порядок>
						<Источник>Пятница</Источник>
						<Приемник>Пятница</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>Среда --&gt; Среда</Наименование>
						<Порядок>250</Порядок>
						<Источник>Среда</Источник>
						<Приемник>Среда</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>Суббота --&gt; Суббота</Наименование>
						<Порядок>300</Порядок>
						<Источник>Суббота</Источник>
						<Приемник>Суббота</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>Четверг --&gt; Четверг</Наименование>
						<Порядок>350</Порядок>
						<Источник>Четверг</Источник>
						<Приемник>Четверг</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ДополнительнаяКолонкаПечатныхФормДокументов</Код>
				<Наименование>Перечисление: Дополнительная колонка печатных форм документов</Наименование>
				<Источник>ПеречислениеСсылка.ДополнительнаяКолонкаПечатныхФормДокументов</Источник>
				<Приемник>ПеречислениеСсылка.ДополнительнаяКолонкаПечатныхФормДокументов</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Артикул --&gt; Артикул</Наименование>
						<Порядок>50</Порядок>
						<Источник>Артикул</Источник>
						<Приемник>Артикул</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник>Код</Источник>
						<Приемник>Код</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>НеВыводить --&gt; НеВыводить</Наименование>
						<Порядок>150</Порядок>
						<Источник>НеВыводить</Источник>
						<Приемник>НеВыводить</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>Перечисление_ОтветственныеЛицаОрганизаций</Код>
				<Наименование>Перечисление: Ответственные лица организации</Наименование>
				<Источник>ПеречислениеСсылка.ОтветственныеЛицаОрганизации</Источник>
				<Приемник>ПеречислениеСсылка.ОтветственныеЛицаОрганизаций</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ГлавныйБухгалтер --&gt; ГлавныйБухгалтер</Наименование>
						<Порядок>50</Порядок>
						<Источник>ГлавныйБухгалтер</Источник>
						<Приемник>ГлавныйБухгалтер</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Кассир --&gt; Кассир</Наименование>
						<Порядок>100</Порядок>
						<Источник>Кассир</Источник>
						<Приемник>Кассир</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>Руководитель --&gt; Руководитель</Наименование>
						<Порядок>150</Порядок>
						<Источник>Руководитель</Источник>
						<Приемник>Руководитель</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>Периодичность</Код>
				<Наименование>Перечисление: Периодичность</Наименование>
				<Источник>ПеречислениеСсылка.Периодичность</Источник>
				<Приемник>ПеречислениеСсылка.Периодичность</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Год --&gt; Год</Наименование>
						<Порядок>50</Порядок>
						<Источник>Год</Источник>
						<Приемник>Год</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Декада --&gt; Декада</Наименование>
						<Порядок>100</Порядок>
						<Источник>Декада</Источник>
						<Приемник>Декада</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>День --&gt; День</Наименование>
						<Порядок>150</Порядок>
						<Источник>День</Источник>
						<Приемник>День</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Квартал --&gt; Квартал</Наименование>
						<Порядок>200</Порядок>
						<Источник>Квартал</Источник>
						<Приемник>Квартал</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>Месяц --&gt; Месяц</Наименование>
						<Порядок>250</Порядок>
						<Источник>Месяц</Источник>
						<Приемник>Месяц</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>Неделя --&gt; Неделя</Наименование>
						<Порядок>300</Порядок>
						<Источник>Неделя</Источник>
						<Приемник>Неделя</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>Полугодие --&gt; Полугодие</Наименование>
						<Порядок>350</Порядок>
						<Источник>Полугодие</Источник>
						<Приемник>Полугодие</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>СпособыРасчетаКомиссионногоВознаграждения</Код>
				<Наименование>Перечисление: Способы расчета комиссионного вознаграждения</Наименование>
				<Источник>ПеречислениеСсылка.СпособыРасчетаКомиссионногоВознаграждения</Источник>
				<Приемник>ПеречислениеСсылка.СпособыРасчетаКомиссионногоВознаграждения</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>НеРассчитывается --&gt; НеРассчитывается</Наименование>
						<Порядок>50</Порядок>
						<Источник>НеРассчитывается</Источник>
						<Приемник>НеРассчитывается</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ПроцентОтСуммыПродажи --&gt; ПроцентОтСуммыПродажи</Наименование>
						<Порядок>100</Порядок>
						<Источник>ПроцентОтСуммыПродажи</Источник>
						<Приемник>ПроцентОтСуммыПродажи</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ПроцентОтПрибыли --&gt; ПроцентОтРазностиСуммыПродажи</Наименование>
						<Порядок>150</Порядок>
						<Источник>ПроцентОтПрибыли</Источник>
						<Приемник>ПроцентОтРазностиСуммыПродажиИСуммыКомитента</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ТипыДоговоров</Код>
				<Наименование>Перечисление: Виды договоров контрагентов</Наименование>
				<Источник>ПеречислениеСсылка.ВидыДоговоровКонтрагентов</Источник>
				<Приемник>ПеречислениеСсылка.ТипыДоговоров</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Прочее --&gt; СПоставщиком</Наименование>
						<Порядок>50</Порядок>
						<Источник>Прочее</Источник>
						<Приемник>СПоставщиком</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>СКомиссионером --&gt; СКомиссионером</Наименование>
						<Порядок>100</Порядок>
						<Источник>СКомиссионером</Источник>
						<Приемник>СКомиссионером</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>СКомитентом --&gt; СКомитентом</Наименование>
						<Порядок>150</Порядок>
						<Источник>СКомитентом</Источник>
						<Приемник>СКомитентом</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>СПокупателем --&gt; СПокупателем</Наименование>
						<Порядок>200</Порядок>
						<Источник>СПокупателем</Источник>
						<Приемник>СПокупателем</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>СПоставщиком --&gt; СПоставщиком</Наименование>
						<Порядок>250</Порядок>
						<Источник>СПоставщиком</Источник>
						<Приемник>СПоставщиком</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ТипыНоменклатуры</Код>
				<Наименование>Перечисление: Типы номенклатуры</Наименование>
				<Источник>ПеречислениеСсылка.ТипыНоменклатуры</Источник>
				<Приемник>ПеречислениеСсылка.ТипыНоменклатуры</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Товар --&gt; Товар</Наименование>
						<Порядок>50</Порядок>
						<Источник>Товар</Источник>
						<Приемник>Товар</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Услуга --&gt; Услуга</Наименование>
						<Порядок>100</Порядок>
						<Источник>Услуга</Источник>
						<Приемник>Услуга</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>Комплект --&gt; Товар</Наименование>
						<Порядок>150</Порядок>
						<Источник>Комплект</Источник>
						<Приемник>Набор</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Набор --&gt; Товар</Наименование>
						<Порядок>200</Порядок>
						<Источник>Набор</Источник>
						<Приемник>Набор</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>Условия_УсловияПредоставленияСкидокНаценок</Код>
				<Наименование>Перечисление: Условия скидки наценки</Наименование>
				<Источник>ПеречислениеСсылка.УсловияСкидкиНаценки</Источник>
				<Приемник>ПеречислениеСсылка.УсловияПредоставленияСкидокНаценок</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ПоВидуОплаты --&gt; ЗаФормуОплаты</Наименование>
						<Порядок>50</Порядок>
						<Источник>ПоВидуОплаты</Источник>
						<Приемник>ЗаФормуОплаты</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ПоСуммеДокумента --&gt; ЗаРазовыйОбъемПродаж</Наименование>
						<Порядок>100</Порядок>
						<Источник>ПоСуммеДокумента</Источник>
						<Приемник>ЗаРазовыйОбъемПродаж</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ФормыОплаты</Код>
				<Наименование>Перечисление: Типы оплат чека ККМ</Наименование>
				<Источник>ПеречислениеСсылка.ТипыОплатЧекаККМ</Источник>
				<Приемник>ПеречислениеСсылка.ФормыОплаты</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>БанковскийКредит --&gt; Безналичная</Наименование>
						<Порядок>50</Порядок>
						<Источник>БанковскийКредит</Источник>
						<Приемник>Безналичная</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Наличные --&gt; Наличная</Наименование>
						<Порядок>100</Порядок>
						<Источник>Наличные</Источник>
						<Приемник>Наличная</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ПлатежнаяКарта --&gt; ПлатежнаяКарта</Наименование>
						<Порядок>150</Порядок>
						<Источник>ПлатежнаяКарта</Источник>
						<Приемник>ПлатежнаяКарта</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ЮрФизЛицо_КомпанияЧастноеЛицо</Код>
				<Наименование>Перечисление: Юр. / физ. лицо</Наименование>
				<Источник>ПеречислениеСсылка.ЮрФизЛицо</Источник>
				<Приемник>ПеречислениеСсылка.КомпанияЧастноеЛицо</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ФизЛицо --&gt; ЧастноеЛицо</Наименование>
						<Порядок>50</Порядок>
						<Источник>ФизЛицо</Источник>
						<Приемник>ЧастноеЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ЮрЛицо --&gt; Компания</Наименование>
						<Порядок>100</Порядок>
						<Источник>ЮрЛицо</Источник>
						<Приемник>Компания</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>СтавкиНДС</Код>
				<Наименование>Перечисление: Ставки НДС</Наименование>
				<Порядок>50</Порядок>
				<Источник>ПеречислениеСсылка.СтавкиНДС</Источник>
				<Приемник>ПеречислениеСсылка.СтавкиНДС</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>БезНДС --&gt; БезНДС</Наименование>
						<Порядок>50</Порядок>
						<Источник>БезНДС</Источник>
						<Приемник>БезНДС</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>НДС0 --&gt; НДС0</Наименование>
						<Порядок>100</Порядок>
						<Источник>НДС0</Источник>
						<Приемник>НДС18</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>НДС10 --&gt; НДС10</Наименование>
						<Порядок>150</Порядок>
						<Источник>НДС10</Источник>
						<Приемник>НДС10</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>НДС18 --&gt; НДС18</Наименование>
						<Порядок>200</Порядок>
						<Источник>НДС18</Источник>
						<Приемник>НДС18</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>НДС10_110 --&gt; НДС10_110</Наименование>
						<Порядок>250</Порядок>
						<Источник>НДС10_110</Источник>
						<Приемник>НДС10_110</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>НДС18_118 --&gt; НДС18_118</Наименование>
						<Порядок>300</Порядок>
						<Источник>НДС18_118</Источник>
						<Приемник>НДС18_118</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>НДС20 --&gt; НДС18</Наименование>
						<Порядок>350</Порядок>
						<Источник>НДС20</Источник>
						<Приемник>НДС18</Приемник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>НДС20_120 --&gt; НДС18_118</Наименование>
						<Порядок>400</Порядок>
						<Источник>НДС20_120</Источник>
						<Приемник>НДС18_118</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ЮрФизЛицо_ЮридическоеФизическоеЛицо</Код>
				<Наименование>Перечисление: Юр. / физ. лицо</Наименование>
				<Порядок>100</Порядок>
				<Источник>ПеречислениеСсылка.ЮрФизЛицо</Источник>
				<Приемник>ПеречислениеСсылка.ЮридическоеФизическоеЛицо</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ФизЛицо --&gt; ФизическоеЛицо</Наименование>
						<Порядок>50</Порядок>
						<Источник>ФизЛицо</Источник>
						<Приемник>ФизическоеЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ЮрЛицо --&gt; ЮридическоеЛицо</Наименование>
						<Порядок>100</Порядок>
						<Источник>ЮрЛицо</Источник>
						<Приемник>ЮридическоеЛицо</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ЮрФизЛицо</Код>
				<Наименование>Перечисление: Юр. / физ. лицо</Наименование>
				<Порядок>150</Порядок>
				<Источник>ПеречислениеСсылка.ЮрФизЛицо</Источник>
				<Приемник>ПеречислениеСсылка.ЮрФизЛицо</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ФизЛицо --&gt; ФизЛицо</Наименование>
						<Порядок>50</Порядок>
						<Источник>ФизЛицо</Источник>
						<Приемник>ФизЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ЮрЛицо --&gt; ЮрЛицо</Наименование>
						<Порядок>100</Порядок>
						<Источник>ЮрЛицо</Источник>
						<Приемник>ЮрЛицо</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ТипыСкладов</Код>
				<Наименование>Перечисление: Виды складов</Наименование>
				<Порядок>200</Порядок>
				<Источник>ПеречислениеСсылка.ВидыСкладов</Источник>
				<Приемник>ПеречислениеСсылка.ТипыСкладов</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Оптовый --&gt; ОптовыйСклад</Наименование>
						<Порядок>50</Порядок>
						<Источник>Оптовый</Источник>
						<Приемник>ОптовыйСклад</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Розничный --&gt; РозничныйМагазин</Наименование>
						<Порядок>100</Порядок>
						<Источник>Розничный</Источник>
						<Приемник>РозничныйМагазин</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>НТТ --&gt; РозничныйМагазин</Наименование>
						<Порядок>150</Порядок>
						<Источник>НТТ</Источник>
						<Приемник>РозничныйМагазин</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>МетодыОценкиСтоимостиТоваров</Код>
				<Наименование>Перечисление: Способы оценки</Наименование>
				<Порядок>250</Порядок>
				<Источник>ПеречислениеСсылка.СпособыОценки</Источник>
				<Приемник>ПеречислениеСсылка.МетодыОценкиСтоимостиТоваров</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ПоСредней --&gt; СредняяЗаМесяц</Наименование>
						<Порядок>50</Порядок>
						<Источник>ПоСредней</Источник>
						<Приемник>СредняяЗаМесяц</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ФИФО --&gt; ФИФОВзвешеннаяОценка</Наименование>
						<Порядок>100</Порядок>
						<Источник>ФИФО</Источник>
						<Приемник>ФИФОВзвешеннаяОценка</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ТипыКонтактнойИнформации</Код>
				<Наименование>Перечисление: Типы контактной информации</Наименование>
				<Порядок>300</Порядок>
				<Источник>ПеречислениеСсылка.ТипыКонтактнойИнформации</Источник>
				<Приемник>ПеречислениеСсылка.ТипыКонтактнойИнформации</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Адрес --&gt; Адрес</Наименование>
						<Порядок>50</Порядок>
						<Источник>Адрес</Источник>
						<Приемник>Адрес</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>АдресЭлектроннойПочты --&gt; АдресЭлектроннойПочты</Наименование>
						<Порядок>100</Порядок>
						<Источник>АдресЭлектроннойПочты</Источник>
						<Приемник>АдресЭлектроннойПочты</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ВебСтраница --&gt; ВебСтраница</Наименование>
						<Порядок>150</Порядок>
						<Источник>ВебСтраница</Источник>
						<Приемник>ВебСтраница</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Другое --&gt; Другое</Наименование>
						<Порядок>200</Порядок>
						<Источник>Другое</Источник>
						<Приемник>Другое</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>Телефон --&gt; Телефон</Наименование>
						<Порядок>250</Порядок>
						<Источник>Телефон</Источник>
						<Приемник>Телефон</Приемник>
					</Значение>
				</Значения>
			</Правило>
		</Группа>
		<Группа>
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>100</Порядок>
			<Группа>
				<Код>БазовыеКлассификаторы</Код>
				<Наименование>Базовые классификаторы</Наименование>
				<Порядок>50</Порядок>
				<Правило>
					<Код>КлассификаторЕдиницИзмерения_ЕдиницыИзмерения</Код>
					<Наименование>Классификатор единиц измерения -&gt; Единицы измерения</Наименование>
					<ПослеЗагрузки>Объект.Владелец = Справочники.НаборыУпаковок.БазовыеЕдиницыИзмерения;
Объект.ТипИзмеряемойВеличины = Перечисления.ТипыИзмеряемыхВеличин.ПустаяСсылка();
Справочники.УпаковкиЕдиницыИзмерения.ОтработатьЛогикуСвязиРеквизитов(Объект);
ДанныеКлассификатора = Параметры.Соответствие.Получить(СокрЛП(Объект.Код));
Если ДанныеКлассификатора &lt;&gt; Неопределено Тогда
	ЗаполнитьЗначенияСвойств(Объект, ДанныеКлассификатора); // Числитель, Знаменатель, ТипИзмеряемойВеличины
КонецЕсли;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Источник>СправочникСсылка.КлассификаторЕдиницИзмерения</Источник>
					<Приемник>СправочникСсылка.УпаковкиЕдиницыИзмерения</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>МеждународноеСокращение --&gt; МеждународноеСокращение</Наименование>
							<Источник Имя="МеждународноеСокращение" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="МеждународноеСокращение" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>Банки</Код>
					<Наименование>Банки</Наименование>
					<Порядок>50</Порядок>
					<Источник>СправочникСсылка.Банки</Источник>
					<Приемник>СправочникСсылка.КлассификаторБанков</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование>Адрес --&gt; Адрес</Наименование>
							<Источник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Город --&gt; Город</Наименование>
							<Источник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>5</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>КоррСчет --&gt; КоррСчет</Наименование>
							<Источник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Банки"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.КлассификаторБанков"/>
							<КодПравилаКонвертации>Банки                                             </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Телефоны --&gt; Телефоны</Наименование>
							<Источник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>9</Код>
							<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
							<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>БизнесРегионы</Код>
					<Наименование>Справочник: Регионы</Наименование>
					<Порядок>100</Порядок>
					<ПослеЗагрузки>Параметры.ЗагруженыБизнесРегионы = Истина;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Источник>СправочникСсылка.Регионы</Источник>
					<Приемник>СправочникСсылка.БизнесРегионы</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Регионы"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.БизнесРегионы"/>
							<КодПравилаКонвертации>БизнесРегионы                                     </КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>КлассификаторСтранМираСтраныМира</Код>
					<Наименование>Страны мира</Наименование>
					<Порядок>150</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Источник>СправочникСсылка.КлассификаторСтранМира</Источник>
					<Приемник>СправочникСсылка.СтраныМира</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>КодАльфа2 --&gt; КодАльфа2</Наименование>
							<Источник Имя="КодАльфа2" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КодАльфа2" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения>
						<Значение>
							<Код>1</Код>
							<Наименование>Россия --&gt; Россия</Наименование>
							<Порядок>50</Порядок>
							<Источник>Россия</Источник>
							<Приемник>Россия</Приемник>
						</Значение>
					</Значения>
				</Правило>
				<Правило>
					<Код>Валюты</Код>
					<Наименование>Валюты</Наименование>
					<Порядок>200</Порядок>
					<ПослеЗагрузки>Параметры.ЗагруженыВалюты = Истина;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Источник>СправочникСсылка.Валюты</Источник>
					<Приемник>СправочникСсылка.Валюты</Приемник>
					<Свойства>
						<Свойство>
							<Код>6</Код>
							<Наименование> --&gt; ЗагружаетсяИзИнтернета</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ЗагружаетсяИзИнтернета" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>--&gt; СпособУстановкиКурса</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СпособУстановкиКурса" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыУстановкиКурсаВалюты"/>
							<ПередВыгрузкой>Значение = "ЗагрузкаИзИнтернета";</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПараметрыПрописиНаРусском --&gt; ПараметрыПрописи</Наименование>
							<Источник Имя="ПараметрыПрописиНаРусском" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ПараметрыПрописи" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>ГруппаНоменклатура</Код>
				<Наименование>ГруппаНоменклатура</Наименование>
				<Порядок>100</Порядок>
				<Правило>
					<Код>КомплектующиеВВариантыКомплектацииНоменклатуры</Код>
					<Наименование>Регистр сведений: Комплектующие номенклатуры</Наименование>
					<ПослеЗагрузки>Если Объект.Товары.Количество() &gt; 0 И Не ЗначениеЗаполнено(Объект.НоменклатураОсновногоКомпонента) Тогда
	Объект.НоменклатураОсновногоКомпонента = Объект.Товары.Получить(0).Номенклатура;
	Объект.ХарактеристикаОсновногоКомпонента = Объект.Товары.Получить(0).Характеристика;
КонецЕсли;</ПослеЗагрузки>
					<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
					<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
					<Источник>РегистрСведенийЗапись.КомплектующиеНоменклатуры</Источник>
					<Приемник>СправочникСсылка.ВариантыКомплектацииНоменклатуры</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование> --&gt; Владелец</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование> --&gt; Наименование</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование> --&gt; Основной</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Основной" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование> --&gt; ПометкаУдаления</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; ВариантПредставленияНабораВПечатныхФормах</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВариантПредставленияНабораВПечатныхФормах" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыПредставленияНаборовВПечатныхФормах"/>
							<ПередВыгрузкой>Значение = "ТолькоНабор";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; ВариантРасчетаЦеныНабора</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВариантРасчетаЦеныНабора" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыРасчетаЦенНаборов"/>
							<ПередВыгрузкой>Значение = "ЦенаЗадаетсяЗаНаборРаспределяетсяПоЦенам";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; Количество</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; КоличествоУпаковок</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КоличествоУпаковок" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>6</Код>
							<Наименование> --&gt; Товары</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>7</Код>
								<Наименование> --&gt; ДоляСтоимости</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДоляСтоимости" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование> --&gt; Количество</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование> --&gt; КоличествоУпаковок</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КоличествоУпаковок" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование> --&gt; Номенклатура</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>--&gt; Упаковка</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Упаковка" Вид="Реквизит" Тип="СправочникСсылка.УпаковкиЕдиницыИзмерения"/>
								<КодПравилаКонвертации>ЕдиницыИзмерения_Упаковки                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>--&gt; Характеристика</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Характеристика" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
								<КодПравилаКонвертации>ХарактеристикиНоменклатуры                        </КодПравилаКонвертации>
								<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если Параметры.ИспользоватьХарактеристикиНоменклатуры
	И ОбъектКоллекции.Номенклатура.ВестиУчетПоХарактеристикам
	И НЕ ЗначениеЗаполнено(ОбъектКоллекции.Характеристика) Тогда
	ИсходящиеДанные.Вставить("Владелец", ОбъектКоллекции.Номенклатура);
	Значение = Новый Структура("Ссылка");
	ИмяПКО = "ПустаяХарактеристикаНоменклатуры";	
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>--&gt; Характеристика</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Характеристика" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
							<КодПравилаКонвертации>ХарактеристикиНоменклатуры                        </КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Группа>
					<Код>Серии</Код>
					<Наименование>Серии</Наименование>
					<Порядок>50</Порядок>
					<Правило>
						<Код>СерииНоменклатуры</Код>
						<Наименование>Справочник: Серии номенклатуры</Наименование>
						<ПередВыгрузкой>КлючВыгружаемыхДанных = Источник.Наименование;</ПередВыгрузкой>
						<ПослеЗагрузки>Выполнить(Алгоритмы.СерииНоменклатуры_ЗаполнитьНаименованиеПоШаблону);</ПослеЗагрузки>
						<Источник>СправочникСсылка.СерииНоменклатуры</Источник>
						<Приемник>СправочникСсылка.СерииНоменклатуры</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>4</Код>
								<Наименование>--&gt; ВидНоменклатуры</Наименование>
								<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидНоменклатуры" Вид="Реквизит" Тип="СправочникСсылка.ВидыНоменклатуры"/>
								<КодПравилаКонвертации>ВидыНоменклатуры                                  </КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>3</Код>
								<Наименование>Наименование --&gt; Номер</Наименование>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>СрокГодности --&gt; ГоденДо</Наименование>
								<Источник Имя="СрокГодности" Вид="Реквизит" Тип="Дата"/>
								<Приемник Имя="ГоденДо" Вид="Реквизит" Тип="Дата"/>
								<ПриВыгрузке>Значение = ?(ЗначениеЗаполнено(Значение), Значение, Дата('19800101'));</ПриВыгрузке>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ПолитикиУчетаСерий_УчетОстатков</Код>
						<Наименование>:</Наименование>
						<Порядок>50</Порядок>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>СправочникСсылка.ПолитикиУчетаСерий</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>--&gt; Наименование</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
				<Правило>
					<Код>ВидыНоменклатуры</Код>
					<Наименование>Виды номенклатуры</Наименование>
					<Порядок>100</Порядок>
					<ПередВыгрузкой>Если ТипЗнч(Источник) = Тип("Структура") Тогда
	Если Не Источник.Свойство("АлкогольнаяПродукция") Тогда
		Источник.Вставить("АлкогольнаяПродукция", Ложь);
	КонецЕсли;
	Если Не Источник.Свойство("ИмпортнаяАлкогольнаяПродукция") Тогда
		Источник.Вставить("ИмпортнаяАлкогольнаяПродукция", Ложь);
	КонецЕсли;
	Если Не Источник.Свойство("ВидАлкогольнойПродукции") Тогда
		Источник.Вставить("ВидАлкогольнойПродукции", Справочники.ВидыАлкогольнойПродукции.ПустаяСсылка());
	КонецЕсли;
КонецЕсли;

ВходящиеДанные.Вставить("АлкогольнаяПродукция");
ВходящиеДанные.Вставить("ВидАлкогольнойПродукции");
ВходящиеДанные.Вставить("ИмпортнаяАлкогольнаяПродукция");
Попытка
	ВходящиеДанные.АлкогольнаяПродукция = Источник.АлкогольнаяПродукция;
Исключение
	ВходящиеДанные.АлкогольнаяПродукция = Ложь;
КонецПопытки;
Попытка
	ВходящиеДанные.ИмпортнаяАлкогольнаяПродукция = Источник.ИмпортнаяАлкогольнаяПродукция;
Исключение
	ВходящиеДанные.ИмпортнаяАлкогольнаяПродукция = Ложь;
КонецПопытки;
Попытка
	ВходящиеДанные.ВидАлкогольнойПродукции = Источник.ВидАлкогольнойПродукции;
Исключение
	ВходящиеДанные.ВидАлкогольнойПродукции = Неопределено;
КонецПопытки;

Если ТипЗнч(Источник) = Тип("Структура") Тогда
	
	ВходящиеДанные.Вставить("Наименование",					Лев(СокрЛП(Источник.Наименование), 50));
	ВходящиеДанные.Вставить("ИспользованиеХарактеристик",	Источник.ИспользованиеХарактеристик);
	ВходящиеДанные.Вставить("ИспользоватьСерии",			Источник.ИспользоватьСерии);
	
Иначе
	
	// Если передали объект, то на данный вид номенклатуры нет ссылок, выгружаем все по-минимуму
	ВходящиеДанные.Вставить("ИспользованиеХарактеристик", "НеИспользовать");
	
	Если ВходящиеДанные.АлкогольнаяПродукция Тогда
		Постфикс = "(" + НСтр("ru='б/х'") + ", " + НСтр("ru='алко'") + ")";
	Иначе	
		Постфикс = "(" + НСтр("ru='б/х'") + ")";
	КонецЕсли;	
	
	ВходящиеДанные.Вставить("Наименование", Лев(СокрЛП(Источник.Наименование), 49-СтрДлина(Постфикс)) + " " + Постфикс);
	ВходящиеДанные.Вставить("ИспользоватьСерии", Ложь);
	
КонецЕсли;</ПередВыгрузкой>
					<Источник>СправочникСсылка.ВидыНоменклатуры</Источник>
					<Приемник>СправочникСсылка.ВидыНоменклатуры</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>23</Код>
							<Наименование>--&gt; АлкогольнаяПродукция</Наименование>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="АлкогольнаяПродукция" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<НеЗамещать>true</НеЗамещать>
							<Код>12</Код>
							<Наименование>--&gt; ВариантОформленияПродажи</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВариантОформленияПродажи" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыОформленияПродажи"/>
							<ПередВыгрузкой>Значение = "РеализацияТоваровУслуг";</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>24</Код>
							<Наименование>--&gt; ВидАлкогольнойПродукции</Наименование>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидАлкогольнойПродукции" Вид="Реквизит" Тип="СправочникСсылка.ВидыАлкогольнойПродукции"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>25</Код>
							<Наименование>--&gt; ИмпортнаяАлкогольнаяПродукция</Наименование>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИмпортнаяАлкогольнаяПродукция" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>5</Код>
							<Наименование>--&gt; ИспользованиеХарактеристик</Наименование>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользованиеХарактеристик" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыИспользованияХарактеристикНоменклатуры"/>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; ИспользоватьКоличествоСерии</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьКоличествоСерии" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = ВходящиеДанные.ИспользоватьСерии;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; ИспользоватьНомерСерии</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьНомерСерии" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = ВходящиеДанные.ИспользоватьСерии;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; ИспользоватьСерии</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьСерии" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = ВходящиеДанные.ИспользоватьСерии;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; ИспользоватьСрокГодностиСерии</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьСрокГодностиСерии" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = ВходящиеДанные.ИспользоватьСерии;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; ИспользоватьХарактеристики</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьХарактеристики" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Если ВходящиеДанные.ИспользованиеХарактеристик = "НеИспользовать" Тогда
	Значение = Ложь;
Иначе
	Значение = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>8</Код>
							<Наименование>--&gt; НаборСвойств</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НаборСвойств" Вид="Реквизит" Тип="СправочникСсылка.НаборыДополнительныхРеквизитовИСведений"/>
							<КодПравилаКонвертации>НаборыСвойств                                     </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>7</Код>
							<Наименование>--&gt; НаборСвойствХарактеристик</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НаборСвойствХарактеристик" Вид="Реквизит" Тип="СправочникСсылка.НаборыДополнительныхРеквизитовИСведений"/>
							<КодПравилаКонвертации>НаборыСвойств                                     </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>--&gt; Наименование</Наименование>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; НастройкаИспользованияСерий</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НастройкаИспользованияСерий" Вид="Реквизит" Тип="ПеречислениеСсылка.НастройкиИспользованияСерийНоменклатуры"/>
							<ПередВыгрузкой>Если ВходящиеДанные.ИспользоватьСерии Тогда
	Значение = "ПартияТоваров";
Иначе
	Пусто = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>26</Код>
							<Наименование>--&gt; ПолитикаУчетаСерий</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПолитикаУчетаСерий" Вид="Реквизит" Тип="СправочникСсылка.ПолитикиУчетаСерий"/>
							<КодПравилаКонвертации>ПолитикиУчетаСерий_УчетОстатков                   </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = "1";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; ТочностьУказанияСрокаГодностиСерии</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТочностьУказанияСрокаГодностиСерии" Вид="Реквизит" Тип="ПеречислениеСсылка.ТочностиУказанияСрокаГодности"/>
							<ПередВыгрузкой>Значение = "СТочностьюДоДней";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>--&gt; ШаблонНаименованияДляПечатиНоменклатуры</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ШаблонНаименованияДляПечатиНоменклатуры" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = "[Наименование]";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>--&gt; ШаблонНаименованияДляПечатиХарактеристики</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ШаблонНаименованияДляПечатиХарактеристики" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = "[Наименование]";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>ТипНоменклатуры --&gt; ТипНоменклатуры</Наименование>
							<Источник Имя="ТипНоменклатуры" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыНоменклатуры"/>
							<Приемник Имя="ТипНоменклатуры" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыНоменклатуры"/>
							<ПриВыгрузке>Если ТипЗнч(Значение) &lt;&gt; Тип("Строка") Тогда	
	ИмяПКО = "ТипыНоменклатуры";	
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Группа>
							<Код>21</Код>
							<Наименование>--&gt; ПолитикиУчетаСерий</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПолитикиУчетаСерий" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Колонки.Добавить("ПолитикаУчетаСерий");
Если ВходящиеДанные.ИспользоватьСерии Тогда
	НоваяСтрока = КоллекцияОбъектов.Добавить();
КонецЕсли;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>22</Код>
								<Наименование> --&gt; ПолитикаУчетаСерий</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПолитикаУчетаСерий" Вид="Реквизит" Тип="СправочникСсылка.ПолитикиУчетаСерий"/>
								<КодПравилаКонвертации>ПолитикиУчетаСерий_УчетОстатков                   </КодПравилаКонвертации>
								<ПередВыгрузкой>Значение = "1";</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Группа>
					<Код>СправочникХарактеристики</Код>
					<Наименование>СправочникНоменклатура</Наименование>
					<Порядок>150</Порядок>
					<Правило>
						<Код>ХарактеристикиНоменклатуры</Код>
						<Наименование>Характеристики номенклатуры</Наименование>
						<Порядок>50</Порядок>
						<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.Наименование) Тогда 
иначе	
	Отказ = истина;
	Возврат;
КонецЕсли;



КлючВыгружаемыхДанных = Строка(Источник.Ссылка.УникальныйИдентификатор());
Если ВходящиеДанные.Свойство("Качество") Тогда
	// Переопределяем стандартый ключ выгружаемых данных, т.к. идет выгрузка один ко многим
	КлючВыгружаемыхДанных = КлючВыгружаемыхДанных + Строка(ВходящиеДанные.Качество.УникальныйИдентификатор());
КонецЕсли;

ВходящиеДанные.Вставить("АлкогольнаяПродукция");
ВходящиеДанные.Вставить("ВидАлкогольнойПродукции");
ВходящиеДанные.Вставить("ИмпортнаяАлкогольнаяПродукция");
Попытка
	ВходящиеДанные.АлкогольнаяПродукция = Источник.АлкогольнаяПродукция;
Исключение
	ВходящиеДанные.АлкогольнаяПродукция = Ложь;
КонецПопытки;
Попытка
	ВходящиеДанные.ИмпортнаяАлкогольнаяПродукция = Источник.ИмпортнаяАлкогольнаяПродукция;
Исключение
	ВходящиеДанные.ИмпортнаяАлкогольнаяПродукция = Ложь;
КонецПопытки;
Попытка
	ВходящиеДанные.ВидАлкогольнойПродукции = Источник.ВидАлкогольнойПродукции;
Исключение
	ВходящиеДанные.ВидАлкогольнойПродукции = Неопределено;
КонецПопытки;</ПередВыгрузкой>
						<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
						<Источник>СправочникСсылка.ХарактеристикиНоменклатуры</Источник>
						<Приемник>СправочникСсылка.ХарактеристикиНоменклатуры</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Владелец --&gt; Владелец</Наименование>
								<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Владелец" Вид="Свойство"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Если Параметры.СворачиватьХарактеристики Тогда
	
	ИмяПКО = "ВидыНоменклатуры";
	СоздатьВидНоменклатуры_Номенклатура                 = Источник.Владелец.Ссылка;
	СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = Источник.Владелец.ВидНоменклатуры.Наименование;
	СоздатьВидНоменклатуры_ТипНоменклатуры              = Источник.Владелец.ВидНоменклатуры.ТипНоменклатуры;
	СоздатьВидНоменклатуры_ИспользоватьСерии			= Источник.Владелец.ВестиУчетПоСериям;
	СоздатьВидНоменклатуры_ИмпортнаяАлкогольнаяПродукция = ВходящиеДанные.АлкогольнаяПродукция И ВходящиеДанные.ВестиУчетПоГТД;
	СоздатьВидНоменклатуры_АлкогольнаяПродукция          = ВходящиеДанные.АлкогольнаяПродукция;
	СоздатьВидНоменклатуры_ВидАлкогольнойПродукции       = ВходящиеДанные.ВидАлкогольнойПродукции;
	Выполнить(Алгоритмы.СоздатьВидНоменклатуры);
	
Иначе
	
	// Владельцем характеристики будет являться номенклатура, которая возможно является некачественной
	Если ВходящиеДанные.Свойство("Качество") Тогда
		ИсходящиеДанные.Вставить("Качество", ВходящиеДанные.Качество);
		ИмяПКО = "НекачественнаяНоменклатура";
	КонецЕсли;
	
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<НеЗамещать>true</НеЗамещать>
								<Код>7</Код>
								<Наименование>Наименование --&gt; НаименованиеПолное</Наименование>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Группа>
								<Код>4</Код>
								<Наименование> --&gt; ДополнительныеРеквизиты</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПереносСвойств);</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>6</Код>
									<Наименование> --&gt; Значение</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Значение" Вид="Реквизит"/>
								</Свойство>
								<Свойство>
									<Код>5</Код>
									<Наименование> --&gt; Свойство</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
									<КодПравилаКонвертации>СвойстваОбъектов_ДополнительныеРеквизитыИСведения </КодПравилаКонвертации>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ПустаяХарактеристикаНоменклатуры</Код>
						<Наименование>Характеристики номенклатуры</Наименование>
						<Порядок>100</Порядок>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
						<Источник>СправочникСсылка.ХарактеристикиНоменклатуры</Источник>
						<Приемник>СправочникСсылка.ХарактеристикиНоменклатуры</Приемник>
						<Свойства>
							<Свойство Отключить="true" Поиск="true">
								<Код>1</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство Отключить="true" Поиск="true">
								<Код>2</Код>
								<Наименование>Владелец --&gt; Владелец</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Владелец" Вид="Свойство"/>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
				<Правило>
					<Код>Номенклатура</Код>
					<Наименование>Номенклатура</Наименование>
					<Порядок>200</Порядок>
					<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.Наименование) Тогда
	Выполнить(Алгоритмы.ВходящиеДанныеНоменклатуры);
иначе
	Отказ = истина;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Если Не Объект.ЭтоГруппа Тогда
	//Занесем данные об объекте в таблицу отложенной обработки 
	НоваяСтрока = Параметры.ЗагруженныеОбъектыПереноса.Добавить();
	НоваяСтрока.ИмяПКО = "Номенклатура";
	НоваяСтрока.Объект = Объект;
	НоваяСтрока.Параметры = ПараметрыОбъекта;
КонецЕсли;

Объект.КодДляПоиска = ПрефиксацияОбъектовКлиентСервер.ПолучитьНомерНаПечать(Объект.Код, Истина);</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
					<Источник>СправочникСсылка.Номенклатура</Источник>
					<Приемник>СправочникСсылка.Номенклатура</Приемник>
					<Свойства>
						<Свойство>
							<Код>29</Код>
							<Наименование>--&gt; АлкогольнаяПродукция</Наименование>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="АлкогольнаяПродукция" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<НеЗамещать>true</НеЗамещать>
							<Код>24</Код>
							<Наименование>--&gt; ВариантОформленияПродажи</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВариантОформленияПродажи" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыОформленияПродажи"/>
							<ПередВыгрузкой>Значение = "РеализацияТоваровУслуг";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>--&gt; ВестиУчетПоГТД</Наименование>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВестиУчетПоГТД" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>30</Код>
							<Наименование>--&gt; ВидАлкогольнойПродукции</Наименование>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидАлкогольнойПродукции" Вид="Реквизит" Тип="СправочникСсылка.ВидыАлкогольнойПродукции"/>
							<КодПравилаКонвертации>ВидыАлкогольнойПродукции                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>31</Код>
							<Наименование>--&gt; ИмпортнаяАлкогольнаяПродукция</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИмпортнаяАлкогольнаяПродукция" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = ВходящиеДанные.АлкогольнаяПродукция И ВходящиеДанные.ВестиУчетПоГТД;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>--&gt; ИспользоватьУпаковки</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьУпаковки" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой> 
Значение = Ложь;
// Значение будет устанавливаться в "Истина" если есть единицы измерения, отличные от единицы хранения остатков

//Значение = Источник.ВидНоменклатуры.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.Товар;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>--&gt; Качество</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Качество" Вид="Реквизит" Тип="ПеречислениеСсылка.ГрадацииКачества"/>
							<ПередВыгрузкой>Значение = "Новый";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>--&gt; НаборУпаковок</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НаборУпаковок" Вид="Реквизит" Тип="СправочникСсылка.НаборыУпаковок"/>
							<ПередВыгрузкой>Если Параметры.ИспользоватьУпаковкиНоменклатуры
	И Источник.ВидНоменклатуры.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.Товар Тогда
	Значение = "ИндивидуальныйДляНоменклатуры";
Иначе
	Значение = Неопределено;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; ТипНоменклатуры</Наименование>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипНоменклатуры" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыНоменклатуры"/>
							<ПриВыгрузке>Если ТипЗнч(Значение) &lt;&gt; Тип("Строка") Тогда
	ИмяПКО = "ТипыНоменклатуры";
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Артикул --&gt; Артикул</Наименование>
							<Источник Имя="Артикул" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Артикул" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ВидНоменклатуры --&gt; ВидНоменклатуры</Наименование>
							<Источник Имя="ВидНоменклатуры" Вид="Реквизит" Тип="СправочникСсылка.ВидыНоменклатуры"/>
							<Приемник Имя="ВидНоменклатуры" Вид="Реквизит" Тип="СправочникСсылка.ВидыНоменклатуры"/>
							<КодПравилаКонвертации>ВидыНоменклатуры                                  </КодПравилаКонвертации>
							<ПередВыгрузкой>// Если номенклатура имеет характеристики, используем расширенные правила конвертации вида номенклатуры
// Наименование вида номенклатуры - наименование из Объекта назначения.
// Тип номенклатуры - из вида номенклатуры источника.
// Использование характеристик = Истина;
// Набор свойств номенклатуры - Создаем новый набор свойств через список свойств
// Набор свойств характеристик - Создаем новый набор свойств через список свойств

// Если номенклатура не имеет характеристик - то конвертируем стандартным способом

Если Не Источник.ЭтоГруппа Тогда
	
	СоздатьВидНоменклатуры_Номенклатура					= Источник.Ссылка;
	СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = ОбщегоНазначения.ПолучитьЗначениеРеквизита(Источник.ВидНоменклатуры, "Наименование");
	СоздатьВидНоменклатуры_ИспользоватьСерии			= Источник.ВестиУчетПоСериям И Параметры.РежимВыгрузкиСерий &gt; 0;
	СоздатьВидНоменклатуры_ТипНоменклатуры              = ВходящиеДанные.ТипНоменклатуры;
	СоздатьВидНоменклатуры_ИмпортнаяАлкогольнаяПродукция = ВходящиеДанные.АлкогольнаяПродукция И ВходящиеДанные.ВестиУчетПоГТД;
	СоздатьВидНоменклатуры_АлкогольнаяПродукция          = ВходящиеДанные.АлкогольнаяПродукция;
	СоздатьВидНоменклатуры_ВидАлкогольнойПродукции       = ВходящиеДанные.ВидАлкогольнойПродукции;
	Выполнить(Алгоритмы.СоздатьВидНоменклатуры);
	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>ДополнительноеОписаниеНоменклатуры --&gt; Описание</Наименование>
							<Источник Имя="ДополнительноеОписаниеНоменклатуры" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Описание" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>25</Код>
							<Наименование>ЕдиницаДляОтчетов --&gt; ЕдиницаДляОтчетов</Наименование>
							<Источник Имя="ЕдиницаДляОтчетов" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
							<Приемник Имя="ЕдиницаДляОтчетов" Вид="Реквизит" Тип="СправочникСсылка.УпаковкиЕдиницыИзмерения"/>
							<КодПравилаКонвертации>ЕдиницыИзмерения_ЕдиницыИзмерения                 </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>26</Код>
							<Наименование>ЕдиницаДляОтчетов --&gt; КоэффициентЕдиницыДляОтчетов</Наименование>
							<Источник Имя="ЕдиницаДляОтчетов" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
							<Приемник Имя="КоэффициентЕдиницыДляОтчетов" Вид="Реквизит" Тип="Число"/>
							<ПриВыгрузке>Если ЗначениеЗаполнено(Значение) Тогда
	Если ЗначениеЗаполнено(Источник.ЕдиницаХраненияОстатков) И Источник.ЕдиницаХраненияОстатков.Коэффициент &lt;&gt; 0 Тогда
		Значение = Значение.Коэффициент / Источник.ЕдиницаХраненияОстатков.Коэффициент;
	Иначе
		Значение = Значение.Коэффициент;
	КонецЕсли;	
Иначе
	Значение = 1;
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>ЕдиницаХраненияОстатков --&gt; ЕдиницаИзмерения</Наименование>
							<Источник Имя="ЕдиницаХраненияОстатков" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
							<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.УпаковкиЕдиницыИзмерения"/>
							<КодПравилаКонвертации>ЕдиницыИзмерения_ЕдиницыИзмерения                 </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>32</Код>
							<Наименование>Крепость --&gt; Крепость</Наименование>
							<Источник Имя="Крепость" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Крепость" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>5</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>33</Код>
							<Наименование>ОбъемДАЛ --&gt; ОбъемДАЛ</Наименование>
							<Источник Имя="ОбъемДАЛ" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="ОбъемДАЛ" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>ОсновноеИзображение --&gt; ФайлКартинки</Наименование>
							<Источник Имя="ОсновноеИзображение" Вид="Реквизит" Тип="СправочникСсылка.ХранилищеДополнительнойИнформации"/>
							<Приемник Имя="ФайлКартинки" Вид="Реквизит" Тип="СправочникСсылка.НоменклатураПрисоединенныеФайлы"/>
							<КодПравилаКонвертации>ФайлыНоменклатуры                                 </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>7</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
							<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							<ПередВыгрузкой>Если Не ЗначениеЗаполнено(Источник.СтавкаНДС) Тогда
	Значение = Перечисления.СтавкиНДС.НДС18;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>ЦеноваяГруппа --&gt; ЦеноваяГруппа</Наименование>
							<Источник Имя="ЦеноваяГруппа" Вид="Реквизит" Тип="СправочникСсылка.ЦеновыеГруппы"/>
							<Приемник Имя="ЦеноваяГруппа" Вид="Реквизит" Тип="СправочникСсылка.ЦеновыеГруппы"/>
							<КодПравилаКонвертации>ЦеновыеГруппыЦеновыеГруппы                        </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>8</Код>
							<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
							<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Группа>
							<Код>13</Код>
							<Наименование>--&gt; ДополнительныеРеквизиты</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПереносСвойств);</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>15</Код>
								<Наименование> --&gt; Значение</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Значение" Вид="Реквизит"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование> --&gt; Свойство</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
								<КодПравилаКонвертации>СвойстваОбъектов_ДополнительныеРеквизитыИСведения </КодПравилаКонвертации>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ЕдиницыИзмерения_Упаковки</Код>
					<Наименование>Единицы измерения -&gt; Упаковки номенклатуры</Наименование>
					<Порядок>250</Порядок>
					<ПередВыгрузкой>Если НЕ ЗначениеЗаполнено(Источник.Наименование) Тогда
	Отказ = Истина;
КонецЕсли;

Если Источник.Ссылка.Владелец.ВидНоменклатуры.ТипНоменклатуры &lt;&gt; Перечисления.ТипыНоменклатуры.Товар
   И Источник.Ссылка.Владелец.ВидНоменклатуры.ТипНоменклатуры &lt;&gt; Перечисления.ТипыНоменклатуры.Услуга Тогда
	Отказ = Истина;
КонецЕсли;

Если Источник.Ссылка.Владелец.ЕдиницаХраненияОстатков = Источник.Ссылка И Источник.Ссылка.Владелец.ЕдиницаХраненияОстатков.Коэффициент = 1 Тогда
	Отказ = Истина;
КонецЕсли;

КлючВыгружаемыхДанных = Источник.Ссылка;</ПередВыгрузкой>
					<ПослеЗагрузки>Справочники.УпаковкиЕдиницыИзмерения.ОтработатьЛогикуСвязиРеквизитов(Объект);
Объект.Наименование = Справочники.УпаковкиЕдиницыИзмерения.СформироватьНаименование(Объект.ТипУпаковки, Объект.ЕдиницаИзмерения, Объект.Числитель, Объект.Знаменатель, Объект.Владелец.ЕдиницаИзмерения);

Если Не Объект.Владелец.ИспользоватьУпаковки = Истина Тогда
	ВладелецУпаковки = Объект.Владелец.ПолучитьОбъект();
	ВладелецУпаковки.ИспользоватьУпаковки = Истина;
	ВладелецУпаковки.Записать();
КонецЕсли;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
					<Приемник>СправочникСсылка.УпаковкиЕдиницыИзмерения</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>--&gt; Код</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>--&gt; Владелец</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Владелец" Вид="Свойство"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ВидыАлкогольнойПродукции</Код>
					<Наименование>Справочник: Виды алкогольной продукции</Наименование>
					<Порядок>300</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.ВидыАлкогольнойПродукции</Источник>
					<Приемник>СправочникСсылка.ВидыАлкогольнойПродукции</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<ПриводитьКДлине>3</ПриводитьКДлине>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Маркируемый --&gt; Маркируемый</Наименование>
							<Источник Имя="Маркируемый" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="Маркируемый" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ЕдиницыИзмерения_ЕдиницыИзмерения</Код>
					<Наименование>Справочник: Единицы измерения</Наименование>
					<Порядок>350</Порядок>
					<ПередВыгрузкой>Если НЕ ЗначениеЗаполнено(Источник.Наименование) Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Владелец = Справочники.НаборыУпаковок.БазовыеЕдиницыИзмерения;
Объект.ТипИзмеряемойВеличины = Перечисления.ТипыИзмеряемыхВеличин.ПустаяСсылка();
Справочники.УпаковкиЕдиницыИзмерения.ОтработатьЛогикуСвязиРеквизитов(Объект);
ДанныеКлассификатора = Параметры.Соответствие.Получить(СокрЛП(Объект.Код));
Если ДанныеКлассификатора &lt;&gt; Неопределено Тогда
	ЗаполнитьЗначенияСвойств(Объект, ДанныеКлассификатора); // Числитель, Знаменатель, ТипИзмеряемойВеличины
КонецЕсли;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
					<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
					<Источник>СправочникСсылка.ЕдиницыИзмерения</Источник>
					<Приемник>СправочникСсылка.УпаковкиЕдиницыИзмерения</Приемник>
					<Свойства>
						<Свойство>
							<Код>5</Код>
							<Наименование>Вес --&gt; ТипИзмеряемойВеличины</Наименование>
							<Источник Имя="Вес" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="ТипИзмеряемойВеличины" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыИзмеряемыхВеличин"/>
							<ПриВыгрузке>Если ЗначениеЗаполнено(Значение) Тогда
	Значение = "Вес";
Иначе
	Значение = "КоличествоШтук";
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ЕдиницаПоКлассификатору --&gt; МеждународноеСокращение</Наименование>
							<Источник Имя="ЕдиницаПоКлассификатору" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							<Приемник Имя="МеждународноеСокращение" Вид="Реквизит" Тип="Строка"/>
							<ПриВыгрузке>Если ЗначениеЗаполнено(Значение) Тогда
	Значение = Значение.МеждународноеСокращение;
Иначе
	Отказ = Истина;
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ЕдиницаПоКлассификатору --&gt; НаименованиеПолное</Наименование>
							<Источник Имя="ЕдиницаПоКлассификатору" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<ПриВыгрузке>Если ЗначениеЗаполнено(Значение) Тогда
	Значение = Значение.НаименованиеПолное;
Иначе
	Отказ = Истина;
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>Прочее</Код>
				<Наименование>Прочее</Наименование>
				<Порядок>150</Порядок>
				<Правило>
					<Код>СтатьиДвиженияДенежныхСредств</Код>
					<Наименование>Статьи движения денежных средств</Наименование>
					<НеЗамещать>true</НеЗамещать>
					<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
					<Источник>СправочникСсылка.СтатьиДвиженияДенежныхСредств</Источник>
					<Приемник>СправочникСсылка.СтатьиДвиженияДенежныхСредств</Приемник>
					<Свойства>
						<Свойство Поиск="true" Обязательное="true">
							<Код>4</Код>
							<Наименование> --&gt; ЭтоГруппа</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения>
						<Значение>
							<Код>1</Код>
							<Наименование>ОплатаПокупателя --&gt; ПоступлениеОплатыОтКлиента</Наименование>
							<Порядок>50</Порядок>
							<Источник>ОплатаПокупателя</Источник>
							<Приемник>ПоступлениеОплатыОтКлиента</Приемник>
						</Значение>
						<Значение>
							<Код>2</Код>
							<Наименование>ОплатаПоставщику --&gt; ОплатаПоставщику</Наименование>
							<Порядок>100</Порядок>
							<Источник>ОплатаПоставщику</Источник>
							<Приемник>ОплатаПоставщику</Приемник>
						</Значение>
						<Значение>
							<Код>3</Код>
							<Наименование>ВыдачаДенежныхСредствКассеККМ --&gt; ВыдачаДенежныхСр</Наименование>
							<Порядок>150</Порядок>
							<Источник>ВыдачаДенежныхСредствКассеККМ</Источник>
							<Приемник>ВыдачаДенежныхСредствВКассуККМ</Приемник>
						</Значение>
					</Значения>
				</Правило>
				<Группа>
					<Код>Свойства</Код>
					<Наименование>Свойства</Наименование>
					<Порядок>50</Порядок>
					<Правило>
						<Код>НаборыСвойств</Код>
						<Наименование>Наборы свойств</Наименование>
						<Порядок>50</Порядок>
						<ПередВыгрузкой>Длина = СтрДлина(Источник.Наименование);
Если Длина &gt; 100 Тогда
	Длина = 100;
КонецЕсли;

КлючВыгружаемыхДанных = "" + Лев(Источник.Наименование,Длина) + Источник.Родитель;</ПередВыгрузкой>
						<ПослеЗагрузки>// При записи производятся операции записи в БД, необходимые для корректной работы
Объект.ОбменДанными.Загрузка = Ложь;
Объект.Записать();</ПослеЗагрузки>
						<Приемник>СправочникСсылка.НаборыДополнительныхРеквизитовИСведений</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>--&gt; Наименование</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство Поиск="true" Обязательное="true">
								<Код>2</Код>
								<Наименование>--&gt; ЭтоГруппа</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
				<Группа>
					<Код>Выгрузка файлов</Код>
					<Наименование>Выгрузка файлов</Наименование>
					<Порядок>100</Порядок>
					<Правило>
						<Код>ФайлыНоменклатуры</Код>
						<Наименование>Файлы</Наименование>
						<Порядок>50</Порядок>
						<ПередВыгрузкой>КлючВыгружаемыхДанных = Источник.Ссылка;
ВходящиеДанные.Вставить("ДанныеХранилища", Источник.Хранилище.Получить());</ПередВыгрузкой>
						<ПослеЗагрузки>Выполнить(Алгоритмы.ПослеЗагрузкиПрисоединенногоФайла);

//Занесем данные об объекте в таблицу отложенной обработки 
НоваяСтрока = Параметры.ЗагруженныеОбъектыПереноса.Добавить();
НоваяСтрока.ИмяПКО = "ФайлыНоменклатуры";
НоваяСтрока.Объект = Объект;
НоваяСтрока.Параметры = ПараметрыОбъекта;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Источник>СправочникСсылка.ХранилищеДополнительнойИнформации</Источник>
						<Приемник>СправочникСсылка.НоменклатураПрисоединенныеФайлы</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство Поиск="true" Обязательное="true">
								<Код>2</Код>
								<Наименование>--&gt; ЭтоГруппа</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
				<Группа>
					<Код>ВидыКонтактнойИнформации</Код>
					<Наименование>ВидыКонтактнойИнформации</Наименование>
					<Порядок>150</Порядок>
					<Правило>
						<Код>ВидыКонтактнойИнформацииВсе</Код>
						<Наименование>Виды контактной информации</Наименование>
						<Порядок>50</Порядок>
						<ПослеЗагрузки>Если Не ОбъектНайден И Объект.Родитель = Справочники.ВидыКонтактнойИнформации.СправочникКонтрагенты Тогда
	Отказ = Истина;
КонецЕсли;

Если Не Отказ Тогда
	Если ЗначениеЗаполнено(Объект.ИмяПредопределенныхДанных) Тогда
		ЗаполнитьЗначенияСвойств(Объект, Объект.Ссылка, "Тип, Родитель, Наименование");
	КонецЕсли;
КонецЕсли;</ПослеЗагрузки>
						<Источник>СправочникСсылка.ВидыКонтактнойИнформации</Источник>
						<Приемник>СправочникСсылка.ВидыКонтактнойИнформации</Приемник>
						<Свойства>
							<Свойство>
								<Код>7</Код>
								<Наименование>--&gt; Используется</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Используется" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>5</Код>
								<Наименование>--&gt; Родитель</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
								<ПередВыгрузкой>Если Источник.ВидОбъектаКонтактнойИнформации = Перечисления.ВидыОбъектовКонтактнойИнформации.КонтактныеЛицаКонтрагентов Тогда
	Значение = "СправочникКонтактныеЛицаПартнеров";
ИначеЕсли Источник.ВидОбъектаКонтактнойИнформации = Перечисления.ВидыОбъектовКонтактнойИнформации.Контрагенты Тогда
	Значение = "СправочникКонтрагенты";
ИначеЕсли Источник.ВидОбъектаКонтактнойИнформации = Перечисления.ВидыОбъектовКонтактнойИнформации.Организации Тогда
	Значение = "СправочникОрганизации";
ИначеЕсли Источник.ВидОбъектаКонтактнойИнформации = Перечисления.ВидыОбъектовКонтактнойИнформации.Пользователи Тогда
	Значение = "СправочникПользователи";
ИначеЕсли Источник.ВидОбъектаКонтактнойИнформации = Перечисления.ВидыОбъектовКонтактнойИнформации.ФизическиеЛица Тогда
	Значение = "СправочникФизическиеЛица";
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>6</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>3</Код>
								<Наименование>Тип --&gt; Тип</Наименование>
								<Источник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
								<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
								<КодПравилаКонвертации>ТипыКонтактнойИнформации                          </КодПравилаКонвертации>
							</Свойство>
						</Свойства>
						<Значения>
							<Значение>
								<Код>1</Код>
								<Наименование>ТелефонОрганизации --&gt; ТелефонОрганизации</Наименование>
								<Порядок>50</Порядок>
								<Источник>ТелефонОрганизации</Источник>
								<Приемник>ТелефонОрганизации</Приемник>
							</Значение>
							<Значение>
								<Код>2</Код>
								<Наименование>ФаксОрганизации --&gt; ФаксОрганизации</Наименование>
								<Порядок>100</Порядок>
								<Источник>ФаксОрганизации</Источник>
								<Приемник>ФаксОрганизации</Приемник>
							</Значение>
							<Значение>
								<Код>3</Код>
								<Наименование>ФактАдресОрганизации --&gt; ФактАдресОрганизации</Наименование>
								<Порядок>150</Порядок>
								<Источник>ФактАдресОрганизации</Источник>
								<Приемник>ФактАдресОрганизации</Приемник>
							</Значение>
							<Значение>
								<Код>4</Код>
								<Наименование>ЮрАдресОрганизации --&gt; ЮрАдресОрганизации</Наименование>
								<Порядок>200</Порядок>
								<Источник>ЮрАдресОрганизации</Источник>
								<Приемник>ЮрАдресОрганизации</Приемник>
							</Значение>
							<Значение>
								<Код>5</Код>
								<Наименование>АдресЭлектроннойПочтыКонтактногоЛицаКонтрагента --</Наименование>
								<Порядок>250</Порядок>
								<Источник>АдресЭлектроннойПочтыКонтактногоЛицаКонтрагента</Источник>
								<Приемник>EmailКонтактногоЛица</Приемник>
							</Значение>
							<Значение>
								<Код>7</Код>
								<Наименование>ЮрАдресКонтрагента --&gt; АдресПартнера</Наименование>
								<Порядок>350</Порядок>
								<Источник>ЮрАдресКонтрагента</Источник>
								<Приемник>ЮрАдресКонтрагента</Приемник>
							</Значение>
							<Значение>
								<Код>9</Код>
								<Наименование>ТелефонКонтрагента --&gt; ТелефонПартнера</Наименование>
								<Порядок>450</Порядок>
								<Источник>ТелефонКонтрагента</Источник>
								<Приемник>ТелефонКонтрагента</Приемник>
							</Значение>
							<Значение>
								<Код>10</Код>
								<Наименование>РабочийТелефонКонтактногоЛицаКонтрагента --&gt; Телеф</Наименование>
								<Порядок>500</Порядок>
								<Источник>РабочийТелефонКонтактногоЛицаКонтрагента</Источник>
								<Приемник>ТелефонКонтактногоЛица</Приемник>
							</Значение>
							<Значение>
								<Код>12</Код>
								<Наименование>ФактАдресФизЛица --&gt; ДомашнийАдресФизическогоЛица</Наименование>
								<Порядок>600</Порядок>
								<Источник>ФактАдресФизЛица</Источник>
								<Приемник>АдресМестаПроживанияФизическиеЛица</Приемник>
							</Значение>
							<Значение>
								<Код>13</Код>
								<Наименование>МобильныйТелефонКонтактногоЛицаКонтрагента --&gt; Моб</Наименование>
								<Порядок>650</Порядок>
								<Источник>МобильныйТелефонКонтактногоЛицаКонтрагента</Источник>
								<Приемник>МобильныйТелефонКонтактногоЛица</Приемник>
							</Значение>
							<Значение>
								<Код>14</Код>
								<Наименование>ТелефонФизЛицаСлужебный --&gt; МобильныйТелефонФизиче</Наименование>
								<Порядок>700</Порядок>
								<Источник>ТелефонФизЛицаСлужебный</Источник>
								<Приемник>ТелефонРабочийФизическиеЛица</Приемник>
							</Значение>
							<Значение>
								<Код>15</Код>
								<Наименование>ФактАдресКонтрагента --&gt; ФактАдресКонтрагента</Наименование>
								<Порядок>750</Порядок>
								<Источник>ФактАдресКонтрагента</Источник>
								<Приемник>ФактАдресКонтрагента</Приемник>
							</Значение>
							<Значение>
								<Код>16</Код>
								<Наименование>СлужебныйАдресЭлектроннойПочтыПользователя --&gt; Ema</Наименование>
								<Порядок>800</Порядок>
								<Источник>СлужебныйАдресЭлектроннойПочтыПользователя</Источник>
								<Приемник>EmailПользователя</Приемник>
							</Значение>
							<Значение>
								<Код>17</Код>
								<Наименование>АдресОрганизацииПочтовый --&gt; ПочтовыйАдресОрганиза</Наименование>
								<Порядок>850</Порядок>
								<Источник>АдресОрганизацииПочтовый</Источник>
								<Приемник>ПочтовыйАдресОрганизации</Приемник>
							</Значение>
							<Значение>
								<Код>18</Код>
								<Наименование>ЮрАдресФизЛица --&gt; АдресПоПропискеФизическиеЛица</Наименование>
								<Порядок>900</Порядок>
								<Источник>ЮрАдресФизЛица</Источник>
								<Приемник>АдресПоПропискеФизическиеЛица</Приемник>
							</Значение>
							<Значение>
								<Код>19</Код>
								<Наименование>ТелефонФизЛицаДомашний --&gt; ТелефонМобильныйФизичес</Наименование>
								<Порядок>950</Порядок>
								<Источник>ТелефонФизЛицаДомашний</Источник>
								<Приемник>ТелефонДомашнийФизическиеЛица</Приемник>
							</Значение>
							<Значение>
								<Код>22</Код>
								<Наименование>АдресЭлектроннойПочтыКонтрагентаДляОбменаДокумента</Наименование>
								<Порядок>1100</Порядок>
								<Источник>АдресЭлектроннойПочтыКонтрагентаДляОбменаДокументами</Источник>
								<Приемник>EmailКонтрагента</Приемник>
							</Значение>
							<Значение>
								<Код>23</Код>
								<Наименование>ИнострАдресФизЛица --&gt; АдресЗаПределамиРФФизически</Наименование>
								<Порядок>1150</Порядок>
								<Источник>ИнострАдресФизЛица</Источник>
								<Приемник>АдресЗаПределамиРФФизическиеЛица</Приемник>
							</Значение>
							<Значение>
								<Код>24</Код>
								<Наименование>ИнформАдресФизЛица --&gt; АдресДляИнформированияФизич</Наименование>
								<Порядок>1200</Порядок>
								<Источник>ИнформАдресФизЛица</Источник>
								<Приемник>АдресДляИнформированияФизическиеЛица</Приемник>
							</Значение>
							<Значение>
								<Код>27</Код>
								<Наименование>ФаксКонтрагента --&gt; ФаксКонтрагенты</Наименование>
								<Порядок>1350</Порядок>
								<Источник>ФаксКонтрагента</Источник>
								<Приемник>ФаксКонтрагенты</Приемник>
							</Значение>
						</Значения>
					</Правило>
				</Группа>
				<Группа>
					<Код>Группа пользователи</Код>
					<Наименование>Пользователи</Наименование>
					<Порядок>200</Порядок>
					<Правило>
						<Код>ГруппыПользователей</Код>
						<Наименование>Пользователи -&gt; Группы пользователей</Наименование>
						<Порядок>50</Порядок>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>СправочникСсылка.Пользователи</Источник>
						<Приемник>СправочникСсылка.ГруппыПользователей</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>Родитель --&gt; Родитель</Наименование>
								<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ГруппыПользователей"/>
								<КодПравилаКонвертации>ГруппыПользователей                               </КодПравилаКонвертации>
							</Свойство>
							<Группа>
								<Код>4</Код>
								<Наименование> --&gt; Состав</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Состав" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>Запрос = Новый Запрос;
Запрос.Текст = 
"ВЫБРАТЬ
|	Пользователи.Ссылка КАК Пользователь
|ИЗ
|	Справочник.Пользователи КАК Пользователи
|ГДЕ 
|	Пользователи.Родитель В ИЕРАРХИИ(&amp;Группа)
|	И Не Пользователи.ЭтоГруппа
|";
Запрос.УстановитьПараметр("Группа", Источник.Ссылка);

КоллекцияОбъектов = Запрос.Выполнить().Выгрузить();

Запрос = Новый Запрос;
Запрос.Текст = 
"ВЫБРАТЬ
|	&amp;Группа КАК ГруппаПользователей,
|	Пользователи.Ссылка КАК Пользователь
|ИЗ
|	Справочник.Пользователи КАК Пользователи
|ГДЕ 
|	Пользователи.Родитель В ИЕРАРХИИ(&amp;Группа)
|	И Не Пользователи.ЭтоГруппа
|";
Запрос.УстановитьПараметр("Группа", Источник.Ссылка);

КоллекцияОбъектов = Запрос.Выполнить().Выгрузить();

Для Каждого ОбъектВыгрузки ИЗ КоллекцияОбъектов Цикл
	ВыгрузитьПоПравилу(ОбъектВыгрузки,,,,"СоставГруппПользователей");	
КонецЦикла;</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>5</Код>
									<Наименование> --&gt; Пользователь</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Пользователь" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
									<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>Пользователи</Код>
						<Наименование>Пользователи -&gt; Пользователи</Наименование>
						<Порядок>100</Порядок>
						<ПослеЗагрузки>Если Объект.ЭтоНовый() Тогда
	Параметры.ЗагруженыНовыеПользователи = Истина;
КонецЕсли;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>СправочникСсылка.Пользователи</Источник>
						<Приемник>СправочникСсылка.Пользователи</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>ФизЛицо --&gt; ФизическоеЛицо</Наименование>
								<Источник Имя="ФизЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
								<Приемник Имя="ФизическоеЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
								<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
							</Свойство>
							<Группа>
								<Код>6</Код>
								<Наименование> --&gt; КонтактнаяИнформация</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПереносКИ);</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>7</Код>
									<Наименование> --&gt; АдресЭП</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>9</Код>
									<Наименование> --&gt; Город</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>10</Код>
									<Наименование> --&gt; ДоменноеИмяСервера</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>11</Код>
									<Наименование> --&gt; ЗначенияПолей</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>12</Код>
									<Наименование> --&gt; НомерТелефона</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>13</Код>
									<Наименование> --&gt; НомерТелефонаБезКодов</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>14</Код>
									<Наименование> --&gt; Представление</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование> --&gt; Регион</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование> --&gt; Страна</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>17</Код>
									<Наименование> --&gt; Тип</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
								</Свойство>
								<Свойство>
									<Код>8</Код>
									<Наименование>--&gt; Вид</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
									<КодПравилаКонвертации>ВидыКонтактнойИнформацииВсе                       </КодПравилаКонвертации>
									<ПередВыгрузкой>Если ТипЗнч(ОбъектКоллекции.Вид) = Тип("Строка") Тогда
	Значение = Новый Структура("Тип, Наименование, ВидОбъектаКонтактнойИнформации", 
						ОбъектКоллекции.Тип, ОбъектКоллекции.Вид, Перечисления.ВидыОбъектовКонтактнойИнформации.Пользователи);
КонецЕсли;</ПередВыгрузкой>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
			</Группа>
			<Группа>
				<Код>ГруппаЦенообразование</Код>
				<Наименование>ГруппаЦенообразование</Наименование>
				<Порядок>200</Порядок>
				<Правило>
					<Код>ЦеновыеГруппыЦеновыеГруппы</Код>
					<Наименование>Ценовые группы</Наименование>
					<Порядок>50</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.ЦеновыеГруппы</Источник>
					<Приемник>СправочникСсылка.ЦеновыеГруппы</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ТипыЦенНоменклатуры_ВидыЦен</Код>
					<Наименование>Типы цен номенклатуры -&gt; Виды цен</Наименование>
					<Порядок>100</Порядок>
					<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьЗначениеРеквизитаУпорядочивания);
Параметры.ЗагруженыВидыЦен = Истина;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.ТипыЦенНоменклатуры</Источник>
					<Приемник>СправочникСсылка.ВидыЦен</Приемник>
					<Свойства>
						<Свойство>
							<Код>8</Код>
							<Наименование>--&gt; Идентификатор</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Идентификатор" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>СтрНаименование = Источник.Наименование;

Разделители	=  " .,+,-,/,*,?,=,&lt;,&gt;,(,)%!@#$%&amp;*""№:;{}[]?()\|/`~'^_";

Идентификатор = "";
БылСпецСимвол = Ложь;

Для НомСимвола = 1 По СтрДлина(СтрНаименование) Цикл
	
	Символ = Сред(СтрНаименование, НомСимвола, 1);
	
	Если Найти(Разделители, Символ) &lt;&gt; 0 Тогда
		БылСпецСимвол = Истина;
	ИначеЕсли БылСпецСимвол Тогда
		БылСпецСимвол = Ложь;
		Идентификатор = Идентификатор + ВРег(Символ);
	Иначе
		Идентификатор = Идентификатор + Символ;
	КонецЕсли;
	
КонецЦикла;

Значение = Идентификатор;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; ИспользоватьПриПродаже</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьПриПродаже" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; Округлять</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Округлять" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>--&gt; СпособЗаданияЦены</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СпособЗаданияЦены" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыЗаданияЦен"/>
							<ПередВыгрузкой>Если Источник.Рассчитывается Тогда
	Значение = "НаценкаНаДругойВидЦен";
Иначе
	Если НЕ ЗначениеЗаполнено(Источник.БазовыйТипЦен) Тогда
		Значение = "Вручную";
	Иначе
		Значение = "НаценкаНаДругойВидЦен";
	КонецЕсли;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>БазовыйТипЦен --&gt; БазовыйВидЦены</Наименование>
							<Источник Имя="БазовыйТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
							<Приемник Имя="БазовыйВидЦены" Вид="Реквизит" Тип="СправочникСсылка.ВидыЦен"/>
							<КодПравилаКонвертации>ТипыЦенНоменклатуры_ВидыЦен                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ВалютаЦены --&gt; ВалютаЦены</Наименование>
							<Источник Имя="ВалютаЦены" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаЦены" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ОкруглятьВБольшуюСторону --&gt; ОкруглятьВБольшуюСторону</Наименование>
							<Источник Имя="ОкруглятьВБольшуюСторону" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="ОкруглятьВБольшуюСторону" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>ПорядокОкругления --&gt; ТочностьОкругления</Наименование>
							<Источник Имя="ПорядокОкругления" Вид="Реквизит" Тип="ПеречислениеСсылка.ПорядкиОкругления"/>
							<Приемник Имя="ТочностьОкругления" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Число(СокрЛП(Источник.ПорядокОкругления));</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>ПроцентСкидкиНаценки --&gt; Наценка</Наименование>
							<Источник Имя="ПроцентСкидкиНаценки" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Наценка" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>13</Код>
							<Наименование>СпособРасчетаЦены --&gt;</Наименование>
							<Источник Имя="СпособРасчетаЦены" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыРасчетаЦены"/>
							<Приемник Имя="" Вид=""/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>5</Код>
							<Наименование>ЦенаВключаетНДС --&gt; ЦенаВключаетНДС</Наименование>
							<Источник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Группа>
							<Код>14</Код>
							<Наименование>--&gt; ПравилаОкругленияЦены</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПравилаОкругленияЦены" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Добавить();</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>16</Код>
								<Наименование>--&gt; ТочностьОкругления</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ТочностьОкругления" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = Число(СокрЛП(Источник.ПорядокОкругления));</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>СтруктураПредприятия</Код>
				<Наименование>СтруктураПредприятия</Наименование>
				<Порядок>250</Порядок>
				<Правило>
					<Код>Кассы</Код>
					<Наименование>Кассы</Наименование>
					<ПередВыгрузкой>Если Источник.ЭтоГруппа Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Параметры.ЗагруженыКассы = Истина;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.Кассы</Источник>
					<Приемник>СправочникСсылка.Кассы</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ВалютаДенежныхСредств --&gt; ВалютаДенежныхСредств</Наименование>
							<Источник Имя="ВалютаДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Владелец --&gt; Владелец</Наименование>
							<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>КассыККМ</Код>
					<Наименование>Справочник: Кассы ККМ</Наименование>
					<ПередВыгрузкой>КлючВыгружаемыхДанных = Новый Массив;
КлючВыгружаемыхДанных.Добавить(Источник.Владелец);
КлючВыгружаемыхДанных.Добавить(Источник.Наименование);
КлючВыгружаемыхДанных.Добавить(Источник.Склад);
КлючВыгружаемыхДанных.Добавить(Источник.ТипКассы);

КлючВыгружаемыхДанных = ЗначениеВСтрокуВнутр(КлючВыгружаемыхДанных);</ПередВыгрузкой>
					<Источник>СправочникСсылка.КассыККМ</Источник>
					<Приемник>СправочникСсылка.КассыККМ</Приемник>
					<Свойства>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; ВалютаДенежныхСредств</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Константы.ВалютаРегламентированногоУчета.Получить();</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>6</Код>
							<Наименование>--&gt; Склад</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>7</Код>
							<Наименование>--&gt; ТипКассы</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипКассы" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКассККМ"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Владелец --&gt; Владелец</Наименование>
							<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<ПриВыгрузке>Значение = Значение + ?(ЗначениеЗаполнено(Источник.Склад), " (" + Источник.Склад + ")", "");</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>УчетнаяПолитикаОрганизаций</Код>
					<Наименование>Регистр сведений: Учетная политика (налоговый учет)</Наименование>
					<ПередВыгрузкой>Если Параметры.Организации.Количество() &gt; 0 И Параметры.Организации.Найти(Источник.Организация) = Неопределено Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
					<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
					<Источник>РегистрСведенийЗапись.УчетнаяПолитикаНалоговыйУчет</Источник>
					<Приемник>РегистрСведенийЗапись.УчетнаяПолитикаОрганизаций</Приемник>
					<Свойства>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; УчетнаяПолитика</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="УчетнаяПолитика" Вид="Ресурс" Тип="СправочникСсылка.УчетныеПолитикиОрганизаций"/>
							<КодПравилаКонвертации>УчетныеПолитикиОрганизаций                        </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Активность --&gt; Активность</Наименование>
							<Источник Имя="Активность" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Активность" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование>Организация --&gt; Организация</Наименование>
							<Источник Имя="Организация" Вид="Измерение" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Организация" Вид="Измерение" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ОрганизацияЯвляетсяПлательщикомЕНВД --&gt; ПлательщикЕНВД</Наименование>
							<Источник Имя="ОрганизацияЯвляетсяПлательщикомЕНВД" Вид="Ресурс" Тип="Булево"/>
							<Приемник Имя="ПлательщикЕНВД" Вид="Ресурс" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Период --&gt; Период</Наименование>
							<Источник Имя="Период" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>Организации</Код>
					<Наименование>Организации</Наименование>
					<Порядок>50</Порядок>
					<ПослеВыгрузки>Параметры.ВыгруженыОрганизации = Истина;</ПослеВыгрузки>
					<ПослеЗагрузки>Параметры.ЗагруженыОрганизации = Истина;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.Организации</Источник>
					<Приемник>СправочникСсылка.Организации</Приемник>
					<Свойства>
						<Свойство>
							<Код>26</Код>
							<Наименование>--&gt; РегистрацияВНалоговомОргане</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="РегистрацияВНалоговомОргане" Вид="Реквизит" Тип="СправочникСсылка.РегистрацииВНалоговомОргане"/>
							<КодПравилаКонвертации>РегистрацииВНалоговомОргане                       </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Новый Структура("Код, НаименованиеИФНС, Владелец, КПП, Наименование, КодПоОКТМО", 
	Источник.КодИМНС, "", Источник.Ссылка, 
	Источник.КПП, Источник.КодИМНС, Источник.КодПоОКТМО);</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ИНН --&gt; ИНН</Наименование>
							<Источник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>КодПоОКАТО --&gt; КодПоОКАТО</Наименование>
							<Источник Имя="КодПоОКАТО" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КодПоОКАТО" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>КодПоОКПО --&gt; КодПоОКПО</Наименование>
							<Источник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>КПП --&gt; КПП</Наименование>
							<Источник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>5</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеСокращенное</Наименование>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеСокращенное" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = СтрЗаменить(Источник.НаименованиеПолное, Символы.ПС, " ");</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>ОГРН --&gt; ОГРН</Наименование>
							<Источник Имя="ОГРН" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ОГРН" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Префикс --&gt; Префикс</Наименование>
							<Источник Имя="Префикс" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Префикс" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>СвидетельствоДатаВыдачи --&gt; СвидетельствоДатаВыдачи</Наименование>
							<Источник Имя="СвидетельствоДатаВыдачи" Вид="Реквизит" Тип="Дата"/>
							<Приемник Имя="СвидетельствоДатаВыдачи" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>25</Код>
							<Наименование>СвидетельствоСерияНомер --&gt; СвидетельствоСерияНомер</Наименование>
							<Источник Имя="СвидетельствоСерияНомер" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="СвидетельствоСерияНомер" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>27</Код>
							<Наименование>ЮрФизЛицо --&gt; ЮридическоеФизическоеЛицо</Наименование>
							<Источник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
							<Приемник Имя="ЮридическоеФизическоеЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮридическоеФизическоеЛицо"/>
							<КодПравилаКонвертации>ЮрФизЛицо_ЮридическоеФизическоеЛицо               </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>ЮрФизЛицо --&gt; ЮрФизЛицо</Наименование>
							<Источник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
							<Приемник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
							<КодПравилаКонвертации>ЮрФизЛицо                                         </КодПравилаКонвертации>
							<ПередВыгрузкой>Если Источник.ЮрФизЛицо = Перечисления.ЮрФизЛицо.ФизЛицо Тогда
	Значение = "ИндивидуальныйПредприниматель";	
	ИмяПКО = "";	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>11</Код>
							<Наименование>--&gt; КонтактнаяИнформация</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПереносКИ);</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>12</Код>
								<Наименование> --&gt; АдресЭП</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование> --&gt; Город</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование> --&gt; ДоменноеИмяСервера</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование> --&gt; ЗначенияПолей</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование> --&gt; НомерТелефона</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование> --&gt; НомерТелефонаБезКодов</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование> --&gt; Представление</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование> --&gt; Регион</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование> --&gt; Страна</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование> --&gt; Тип</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>--&gt; Вид</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
								<КодПравилаКонвертации>ВидыКонтактнойИнформацииВсе                       </КодПравилаКонвертации>
								<ПередВыгрузкой>Если ТипЗнч(ОбъектКоллекции.Вид) = Тип("Строка") Тогда
	Значение = Новый Структура("Тип, Наименование, ВидОбъектаКонтактнойИнформации", 
						ОбъектКоллекции.Тип, ОбъектКоллекции.Вид, Перечисления.ВидыОбъектовКонтактнойИнформации.Организации);
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>РегистрацииВНалоговомОргане</Код>
					<Наименование>:</Наименование>
					<Порядок>100</Порядок>
					<ПередВыгрузкой>Если Параметры.Организации.Количество() &gt; 0 И Параметры.Организации.Найти(Источник.Владелец) = Неопределено Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Организация = Объект.Владелец;

НаборЗаписей = РегистрыСведений.РегистрацииВНалоговомОргане.СоздатьНаборЗаписей();
НаборЗаписей.Отбор.Организация.Установить(Организация);

Запись = НаборЗаписей.Добавить();
Запись.Организация = Организация;
Запись.РегистрацияВНалоговомОргане = Объект.Ссылка;

НаборЗаписей.Записать();</ПослеЗагрузки>
					<Приемник>СправочникСсылка.РегистрацииВНалоговомОргане</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>--&gt; Код</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>--&gt; Владелец</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Организации"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>Подразделения_СтруктураПредприятия</Код>
					<Наименование>Подразделения -&gt; Структура предприятия</Наименование>
					<Порядок>150</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.Подразделения</Источник>
					<Приемник>СправочникСсылка.СтруктураПредприятия</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СтруктураПредприятия"/>
							<КодПравилаКонвертации>Подразделения_СтруктураПредприятия                </КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>Склады</Код>
					<Наименование>Склады</Наименование>
					<Порядок>200</Порядок>
					<ПослеЗагрузки>Параметры.ЗагруженыСклады = Истина;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.Склады</Источник>
					<Приемник>СправочникСсылка.Склады</Приемник>
					<Свойства>
						<Свойство>
							<НеЗамещать>true</НеЗамещать>
							<Код>17</Код>
							<Наименование>--&gt; ВыборГруппы</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВыборГруппы" Вид="Реквизит" Тип="ПеречислениеСсылка.ВыборГруппыСкладов"/>
							<ПередВыгрузкой>Значение = "Запретить";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; ИспользоватьАдресноеХранение</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьАдресноеХранение" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; ИспользоватьАдресноеХранениеСправочно</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьАдресноеХранениеСправочно" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; ИспользоватьОрдернуюСхемуПриОтгрузке</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьОрдернуюСхемуПриОтгрузке" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Запрос = Новый Запрос("
		|ВЫБРАТЬ ПЕРВЫЕ 1
		|	1
		|ИЗ
		|	Документ.РасходныйОрдерНаТовары КАК РасходныйОрдерНаТовары
		|ГДЕ
		|	РасходныйОрдерНаТовары.Склад = &amp;Склад
		|	И РасходныйОрдерНаТовары.Проведен
		|");

Запрос.УстановитьПараметр("Склад", Источник.Ссылка);
Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; ИспользоватьОрдернуюСхемуПриПоступлении</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьОрдернуюСхемуПриПоступлении" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Запрос = Новый Запрос("
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	1
	|ИЗ
	|	Документ.ПриходныйОрдерНаТовары КАК ПриходныйОрдерНаТовары
	|ГДЕ
	|	ПриходныйОрдерНаТовары.Склад = &amp;Склад
	|	И ПриходныйОрдерНаТовары.Проведен
	|");

Запрос.УстановитьПараметр("Склад", Источник.Ссылка);

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; ИсточникИнформацииОЦенахДляПечати</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИсточникИнформацииОЦенахДляПечати" Вид="Реквизит" Тип="ПеречислениеСсылка.ИсточникиИнформацииОЦенахДляПечати"/>
							<ПередВыгрузкой>Значение = "ПоСебестоимости";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>--&gt; КонтролироватьОбеспечение</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КонтролироватьОбеспечение" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; НастройкаАдресногоХранения</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НастройкаАдресногоХранения" Вид="Реквизит" Тип="ПеречислениеСсылка.НастройкиАдресногоХранения"/>
							<ПередВыгрузкой>Значение = "НеИспользовать";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>--&gt; ТекущийОтветственный</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТекущийОтветственный" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
							<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
							<ПередВыгрузкой>Запрос = Новый Запрос(
"ВЫБРАТЬ
|	ОтветственныеЛицаСрезПоследних.ФизическоеЛицо КАК ФизическоеЛицо
|ИЗ
|	РегистрСведений.ОтветственныеЛица.СрезПоследних(, СтруктурнаяЕдиница = &amp;Склад) КАК ОтветственныеЛицаСрезПоследних");
Запрос.УстановитьПараметр("Склад", Источник.Ссылка);

Выборка = Запрос.Выполнить().Выбрать();
Если Выборка.Следующий() Тогда
	Значение = Выборка.ФизическоеЛицо;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; УровеньОбслуживания</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="УровеньОбслуживания" Вид="Реквизит" Тип="ПеречислениеСсылка.УровниОбслуживания"/>
							<ПередВыгрузкой>Значение = "УровеньОбслуживания84_0";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>ВидСклада --&gt; ТипСклада</Наименование>
							<Источник Имя="ВидСклада" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыСкладов"/>
							<Приемник Имя="ТипСклада" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыСкладов"/>
							<КодПравилаКонвертации>ТипыСкладов                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Склады"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>ТипЦенРозничнойТорговли --&gt; РозничныйВидЦены</Наименование>
							<Источник Имя="ТипЦенРозничнойТорговли" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
							<Приемник Имя="РозничныйВидЦены" Вид="Реквизит" Тип="СправочникСсылка.ВидыЦен"/>
							<КодПравилаКонвертации>ТипыЦенНоменклатуры_ВидыЦен                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>4</Код>
							<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
							<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>УчетныеПолитикиОрганизаций</Код>
					<Наименование>Регистр сведений: Учетная политика</Наименование>
					<Порядок>250</Порядок>
					<Источник>РегистрСведенийЗапись.УчетнаяПолитикаНалоговыйУчет</Источник>
					<Приемник>СправочникСсылка.УчетныеПолитикиОрганизаций</Приемник>
					<Свойства>
						<Свойство>
							<Код>4</Код>
							<Наименование>--&gt; МетодОценкиСтоимостиТоваров</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="МетодОценкиСтоимостиТоваров" Вид="Реквизит" Тип="ПеречислениеСсылка.МетодыОценкиСтоимостиТоваров"/>
							<КодПравилаКонвертации>МетодыОценкиСтоимостиТоваров                      </КодПравилаКонвертации>
							<ПередВыгрузкой>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	УчетнаяПолитикаСрезПоследних.СпособОценкиМПЗ
	|ИЗ
	|	РегистрСведений.УчетнаяПолитика.СрезПоследних КАК УчетнаяПолитикаСрезПоследних");
	
Выгрузка = Запрос.Выполнить().Выгрузить();
Если Выгрузка.Количество() = 0 Тогда
	Значение = "СредняяЗаМесяц";
	ИмяПКО = "";
Иначе
	Значение = Выгрузка.Получить(0).СпособОценкиМПЗ;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>--&gt; Наименование</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<ПередВыгрузкой>Значение = СокрЛП(Источник.Организация) + " с " + Источник.Период;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; ПравилоОтбораАвансовДляРегистрацииСчетовФактур</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПравилоОтбораАвансовДляРегистрацииСчетовФактур" Вид="Реквизит" Тип="ПеречислениеСсылка.ПорядокРегистрацииСчетовФактурНаАванс"/>
							<ПередВыгрузкой>Значение = "КромеЗачтенныхВТечениеДня";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ОрганизацияНеЯвляетсяПлательщикомНДС --&gt; СистемаНалогообложения</Наименование>
							<Источник Имя="ОрганизацияНеЯвляетсяПлательщикомНДС" Вид="Ресурс" Тип="Булево"/>
							<Приемник Имя="СистемаНалогообложения" Вид="Реквизит" Тип="ПеречислениеСсылка.СистемыНалогообложения"/>
							<ПередВыгрузкой>Если Источник.ОрганизацияНеЯвляетсяПлательщикомНДС Тогда
	Значение = "Упрощенная";
Иначе
	Значение = "Общая";
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ОрганизацияЯвляетсяПлательщикомЕНВД --&gt; ПрименяетсяЕНВД</Наименование>
							<Источник Имя="ОрганизацияЯвляетсяПлательщикомЕНВД" Вид="Ресурс" Тип="Булево"/>
							<Приемник Имя="ПрименяетсяЕНВД" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>ГруппаФизическиеЛица</Код>
				<Наименование>ГруппаФизическиеЛица</Наименование>
				<Порядок>300</Порядок>
				<Правило>
					<Код>ФизическиеЛица</Код>
					<Наименование>Физические лица</Наименование>
					<Порядок>50</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.ФизическиеЛица</Источник>
					<Приемник>СправочникСсылка.ФизическиеЛица</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаРождения --&gt; ДатаРождения</Наименование>
							<Источник Имя="ДатаРождения" Вид="Реквизит" Тип="Дата"/>
							<Приемник Имя="ДатаРождения" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ФизическиеЛица"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ФизическиеЛица"/>
							<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>22</Код>
							<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
							<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Группа>
							<Код>6</Код>
							<Наименование> --&gt; ДополнительныеРеквизиты</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПереносСвойств);</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>8</Код>
								<Наименование> --&gt; Свойство</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
								<КодПравилаКонвертации>СвойстваОбъектов_ДополнительныеРеквизитыИСведения </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>--&gt; Значение</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Значение" Вид="Реквизит"/>
							</Свойство>
						</Группа>
						<Группа>
							<Код>9</Код>
							<Наименование> --&gt; КонтактнаяИнформация</Наименование>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПереносКИ);</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>10</Код>
								<Наименование> --&gt; АдресЭП</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование> --&gt; Город</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование> --&gt; ДоменноеИмяСервера</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование> --&gt; ЗначенияПолей</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование> --&gt; НомерТелефона</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование> --&gt; НомерТелефонаБезКодов</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование> --&gt; Представление</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование> --&gt; Регион</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование> --&gt; Страна</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование> --&gt; Тип</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>--&gt; Вид</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
								<КодПравилаКонвертации>ВидыКонтактнойИнформацииВсе                       </КодПравилаКонвертации>
								<ПередВыгрузкой>ИсходящиеДанные = "СправочникКонтрагенты";
Если ТипЗнч(ОбъектКоллекции.Вид) = Тип("Строка") Тогда
	Значение = Новый Структура("Тип,Наименование,ВидОбъектаКонтактнойИнформации", 
						ОбъектКоллекции.Тип, ОбъектКоллекции.Вид, Перечисления.ВидыОбъектовКонтактнойИнформации.ФизическиеЛица);
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
		</Группа>
		<Группа>
			<Код>Планы видов характеристик</Код>
			<Наименование>Планы видов характеристик</Наименование>
			<Порядок>150</Порядок>
			<Правило>
				<Код>СвойстваОбъектов_ДополнительныеРеквизитыИСведения</Код>
				<Наименование>Свойства объектов -&gt; Дополнительные реквизиты и сведения</Наименование>
				<Порядок>50</Порядок>
				<ПослеЗагрузки>Если ПараметрыОбъекта &lt;&gt; Неопределено Тогда
	
	МассивНаименованийТиповВСтрокеВнутр = ПараметрыОбъекта.Получить("Тип");
	Если МассивНаименованийТиповВСтрокеВнутр &lt;&gt; Неопределено Тогда
		
		МассивНаименованийТипов = ЗначениеИзСтрокиВнутр(МассивНаименованийТиповВСтрокеВнутр);
		
		МассивТипов = Новый Массив;
		Для Каждого НаименованиеТипа Из МассивНаименованийТипов Цикл
			МассивТипов.Добавить(Тип(НаименованиеТипа));	
		КонецЦикла;
			
		Объект.ТипЗначения = Новый ОписаниеТипов(МассивТипов); 	
		
	КонецЕсли;
	
КонецЕсли;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ПланВидовХарактеристикСсылка.СвойстваОбъектов</Источник>
				<Приемник>ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения</Приемник>
				<Свойства>
					<Свойство>
						<Код>5</Код>
						<Наименование>--&gt; Тип</Наименование>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>Тип</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>
МассивНаименованийТипов = Новый Массив;

// То что закомментировано - не имеет соответствия.

СоответствиеТипов = Новый Соответствие;
СоответствиеТипов.Вставить(Тип("Число"),  "Число");
СоответствиеТипов.Вставить(Тип("Строка"), "Строка");
СоответствиеТипов.Вставить(Тип("Булево"), "Булево");
СоответствиеТипов.Вставить(Тип("Дата"),   "Дата");
СоответствиеТипов.Вставить(Тип("СправочникСсылка.ЗначенияСвойствОбъектов"),      "СправочникСсылка.ЗначенияСвойствОбъектов");
СоответствиеТипов.Вставить(Тип("СправочникСсылка.ФизическиеЛица"),               "СправочникСсылка.ФизическиеЛица");
СоответствиеТипов.Вставить(Тип("СправочникСсылка.Склады"),                       "СправочникСсылка.Склады");
СоответствиеТипов.Вставить(Тип("СправочникСсылка.Пользователи"),                 "СправочникСсылка.Пользователи");
СоответствиеТипов.Вставить(Тип("СправочникСсылка.Подразделения"),                "СправочникСсылка.СтруктураПредприятия");
СоответствиеТипов.Вставить(Тип("СправочникСсылка.Организации"),                  "СправочникСсылка.Организации");
//СоответствиеТипов.Вставить(Тип("СправочникСсылка.НоменклатурныеГруппы"),       "СправочникСсылка.ЗначенияСвойствОбъектов");
СоответствиеТипов.Вставить(Тип("СправочникСсылка.Номенклатура"),                 "СправочникСсылка.Номенклатура");
СоответствиеТипов.Вставить(Тип("СправочникСсылка.Контрагенты"),                  "СправочникСсылка.Партнеры");
//СоответствиеТипов.Вставить(Тип("СправочникСсылка.КонтактныеЛицаКонтрагентов"),   "СправочникСсылка.КонтактныеЛицаПартнеров");
//СоответствиеТипов.Вставить(Тип("СправочникСсылка.КонтактныеЛица"),               "СправочникСсылка.ЗначенияСвойствОбъектов");
СоответствиеТипов.Вставить(Тип("СправочникСсылка.КлассификаторСтранМира"),         "СправочникСсылка.СтраныМира");
//СоответствиеТипов.Вставить(Тип("СправочникСсылка.КлассификаторЕдиницИзмерения"), "СправочникСсылка.ЕдиницыИзмерения");
СоответствиеТипов.Вставить(Тип("СправочникСсылка.Валюты"),                         "СправочникСсылка.Валюты");

Для Каждого КлючИЗначение ИЗ СоответствиеТипов Цикл
	Если Источник.ТипЗначения.СодержитТип(КлючИЗначение.Ключ) Тогда
		МассивНаименованийТипов.Добавить(КлючИЗначение.Значение);	
	КонецЕсли;
КонецЦикла;

Значение = ЗначениеВСтрокуВнутр(МассивНаименованийТипов);</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Наименование --&gt; Заголовок</Наименование>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Заголовок" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>СтатьиРасходов</Код>
				<Наименование>Статьи расходов</Наименование>
				<Порядок>100</Порядок>
				<ПриЗагрузке>Объект.ТипЗначения = Новый ОписаниеТипов("СправочникСсылка.НаправленияДеятельности");</ПриЗагрузке>
				<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьЗначениеРеквизитаУпорядочивания);</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.СтатьиЗатрат</Источник>
				<Приемник>ПланВидовХарактеристикСсылка.СтатьиРасходов</Приемник>
				<Свойства>
					<Свойство>
						<Код>6</Код>
						<Наименование>--&gt; ВариантРаспределенияРасходовРегл</Наименование>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВариантРаспределенияРасходовРегл" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыРаспределенияРасходов"/>
						<ПередВыгрузкой>Значение = "НаНаправленияДеятельности";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>--&gt; ВариантРаспределенияРасходовУпр</Наименование>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВариантРаспределенияРасходовУпр" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыРаспределенияРасходов"/>
						<ПередВыгрузкой>Значение = "НаНаправленияДеятельности";</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СтатьиЗатрат"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="ПланВидовХарактеристикСсылка.СтатьиРасходов"/>
						<КодПравилаКонвертации>СтатьиРасходов                                    </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>5</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Регистры сведений</Код>
			<Наименование>Регистры сведений</Наименование>
			<Порядок>200</Порядок>
			<Правило>
				<Код>ФИОФизическихЛиц</Код>
				<Наименование>Регистр сведений: Фамилия, имя, отчество физического лица</Наименование>
				<ПередВыгрузкой>Если ТипЗнч(Источник.ФизЛицо) = Тип("СправочникСсылка.Организации") Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Источник>РегистрСведенийЗапись.ФИОФизЛиц</Источник>
				<Приемник>РегистрСведенийЗапись.ФИОФизическихЛиц</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Активность --&gt; Активность</Наименование>
						<Источник Имя="Активность" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Активность" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Имя --&gt; Имя</Наименование>
						<Источник Имя="Имя" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="Имя" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Отчество --&gt; Отчество</Наименование>
						<Источник Имя="Отчество" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="Отчество" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Период --&gt; Период</Наименование>
						<Источник Имя="Период" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Фамилия --&gt; Фамилия</Наименование>
						<Источник Имя="Фамилия" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="Фамилия" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ФизЛицо --&gt; ФизическоеЛицо</Наименование>
						<Источник Имя="ФизЛицо" Вид="Измерение"/>
						<Приемник Имя="ФизическоеЛицо" Вид="Измерение" Тип="СправочникСсылка.ФизическиеЛица"/>
						<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ШтрихкодыНоменклатуры</Код>
				<Наименование>Штрихкоды номенклатуры</Наименование>
				<ПередВыгрузкой>КлючВыгружаемыхДанных = Источник.Штрихкод;</ПередВыгрузкой>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Приемник>РегистрСведенийЗапись.ШтрихкодыНоменклатуры</Приемник>
				<Свойства>
					<Свойство>
						<Код>2</Код>
						<Наименование> --&gt; Активность</Наименование>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Активность" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование> --&gt; Номенклатура</Наименование>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Номенклатура" Вид="Ресурс" Тип="СправочникСсылка.Номенклатура"/>
						<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование> --&gt; Упаковка</Наименование>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Упаковка" Вид="Ресурс" Тип="СправочникСсылка.УпаковкиЕдиницыИзмерения"/>
						<КодПравилаКонвертации>ЕдиницыИзмерения_Упаковки                         </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование> --&gt; Характеристика</Наименование>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Характеристика" Вид="Ресурс" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
						<КодПравилаКонвертации>ХарактеристикиНоменклатуры                        </КодПравилаКонвертации>
						<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если Параметры.ИспользоватьХарактеристикиНоменклатуры
	И Источник.Номенклатура.ВестиУчетПоХарактеристикам
	И НЕ ЗначениеЗаполнено(Источник.Характеристика) Тогда
	ИсходящиеДанные.Вставить("Владелец", Источник.Номенклатура);
	Значение = Новый Структура("Ссылка");
	ИмяПКО = "ПустаяХарактеристикаНоменклатуры";	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование> --&gt; Штрихкод</Наименование>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Штрихкод" Вид="Измерение" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
	</ПравилаКонвертацииОбъектов>
	<ПравилаВыгрузкиДанных>
		<Группа Отключить="false">
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>50</Порядок>
			<Правило Отключить="false">
				<Код>Банки</Код>
				<Наименование>Банки</Наименование>
				<Порядок>50</Порядок>
				<КодПравилаКонвертации>Банки                                             </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Банки</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Регионы</Код>
				<Наименование>Регионы</Наименование>
				<Порядок>100</Порядок>
				<КодПравилаКонвертации>БизнесРегионы                                     </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Регионы</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Валюты</Код>
				<Наименование>Валюты</Наименование>
				<Порядок>150</Порядок>
				<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Валюты</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>КлассификаторЕдиницИзмерения</Код>
				<Наименование>КлассификаторЕдиницИзмерения</Наименование>
				<Порядок>200</Порядок>
				<КодПравилаКонвертации>КлассификаторЕдиницИзмерения_ЕдиницыИзмерения     </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.КлассификаторЕдиницИзмерения</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>КлассификаторСтранМира</Код>
				<Наименование>КлассификаторСтранМира</Наименование>
				<Порядок>250</Порядок>
				<КодПравилаКонвертации>КлассификаторСтранМираСтраныМира                  </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.КлассификаторСтранМира</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>СерииНоменклатуры</Код>
				<Наименование>СерииНоменклатуры</Наименование>
				<Порядок>300</Порядок>
				<КодПравилаКонвертации>СерииНоменклатуры                                 </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.СерииНоменклатуры</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ВидыНоменклатуры</Код>
				<Наименование>ВидыНоменклатуры</Наименование>
				<Порядок>350</Порядок>
				<КодПравилаКонвертации>ВидыНоменклатуры                                  </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ВидыНоменклатуры</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ХарактеристикиНоменклатуры</Код>
				<Наименование>ХарактеристикиНоменклатуры</Наименование>
				<Порядок>400</Порядок>
				<КодПравилаКонвертации>ПустаяХарактеристикаНоменклатуры                  </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ХарактеристикиНоменклатуры</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Номенклатура</Код>
				<Наименование>Номенклатура</Наименование>
				<Порядок>450</Порядок>
				<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Номенклатура</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ХарактеристикиНоменклатуры00001</Код>
				<Наименование>ХарактеристикиНоменклатуры</Наименование>
				<Порядок>500</Порядок>
				<КодПравилаКонвертации>ХарактеристикиНоменклатуры                        </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ХарактеристикиНоменклатуры</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ВидыАлкогольнойПродукции</Код>
				<Наименование>ВидыАлкогольнойПродукции</Наименование>
				<Порядок>550</Порядок>
				<КодПравилаКонвертации>ВидыАлкогольнойПродукции                          </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ВидыАлкогольнойПродукции</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ЕдиницыИзмерения</Код>
				<Наименование>ЕдиницыИзмерения</Наименование>
				<Порядок>600</Порядок>
				<КодПравилаКонвертации>ЕдиницыИзмерения_ЕдиницыИзмерения                 </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ЕдиницыИзмерения</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ХранилищеДополнительнойИнформации</Код>
				<Наименование>ХранилищеДополнительнойИнформации</Наименование>
				<Порядок>650</Порядок>
				<КодПравилаКонвертации>ФайлыНоменклатуры                                 </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ХранилищеДополнительнойИнформации</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ЦеновыеГруппы</Код>
				<Наименование>ЦеновыеГруппы</Наименование>
				<Порядок>700</Порядок>
				<КодПравилаКонвертации>ЦеновыеГруппыЦеновыеГруппы                        </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ЦеновыеГруппы</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Кассы</Код>
				<Наименование>Кассы</Наименование>
				<Порядок>750</Порядок>
				<КодПравилаКонвертации>Кассы                                             </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Кассы</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Организации</Код>
				<Наименование>Организации</Наименование>
				<Порядок>800</Порядок>
				<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Организации</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>КассыККМ</Код>
				<Наименование>КассыККМ</Наименование>
				<Порядок>850</Порядок>
				<КодПравилаКонвертации>КассыККМ                                          </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.КассыККМ</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ВидыКонтактнойИнформации</Код>
				<Наименование>ВидыКонтактнойИнформации</Наименование>
				<Порядок>900</Порядок>
				<КодПравилаКонвертации>ВидыКонтактнойИнформацииВсе                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ВидыКонтактнойИнформации</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Подразделения</Код>
				<Наименование>Подразделения</Наименование>
				<Порядок>950</Порядок>
				<КодПравилаКонвертации>Подразделения_СтруктураПредприятия                </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Подразделения</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Склады</Код>
				<Наименование>Склады</Наименование>
				<Порядок>1000</Порядок>
				<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Склады</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ФизическиеЛица</Код>
				<Наименование>ФизическиеЛица</Наименование>
				<Порядок>1050</Порядок>
				<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ФизическиеЛица</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ТипыЦенНоменклатуры</Код>
				<Наименование>ТипыЦенНоменклатуры</Наименование>
				<Порядок>1100</Порядок>
				<КодПравилаКонвертации>ТипыЦенНоменклатуры_ВидыЦен                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ТипыЦенНоменклатуры</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>СтатьиЗатрат</Код>
				<Наименование>СтатьиЗатрат</Наименование>
				<Порядок>1150</Порядок>
				<КодПравилаКонвертации>СтатьиРасходов                                    </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.СтатьиЗатрат</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Пользователи</Код>
				<Наименование>Пользователи</Наименование>
				<Порядок>1200</Порядок>
				<КодПравилаКонвертации>ГруппыПользователей                               </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Пользователи</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Пользователи00001</Код>
				<Наименование>Пользователи</Наименование>
				<Порядок>1250</Порядок>
				<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Пользователи</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>СтатьиДвиженияДенежныхСредств</Код>
				<Наименование>СтатьиДвиженияДенежныхСредств</Наименование>
				<Порядок>1300</Порядок>
				<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.СтатьиДвиженияДенежныхСредств</ОбъектВыборки>
			</Правило>
		</Группа>
		<Группа Отключить="false">
			<Код>ПланыВидовХарактеристик</Код>
			<Наименование>ПланыВидовХарактеристик</Наименование>
			<Порядок>100</Порядок>
			<Правило Отключить="false">
				<Код>СвойстваОбъектов</Код>
				<Наименование>СвойстваОбъектов</Наименование>
				<Порядок>50</Порядок>
				<КодПравилаКонвертации>СвойстваОбъектов_ДополнительныеРеквизитыИСведения </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ПланВидовХарактеристикСсылка.СвойстваОбъектов</ОбъектВыборки>
			</Правило>
		</Группа>
		<Группа Отключить="false">
			<Код>РегистрыСведений</Код>
			<Наименование>РегистрыСведений</Наименование>
			<Порядок>150</Порядок>
			<Правило Отключить="false">
				<Код>КомплектующиеНоменклатуры</Код>
				<Наименование>КомплектующиеНоменклатуры</Наименование>
				<Порядок>50</Порядок>
				<КодПравилаКонвертации>КомплектующиеВВариантыКомплектацииНоменклатуры    </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>РегистрСведенийЗапись.КомплектующиеНоменклатуры</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>УчетнаяПолитикаНалоговыйУчет</Код>
				<Наименование>УчетнаяПолитикаНалоговыйУчет</Наименование>
				<Порядок>100</Порядок>
				<КодПравилаКонвертации>УчетнаяПолитикаОрганизаций                        </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>РегистрСведенийЗапись.УчетнаяПолитикаНалоговыйУчет</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>УчетнаяПолитикаНалоговыйУчет00001</Код>
				<Наименование>УчетнаяПолитикаНалоговыйУчет</Наименование>
				<Порядок>150</Порядок>
				<КодПравилаКонвертации>УчетныеПолитикиОрганизаций                        </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>РегистрСведенийЗапись.УчетнаяПолитикаНалоговыйУчет</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ФИОФизЛиц</Код>
				<Наименование>ФИОФизЛиц</Наименование>
				<Порядок>200</Порядок>
				<КодПравилаКонвертации>ФИОФизическихЛиц                                  </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>РегистрСведенийЗапись.ФИОФизЛиц</ОбъектВыборки>
			</Правило>
		</Группа>
	</ПравилаВыгрузкиДанных>
	<ПравилаОчисткиДанных/>
	<Алгоритмы>
		<Группа Имя="Выгрузка">
			<Алгоритм Имя="ВходящиеДанныеНоменклатуры" ИспользуетсяПриЗагрузке="false">
				<Текст>Если Не ЗначениеЗаполнено(ВходящиеДанные) Тогда
	ВходящиеДанные = Новый Структура;
КонецЕсли;

ВходящиеДанные.Вставить("ТипНоменклатуры");

Если Параметры.ТабНоменклатурыТары.Найти(Источник.Ссылка, "Номенклатура") = Неопределено Тогда
	ВходящиеДанные.ТипНоменклатуры = ОбщегоНазначения.ПолучитьЗначениеРеквизита(Источник.ВидНоменклатуры, "ТипНоменклатуры");
Иначе
	ВходящиеДанные.ТипНоменклатуры = "МногооборотнаяТара";
КонецЕсли;

ПараметрыПоиска = Новый Структура("Номенклатура", Источник);
НайденныеСтроки = Параметры.ТабАлкогольнаяПродукцияНоменклатуры.НайтиСтроки(ПараметрыПоиска);

Если НайденныеСтроки.Количество() &gt; 0 Тогда
	ВходящиеДанные.Вставить("АлкогольнаяПродукция",    НайденныеСтроки[0].АлкогольнаяПродукция);
	ВходящиеДанные.Вставить("ВидАлкогольнойПродукции", НайденныеСтроки[0].ВидАлкогольнойПродукции);
	ВходящиеДанные.Вставить("ВестиУчетПоГТД",          НайденныеСтроки[0].ВестиУчетПоГТД);
Иначе
	// ВидАлкогольнойПродукции и АлкогольнаяПродукция
	Запрос = Новый Запрос;
	Запрос.Текст = "
		|ВЫБРАТЬ
		|	СведенияОбАлкогольнойПродукции.ВидПродукции,
		|	СведенияОбАлкогольнойПродукции.ВидЛицензии
		|ИЗ
		|	РегистрСведений.СведенияОбАлкогольнойПродукции КАК СведенияОбАлкогольнойПродукции
		|ГДЕ
		|	СведенияОбАлкогольнойПродукции.Номенклатура = &amp;Номенклатура";
		
	Запрос.УстановитьПараметр("Номенклатура", Источник.Ссылка);

	Выборка = Запрос.Выполнить().Выбрать();
	Если Выборка.Следующий() Тогда
		ВходящиеДанные.Вставить("АлкогольнаяПродукция", Истина);
		ВходящиеДанные.Вставить("ВидАлкогольнойПродукции", Выборка.ВидПродукции);
	Иначе
		ВходящиеДанные.Вставить("АлкогольнаяПродукция", Ложь);
		ВходящиеДанные.Вставить("ВидАлкогольнойПродукции", Справочники.ВидыАлкогольнойПродукции.ПустаяСсылка());
	КонецЕсли;

	// Вести учет по ГТД
	Запрос = Новый Запрос("
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	1
	|ИЗ
	|	Справочник.СерииНоменклатуры КАК СерииНоменклатуры
	|ГДЕ
	|	СерииНоменклатуры.НомерГТД &lt;&gt; ЗНАЧЕНИЕ(Справочник.НомераГТД.ПустаяСсылка)
	|	И СерииНоменклатуры.Владелец = &amp;Номенклатура
	|");

	Запрос.УстановитьПараметр("Номенклатура", Источник.Ссылка);

	ВходящиеДанные.Вставить("ВестиУчетПоГТД", Не Запрос.Выполнить().Пустой());
	
	НоваяСтрокаАлко = Параметры.ТабАлкогольнаяПродукцияНоменклатуры.Добавить();
	НоваяСтрокаАлко.Номенклатура            = Источник;
	НоваяСтрокаАлко.АлкогольнаяПродукция    = ВходящиеДанные.АлкогольнаяПродукция;
	НоваяСтрокаАлко.ВестиУчетПоГТД          = ВходящиеДанные.ВестиУчетПоГТД;
	НоваяСтрокаАлко.ВидАлкогольнойПродукции = ВходящиеДанные.ВидАлкогольнойПродукции;

КонецЕсли;</Текст>
				<Параметры>Источник, ВходящиеДанные</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ВыгрузитьУчетныеПолитики" ИспользуетсяПриЗагрузке="false">
				<Текст>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	УчетнаяПолитикаНалоговыйУчет.Период,
	|	истина как Активность,
	|	УчетнаяПолитикаНалоговыйУчет.Организация,
	|	УчетнаяПолитикаНалоговыйУчет.МоментОпределенияНалоговойБазыНДС,
	|	УчетнаяПолитикаНалоговыйУчет.ОрганизацияЯвляетсяПлательщикомЕНВД,
	|	УчетнаяПолитикаНалоговыйУчет.РозничнаяТорговляОблагаетсяЕНВД,
	|	УчетнаяПолитикаНалоговыйУчет.СложныйУчетНДС,
	|	УчетнаяПолитикаНалоговыйУчет.НДСРежимУчетаРаспределенныхОплат,
	|	УчетнаяПолитикаНалоговыйУчет.НДСИспользованиеОплатПокупателя_Приоритет0,
	|	УчетнаяПолитикаНалоговыйУчет.НДСНалоговыйПериод,
	|	УчетнаяПолитикаНалоговыйУчет.ПартионныйУчетНДСвРазрезеСерийИХарактеристик,
	|	УчетнаяПолитикаНалоговыйУчет.ПартионныйУчетНДСвРазрезеСкладов,
	|	УчетнаяПолитикаНалоговыйУчет.НДСПриНеподтвержденииСверху,
	|	УчетнаяПолитикаНалоговыйУчет.ОрганизацияНеЯвляетсяПлательщикомНДС,
	|	УчетнаяПолитикаНалоговыйУчет.ПорядокРегистрацииСчетовФактурНаАванс
	|ИЗ
	|	РегистрСведений.УчетнаяПолитикаНалоговыйУчет КАК УчетнаяПолитикаНалоговыйУчет");

Выгрузка = Запрос.Выполнить().Выгрузить();

Для Каждого Строка Из Выгрузка Цикл
	ВыгрузитьПоПравилу(Строка,,,, "УчетнаяПолитикаОрганизаций");
КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьСтруктуруДанныхПервичногоДокумента" ИспользуетсяПриЗагрузке="false">
				<Текст>ПервичныйДокумент.Организация              = Источник.Организация;
ПервичныйДокумент.Контрагент               = ОбъектКоллекции.Контрагент;
ПервичныйДокумент.Валюта                   = ОбъектКоллекции.ВалютаВзаиморасчетов;
ПервичныйДокумент.ДатаВходящегоДокумента   = ОбъектКоллекции.ДатаРасчетногоДокумента;
ПервичныйДокумент.НомерВходящегоДокумента  = ОбъектКоллекции.НомерРасчетногоДокумента;
ПервичныйДокумент.СуммаДокумента           = ОбъектКоллекции.Сумма;
ПервичныйДокумент.СуммаРегл                = ОбъектКоллекции.СуммаРегл;

ОбъектРасчетов = ОбъектКоллекции.ОбъектРасчетов;
Если ТипЗнч(ОбъектРасчетов) = Тип("СправочникСсылка.ДоговорыКонтрагентов") Тогда
	ПервичныйДокумент.Договор = ОбъектРасчетов;
	ПервичныйДокумент.Комментарий = СокрЛП(ОбъектРасчетов);
ИначеЕсли ТипЗнч(ОбъектРасчетов) = Тип("ДокументСсылка.ЗаказПокупателя") Тогда
	ПервичныйДокумент.ПорядокРасчетов = "ПоЗаказамНакладным";
	ПервичныйДокумент.Комментарий = СокрЛП(ОбъектРасчетов);
КонецЕсли;

Если НЕ ОбъектКоллекции.Владелец().Колонки.Найти("ДокументРасчетовСКонтрагентом") = Неопределено
	И ЗначениеЗаполнено(ОбъектКоллекции.ДокументРасчетовСКонтрагентом) Тогда
	
	ДокументРасчетовСКонтрагентом = ОбъектКоллекции.ДокументРасчетовСКонтрагентом;	

	ПервичныйДокумент.Комментарий = СокрЛП(ДокументРасчетовСКонтрагентом);
	ТипДокумента = ТипЗнч(ДокументРасчетовСКонтрагентом);

	Если ТипДокумента = Тип("ДокументСсылка.ПоступлениеДопРасходов")
		Или ТипДокумента = Тип("ДокументСсылка.ПоступлениеТоваровУслуг")
		Или ТипДокумента = Тип("ДокументСсылка.КорректировкаПоступления") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "ВалютаДокумента, ДоговорКонтрагента, СуммаДокумента, ДатаВходящегоДокумента, НомерВходящегоДокумента, Дата, Номер");
		ПервичныйДокумент.ТипПервичногоДокумента = "ПриобретениеУПоставщика";
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.ВозвратТоваровПоставщику")
		Или ТипДокумента = Тип("ДокументСсылка.ОтчетКомитентуОПродажах")
		Или ТипДокумента = Тип("ДокументСсылка.ОтражениеНДСКВычету")
		Или ТипДокумента = Тип("ДокументСсылка.ПоступлениеИзПереработки")
		Или ТипДокумента = Тип("ДокументСсылка.ПоступлениеНМА") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "ВалютаДокумента, ДоговорКонтрагента, СуммаДокумента, Дата, Номер");
		ПервичныйДокумент.ТипПервичногоДокумента = "ПриобретениеУПоставщика";
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.ГТДИмпорт") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "ВалютаДокумента, ДоговорКонтрагента, ТаможенныйСбор, ТаможенныйШтраф, Дата, Номер");
		ЗаполнитьЗначенияСвойств(ПервичныйДокумент, ДанныеПервичногоДокумента);
		ПервичныйДокумент.ТипПервичногоДокумента = "ПриобретениеУПоставщика";
		ПервичныйДокумент.СуммаДокумента = ДанныеПервичногоДокумента.ТаможенныйСбор + ДанныеПервичногоДокумента.ТаможенныйШтраф;
		ПервичныйДокумент.СуммаРегл = ПервичныйДокумент.СуммаДокумента;
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.РеализацияТоваровУслуг")
		Или ТипДокумента = Тип("ДокументСсылка.ВозвратТоваровОтПокупателя")
		Или ТипДокумента = Тип("ДокументСсылка.КорректировкаРеализации")
		Или ТипДокумента = Тип("ДокументСсылка.АктОбОказанииПроизводственныхУслуг")
		Или ТипДокумента = Тип("ДокументСсылка.РеализацияУслугПоПереработке")
		Или ТипДокумента = Тип("ДокументСсылка.СчетФактураВыданный")
		Или ТипДокумента = Тип("ДокументСсылка.ОтражениеНачисленияНДС") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "ВалютаДокумента, ДоговорКонтрагента, СуммаДокумента, Дата, Номер");
		ПервичныйДокумент.ТипПервичногоДокумента = "РеализацияКлиенту";
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.ОтчетКомиссионераОПродажах") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "ВалютаДокумента, ДоговорКонтрагента, СуммаДокумента, ДатаВходящегоДокумента, НомерВходящегоДокумента, Дата, Номер");
		ПервичныйДокумент.ТипПервичногоДокумента = "РеализацияКлиенту";
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.РеализацияОтгруженныхТоваров") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "ДоговорКонтрагента, СуммаДокумента, ДокументОтгрузки");
		ДанныеПервичногоДокументаОтгрузки = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДанныеПервичногоДокумента.ДокументОтгрузки, "Дата, Номер, ВалютаДокумента");

		ПервичныйДокумент.ДатаВходящегоДокумента = ДанныеПервичногоДокументаОтгрузки.Дата;
		ПервичныйДокумент.НомерВходящегоДокумента = ДанныеПервичногоДокументаОтгрузки.Номер;
		ПервичныйДокумент.ВалютаДокумента = ДанныеПервичногоДокументаОтгрузки.ВалютаДокумента;
		ПервичныйДокумент.ТипПервичногоДокумента = "РеализацияКлиенту";
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.ОтчетОРозничныхПродажах") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "СуммаДокумента, ВалютаДокумента, Дата, Номер");
		
		ПервичныйДокумент.ТипПервичногоДокумента = "РеализацияКлиенту";
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.ДокументРасчетовСКонтрагентом") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "ВалютаДокумента, ДоговорКонтрагента, СуммаДокумента, ДатаВходящегоДокумента, НомерВходящегоДокумента, Дата, Номер");
		ВидДоговора = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ДанныеПервичногоДокумента.ДоговорКонтрагента, "ВидДоговора");
		ПервичныйДокумент.ТипПервичногоДокумента = "ВнутренняяНакладная";
		Если ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СПоставщиком 
			Или ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СКомитентом Тогда
			ПервичныйДокумент.ТипПервичногоДокумента = "ПриобретениеУПоставщика";
		ИначеЕсли ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СПокупателем
			Или ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СКомиссионером Тогда
			ПервичныйДокумент.ТипПервичногоДокумента = "РеализацияКлиенту";
		КонецЕсли;
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.КорректировкаДолга") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "ВалютаДокумента, Дата, Номер, СуммаКтЗадолженности, СуммаДтЗадолженности");
		ПервичныйДокумент.ТипПервичногоДокумента = "ВнутренняяНакладная";
		Если ДанныеПервичногоДокумента.СуммаДтЗадолженности = ДанныеПервичногоДокумента.СуммаКтЗадолженности Тогда
			ПервичныйДокумент.СуммаДокумента = ДанныеПервичногоДокумента.СуммаДтЗадолженности;
		Иначе
			ПервичныйДокумент.СуммаДокумента = ДанныеПервичногоДокумента.СуммаДтЗадолженности - ДанныеПервичногоДокумента.СуммаКтЗадолженности;
		КонецЕсли;
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.МодернизацияОС") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "Дата, Номер");
		ПервичныйДокумент.Валюта = Константы.ВалютаРегламентированногоУчета.Получить();
		ПервичныйДокумент.ТипПервичногоДокумента = "ВнутренняяНакладная";
		ПервичныйДокумент.СуммаДокумента = ДокументРасчетовСКонтрагентом.Оплата.Итог("СуммаОплаты");
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.НачислениеНДСПоСМРХозспособом") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "Дата, Номер");
		ПервичныйДокумент.Валюта = Константы.ВалютаРегламентированногоУчета.Получить();
		ПервичныйДокумент.ТипПервичногоДокумента = "ВнутренняяНакладная";
		ПервичныйДокумент.СуммаДокумента = ДокументРасчетовСКонтрагентом.СМРхозспособом.Итог("СуммаБезНДС") + ДокументРасчетовСКонтрагентом.СМРхозспособом.Итог("НДС");
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.ОплатаПлатежнойКартой") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "ВалютаДокумента, Дата, Номер");
		ПервичныйДокумент.ТипПервичногоДокумента = "ОплатаОтКлиента";
		ПервичныйДокумент.СуммаДокумента = ДокументРасчетовСКонтрагентом.РасшифровкаПлатежа.Итог("СуммаПлатежа");
		Если ДокументРасчетовСКонтрагентом.РасшифровкаПлатежа.Количество() = 1 Тогда
			ПервичныйДокумент.Договор = ДокументРасчетовСКонтрагентом.РасшифровкаПлатежа[0].ДоговорКонтрагента;
		КонецЕсли;
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.ПоступлениеНаРасчетныйСчет") Тогда
		
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "ВалютаДокумента, СуммаДокумента, ДатаВходящегоДокумента, НомерВходящегоДокумента, Дата, Номер");
		Если НЕ ЗначениеЗаполнено(ПервичныйДокумент.Договор) И ДокументРасчетовСКонтрагентом.РасшифровкаПлатежа.Количество() &gt; 0 Тогда
			ПервичныйДокумент.Договор = ДокументРасчетовСКонтрагентом.РасшифровкаПлатежа[0].ДоговорКонтрагента;
		КонецЕсли;
		
		ПервичныйДокумент.ТипПервичногоДокумента = "ОплатаОтКлиента";
		
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.ПриходныйКассовыйОрдер") Тогда
		
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "ВалютаДокумента, СуммаДокумента, Дата, Номер");
		Если НЕ ЗначениеЗаполнено(ПервичныйДокумент.Договор) И ДокументРасчетовСКонтрагентом.РасшифровкаПлатежа.Количество() &gt; 0 Тогда
			ПервичныйДокумент.Договор = ДокументРасчетовСКонтрагентом.РасшифровкаПлатежа[0].ДоговорКонтрагента;
		КонецЕсли;
		
		ПервичныйДокумент.ТипПервичногоДокумента = "ОплатаОтКлиента";
			
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.РасходныйКассовыйОрдер")
		Или ТипДокумента = Тип("ДокументСсылка.СписаниеСРасчетногоСчета") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "ВалютаДокумента, СуммаДокумента, Дата, Номер");
		Если НЕ ЗначениеЗаполнено(ПервичныйДокумент.Договор) И ДокументРасчетовСКонтрагентом.РасшифровкаПлатежа.Количество() &gt; 0 Тогда
			ПервичныйДокумент.Договор = ДокументРасчетовСКонтрагентом.РасшифровкаПлатежа[0].ДоговорКонтрагента;
		КонецЕсли;

		ПервичныйДокумент.ТипПервичногоДокумента = "ОплатаПоставщику";
	Иначе
		ТипКорректен = Ложь;
	КонецЕсли;
	
	Если ТипКорректен Тогда
		
		ЗаполнитьЗначенияСвойств(ПервичныйДокумент, ДанныеПервичногоДокумента); 
		
		Если ДанныеПервичногоДокумента.Свойство("ВалютаДокумента") Тогда
			ПервичныйДокумент.Валюта = ДанныеПервичногоДокумента.ВалютаДокумента;
		КонецЕсли;
		Если ДанныеПервичногоДокумента.Свойство("ДоговорКонтрагента") Тогда
			ПервичныйДокумент.Договор = ДанныеПервичногоДокумента.ДоговорКонтрагента;
		КонецЕсли;
		
	КонецЕсли;
КонецЕсли;</Текст>
				<Параметры>Источник, ОбъектКоллекции, ПервичныйДокумент</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ОчисткаВыборки" ИспользуетсяПриЗагрузке="false">
				<Текст>Индекс = ВыборкаДанных.Количество()-1;
Пока Индекс &gt;= 0 Цикл
	Если ВыборкаДанных[Индекс].РасчетыСПартнерами.Количество() = 0 Тогда
		ВыборкаДанных.Удалить(ВыборкаДанных[Индекс]);
	КонецЕсли;
	Индекс = Индекс-1;
КонецЦикла;</Текст>
				<Параметры>ВыборкаДанных</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ПереносКИ" ИспользуетсяПриЗагрузке="false">
				<Текст>КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Колонки.Добавить("Тип");
КоллекцияОбъектов.Колонки.Добавить("Вид");
КоллекцияОбъектов.Колонки.Добавить("Представление");
КоллекцияОбъектов.Колонки.Добавить("ЗначенияПолей");
КоллекцияОбъектов.Колонки.Добавить("Страна");
КоллекцияОбъектов.Колонки.Добавить("Регион");
КоллекцияОбъектов.Колонки.Добавить("Город");
КоллекцияОбъектов.Колонки.Добавить("АдресЭП");
КоллекцияОбъектов.Колонки.Добавить("ДоменноеИмяСервера");
КоллекцияОбъектов.Колонки.Добавить("НомерТелефона");
КоллекцияОбъектов.Колонки.Добавить("НомерТелефонаБезКодов");

Запрос = Новый Запрос("
|ВЫБРАТЬ
|	КонтактнаяИнформация.Тип КАК Тип,
|	КонтактнаяИнформация.Вид КАК Вид,
|	КонтактнаяИнформация.Представление КАК Представление,
|	КонтактнаяИнформация.Поле1 КАК Поле1,
|	КонтактнаяИнформация.Поле2 КАК Поле2,
|	КонтактнаяИнформация.Поле3 КАК Поле3,
|	КонтактнаяИнформация.Поле4 КАК Поле4,
|	КонтактнаяИнформация.Поле5 КАК Поле5,
|	КонтактнаяИнформация.Поле6 КАК Поле6,
|	КонтактнаяИнформация.Поле7 КАК Поле7,
|	КонтактнаяИнформация.Поле8 КАК Поле8,
|	КонтактнаяИнформация.Поле9 КАК Поле9,
|	КонтактнаяИнформация.ТипДома КАК ТипДома,
|	КонтактнаяИнформация.ТипКорпуса КАК ТипКорпуса,
|	КонтактнаяИнформация.ТипКвартиры КАК ТипКвартиры,
|	КонтактнаяИнформация.Комментарий КАК Комментарий
|ИЗ
|	РегистрСведений.КонтактнаяИнформация КАК КонтактнаяИнформация
|ГДЕ
|	КонтактнаяИнформация.Объект = &amp;Контрагент
|");

Запрос.УстановитьПараметр("Контрагент", Источник.Ссылка);

Выборка = Запрос.Выполнить().Выбрать();
Пока Выборка.Следующий() Цикл
	НоваяСтрока = КоллекцияОбъектов.Добавить();
	ЗаполнитьЗначенияСвойств(НоваяСтрока, Выборка);
	
	// Удаление символов переноса строк.
	НоваяСтрока.Представление = СтрЗаменить(НоваяСтрока.Представление,Символы.ПС," ");

	Если Выборка.Тип = Перечисления.ТипыКонтактнойИнформации.Адрес Тогда
		
		Если ЗначениеЗаполнено(Выборка.ТипДома) Тогда
			ТипДома = НРег(Выборка.ТипДома.Метаданные().ЗначенияПеречисления[Перечисления.ТипыДомов.Индекс(Выборка.ТипДома)].Имя);
		Иначе
			ТипДома = Выборка.ТипДома;
		КонецЕсли;
		
		Если ЗначениеЗаполнено(Выборка.ТипКорпуса) Тогда
			ТипКорпуса = НРег(Выборка.ТипКорпуса.Метаданные().ЗначенияПеречисления[Перечисления.ТипыКорпусов.Индекс(Выборка.ТипКорпуса)].Имя);
		Иначе
			ТипКорпуса = Выборка.ТипКорпуса;
		КонецЕсли;
		
		Если ЗначениеЗаполнено(Выборка.ТипКвартиры) Тогда
			ТипКвартиры = ?(Выборка.ТипКвартиры = Перечисления.ТипыКвартир.Квартира,
				"кв.", НРег(Выборка.ТипКвартиры.Метаданные().ЗначенияПеречисления[Перечисления.ТипыКвартир.Индекс(Выборка.ТипКвартиры)].Имя));
		Иначе
			ТипКвартиры = Выборка.ТипКвартиры;
		КонецЕсли;				
		
		НоваяСтрока.ЗначенияПолей = ?(ЗначениеЗаполнено(Выборка.Поле1), "Индекс=" + Выборка.Поле1 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле2), "Регион="			+ Выборка.Поле2 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле3), "Район="			+ Выборка.Поле3 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле4), "Город="			+ Выборка.Поле4 + Символы.ПС, "") 
		   + ?(ЗначениеЗаполнено(Выборка.Поле5), "НаселенныйПункт="	+ Выборка.Поле5 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле6), "Улица="			+ Выборка.Поле6 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле7), "Дом="				+ Выборка.Поле7 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле8), "Корпус="			+ Выборка.Поле8 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле9), "Квартира="		+ Выборка.Поле9 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(ТипДома),		 "ТипДома="			+ ТипДома		+ Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(ТипКорпуса),	 "ТипКорпуса="		+ ТипКорпуса	+ Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(ТипКвартиры),	 "ТипКвартиры="		+ ТипКвартиры, "");
		   
	ИначеЕсли Выборка.Тип = Перечисления.ТипыКонтактнойИнформации.Телефон Тогда
		
		НоваяСтрока.ЗначенияПолей = ?(ЗначениеЗаполнено(Выборка.Поле1), "КодСтраны="     + Выборка.Поле1 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле2), "КодГорода="     + Выборка.Поле2 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле3), "НомерТелефона=" + Выборка.Поле3 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле4), "Добавочный="    + Выборка.Поле4, "")
		   + ?(ЗначениеЗаполнено(Выборка.Комментарий), "Комментарий="    + Выборка.Комментарий, "");

		НоваяСтрока.НомерТелефонаБезКодов = Выборка.Поле3;
		НоваяСтрока.НомерТелефона         = Выборка.Поле1 + Выборка.Поле2 + Выборка.Поле3;
		
	ИначеЕсли Выборка.Тип = Перечисления.ТипыКонтактнойИнформации.АдресЭлектроннойПочты Тогда
		
		НоваяСтрока.АдресЭП = Выборка.Представление;
		
	ИначеЕсли Выборка.Тип = Перечисления.ТипыКонтактнойИнформации.ВебСтраница Тогда
		
		НоваяСтрока.ДоменноеИмяСервера = Выборка.Представление;
		
	КонецЕсли;	
	
КонецЦикла;</Текст>
				<Параметры>Источник</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ПереносСвойств" ИспользуетсяПриЗагрузке="false">
				<Текст>Запрос = Новый Запрос("
|ВЫБРАТЬ
|	ЗначенияСвойствОбъектов.Свойство КАК Свойство,
|	ЗначенияСвойствОбъектов.Значение КАК Значение
|ИЗ
|	РегистрСведений.ЗначенияСвойствОбъектов КАК ЗначенияСвойствОбъектов
|ГДЕ
|	ЗначенияСвойствОбъектов.Объект = &amp;Объект
|");

Запрос.УстановитьПараметр("Объект", Источник.Ссылка);

КоллекцияОбъектов = Запрос.Выполнить().Выгрузить();</Текст>
				<Параметры>Источник</Параметры>
			</Алгоритм>
			<Алгоритм Имя="СерияНоменклатурыВТЧ" ИспользуетсяПриЗагрузке="false">
				<Текст>ПодходящийРежимСерий = 1;
Если ИмяТЧ = Неопределено Или ИмяТЧ = "Товары" Тогда
	ПодходящийРежимСерий = 2;
КонецЕсли;

Если Параметры.РежимВыгрузкиСерий = ПодходящийРежимСерий Тогда
	Номенклатура = ОбъектКоллекции.Номенклатура;
	
	ПараметрыПоиска = Новый Структура("Номенклатура", Номенклатура);
	НайденныеСтроки = Параметры.ТабАлкогольнаяПродукцияНоменклатуры.НайтиСтроки(ПараметрыПоиска);

	Если НайденныеСтроки.Количество() &gt; 0 Тогда
		ВходящиеДанные.Вставить("АлкогольнаяПродукция",    НайденныеСтроки[0].АлкогольнаяПродукция);
		ВходящиеДанные.Вставить("ВидАлкогольнойПродукции", НайденныеСтроки[0].ВидАлкогольнойПродукции);
		ВходящиеДанные.Вставить("ВестиУчетПоГТД",          НайденныеСтроки[0].ВестиУчетПоГТД);
	Иначе

		// ВидАлкогольнойПродукции и АлкогольнаяПродукция
		Запрос = Новый Запрос;
		Запрос.Текст = "
			|ВЫБРАТЬ
			|	СведенияОбАлкогольнойПродукции.ВидПродукции,
			|	СведенияОбАлкогольнойПродукции.ВидЛицензии
			|ИЗ
			|	РегистрСведений.СведенияОбАлкогольнойПродукции КАК СведенияОбАлкогольнойПродукции
			|ГДЕ
			|	СведенияОбАлкогольнойПродукции.Номенклатура = &amp;Номенклатура";
			
		Запрос.УстановитьПараметр("Номенклатура", Номенклатура);

		Выборка = Запрос.Выполнить().Выбрать();
		Если Выборка.Следующий() Тогда
			ВходящиеДанные.Вставить("АлкогольнаяПродукция", Истина);
			ВходящиеДанные.Вставить("ВидАлкогольнойПродукции", Выборка.ВидПродукции);
		Иначе
			ВходящиеДанные.Вставить("АлкогольнаяПродукция", Ложь);
			ВходящиеДанные.Вставить("ВидАлкогольнойПродукции", Справочники.ВидыАлкогольнойПродукции.ПустаяСсылка());
		КонецЕсли;

		// Вести учет по ГТД
		Запрос = Новый Запрос("
		|ВЫБРАТЬ ПЕРВЫЕ 1
		|	1
		|ИЗ
		|	Справочник.СерииНоменклатуры КАК СерииНоменклатуры
		|ГДЕ
		|	СерииНоменклатуры.НомерГТД &lt;&gt; ЗНАЧЕНИЕ(Справочник.НомераГТД.ПустаяСсылка)
		|	И СерииНоменклатуры.Владелец = &amp;Номенклатура
		|");

		Запрос.УстановитьПараметр("Номенклатура", Номенклатура);

		ВходящиеДанные.Вставить("ВестиУчетПоГТД", Не Запрос.Выполнить().Пустой());
	КонецЕсли;	
		
	СоздатьВидНоменклатуры_Номенклатура					= Номенклатура;
	СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = Номенклатура.ВидНоменклатуры.Наименование;
	СоздатьВидНоменклатуры_ТипНоменклатуры				= Номенклатура.ВидНоменклатуры.ТипНоменклатуры;
	СоздатьВидНоменклатуры_ИспользоватьСерии			= Истина;
	
	СоздатьВидНоменклатуры_ИмпортнаяАлкогольнаяПродукция = ВходящиеДанные.АлкогольнаяПродукция И ВходящиеДанные.ВестиУчетПоГТД;
	СоздатьВидНоменклатуры_АлкогольнаяПродукция          = ВходящиеДанные.АлкогольнаяПродукция;
	СоздатьВидНоменклатуры_ВидАлкогольнойПродукции       = ВходящиеДанные.ВидАлкогольнойПродукции;
	Выполнить(Алгоритмы.СоздатьВидНоменклатуры);

	ИсходящиеДанные = Новый Структура("ВидНоменклатуры", Значение);

	Значение = ОбъектКоллекции.Серия;
	Если НЕ ЗначениеЗаполнено(ОбъектКоллекции.Серия) Тогда
		Значение = "1";
		ИмяПКО = "НеизвестнаяСерия";
	КонецЕсли;
Иначе
	Отказ = Истина;
КонецЕсли;</Текст>
				<Параметры>ОбъектКоллекции, ИмяТЧ, Значение, ВходящиеДанные</Параметры>
			</Алгоритм>
			<Алгоритм Имя="СобственныеТоварыВыборка" ИспользуетсяПриЗагрузке="false">
				<Текст>ЗапросУчетнаяПолитка = Новый Запрос;
ЗапросУчетнаяПолитка.Текст = 
	"ВЫБРАТЬ
	|	УчетнаяПолитикаСрезПоследних.ВестиПартионныйУчетПоСкладам,
	|	УчетнаяПолитикаСрезПоследних.СпособОценкиМПЗ
	|ИЗ
	|	РегистрСведений.УчетнаяПолитика.СрезПоследних КАК УчетнаяПолитикаСрезПоследних";
	
Выборка = ЗапросУчетнаяПолитка.Выполнить().Выбрать();

Если Выборка.Следующий() Тогда
	ВедетсяПартионныйУчетПоСкладам = Выборка.ВестиПартионныйУчетПоСкладам;
	ОценкаМПЗПоСредней = (Выборка.СпособОценкиМПЗ = Перечисления.СпособыОценки.ПоСредней);
Иначе
	ВедетсяПартионныйУчетПоСкладам = Ложь;
	ОценкаМПЗПоСредней = Истина;
КонецЕсли;

Запрос = Новый Запрос;
Если ВедетсяПартионныйУчетПоСкладам И Не ОценкаМПЗПоСредней Тогда
	Запрос.Текст = Запросы.СобственныеТоварыНаСкладах.Текст;
ИначеЕсли ВедетсяПартионныйУчетПоСкладам И ОценкаМПЗПоСредней Тогда
	Запрос.Текст = Запросы.СобственныеТоварыНаСкладахПоСредней.Текст;
ИначеЕсли Не ВедетсяПартионныйУчетПоСкладам И Не ОценкаМПЗПоСредней Тогда
	Запрос.Текст = Запросы.СобственныеТоварыПартииБезСкладов.Текст;
Иначе // Не ВедетсяПартионныйУчетПоСкладам И ОценкаМПЗПоСредней Тогда
	Запрос.Текст = Запросы.СобственныеТоварыПартииБезСкладовПоСредней.Текст;
КонецЕсли;	

Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ПО (ИСТИНА)", 
								"ПО (ИСТИНА)
						        |ГДЕ
								|	ОстаткиПоПартиямСУчетнойПолитикой.Организация В (&amp;МассивОрганизаций)");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
	
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "Остатки(&amp;ДатаОстатков, )", "Остатки(&amp;ДатаОстатков, Организация В (&amp;МассивОрганизаций))");
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ТипыНоменклатуры.Товар)) КАК ОстаткиТоваров", "ТипыНоменклатуры.Товар) И ДокументОприходования.Организация В (&amp;МассивОрганизаций) ) КАК ОстаткиТоваров");
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ТоварыНаСкладах КАК ТоварыНаСкладах", "ТоварыНаСкладах КАК ТоварыНаСкладах ГДЕ ТоварыНаСкладах.Регистратор.Организация В (&amp;МассивОрганизаций) ");
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ТоварыВРознице КАК ТоварыВРознице", "ТоварыВРознице КАК ТоварыВРознице ГДЕ ТоварыВРознице.Регистратор.Организация В (&amp;МассивОрганизаций) ");
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ТоварыВНТТ КАК ТоварыВНТТ", "ТоварыВНТТ КАК ТоварыВНТТ ГДЕ ТоварыВНТТ.Регистратор.Организация В (&amp;МассивОрганизаций) ");
	
КонецЕсли;

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));
Запрос.УстановитьПараметр("ВалютаУпрУчета", Константы.ВалютаУправленческогоУчета.Получить());

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("Валюта");
ВыборкаДанных.Колонки.Добавить("Склад");
ВыборкаДанных.Колонки.Добавить("Партнер");
ВыборкаДанных.Колонки.Добавить("Контрагент");
ВыборкаДанных.Колонки.Добавить("Договор");
ВыборкаДанных.Колонки.Добавить("ПредъявленСчетФактура");
ВыборкаДанных.Колонки.Добавить("НомерСчетаФактуры");
ВыборкаДанных.Колонки.Добавить("ДатаСчетаФактуры");
ВыборкаДанных.Колонки.Добавить("Товары");
ВыборкаДанных.Колонки.Добавить("Серии");
ВыборкаДанных.Колонки.Добавить("Комментарий");

НоваяСтрока = Неопределено;

Если ВедетсяПартионныйУчетПоСкладам Тогда
	РезультатыЗапроса = Запрос.Выполнить();
	ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	Пока ВыборкаПоОрганизациям.Следующий() Цикл
		
		ВыборкаПоСкладам = ВыборкаПоОрганизациям.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
		Пока ВыборкаПоСкладам.Следующий() Цикл
			
			ВыборкаПоСложномуУчету = ВыборкаПоСкладам.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
			Пока ВыборкаПоСложномуУчету.Следующий() Цикл
				
				ВыборкаПоДокументамПоступления = ВыборкаПоСложномуУчету.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
				Пока ВыборкаПоДокументамПоступления.Следующий() Цикл
					
					НоваяСтрока = ВыборкаДанных.Добавить();
					НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
					НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация;
					НоваяСтрока.Склад       = ВыборкаПоСкладам.Склад;
					НоваяСтрока.Комментарий = НСтр("ru = 'УТ10.3 -&gt; УТ11: Собственные товары на складах'");
					НоваяСтрока.Валюта = Константы.ВалютаУправленческогоУчета.Получить();
					
					ПредъявленСФ = Неопределено; 
					ДополнениеККоментарию = "";
					ПредъявленСФ = УчетНДС.НайтиПодчиненныйДокумент(ВыборкаПоДокументамПоступления.ДокументОприходования, "СчетФактураПолученный");
					
					НоваяСтрока.ПредъявленСчетФактура = Ложь;
					Если ЗначениеЗаполнено(ВыборкаПоДокументамПоступления.ДокументОприходования) Тогда
						ДополнениеККоментарию = НСтр("ru = '. Остатки по документу номер: %1 от: %2'");
						ДополнениеККоментарию = СтрЗаменить(ДополнениеККоментарию, "%2", ВыборкаПоДокументамПоступления.ДатаДокументаОприходования);
						ДополнениеККоментарию = СтрЗаменить(ДополнениеККоментарию, "%1", ВыборкаПоДокументамПоступления.НомерДокументаОприходования);
					КонецЕсли;
					
					Контрагент = ВыборкаПоДокументамПоступления.Партнер;
					Договор    = ВыборкаПоДокументамПоступления.Договор;
					
					Если ЗначениеЗаполнено(ПредъявленСФ) Тогда
						
						ДанныеСФ = ОбщегоНазначения.ПолучитьЗначенияРеквизитов(ПредъявленСФ,
							"Контрагент, ДоговорКонтрагента, НомерВходящегоДокумента, ДатаВходящегоДокумента");
						
						НоваяСтрока.ПредъявленСчетФактура = Истина;
						НоваяСтрока.НомерСчетаФактуры = ДанныеСФ.НомерВходящегоДокумента;
						НоваяСтрока.ДатаСчетаФактуры  = ДанныеСФ.ДатаВходящегоДокумента;
						
						Если Не ЗначениеЗаполнено(Контрагент) Тогда
							Контрагент = ДанныеСФ.Контрагент;
							Договор    = ДанныеСФ.ДоговорКонтрагента;
						КонецЕсли;
						
					КонецЕсли;
					
					НоваяСтрока.Партнер    = Контрагент;
					НоваяСтрока.Контрагент = Контрагент;
					НоваяСтрока.Договор    = Договор;
					
					НоваяСтрока.Комментарий = НоваяСтрока.Комментарий + ДополнениеККоментарию;

					НоваяСтрока.Товары = Новый ТаблицаЗначений;
					НоваяСтрока.Товары.Колонки.Добавить("Номенклатура");
					НоваяСтрока.Товары.Колонки.Добавить("Характеристика");
					НоваяСтрока.Товары.Колонки.Добавить("Качество");
					НоваяСтрока.Товары.Колонки.Добавить("Количество");
					НоваяСтрока.Товары.Колонки.Добавить("КоличествоУпаковок");
					НоваяСтрока.Товары.Колонки.Добавить("Цена");
					НоваяСтрока.Товары.Колонки.Добавить("Сумма");
					НоваяСтрока.Товары.Колонки.Добавить("СуммаРегл");
					НоваяСтрока.Товары.Колонки.Добавить("СтавкаНДС");
					НоваяСтрока.Товары.Колонки.Добавить("СуммаБезНДС");
					НоваяСтрока.Товары.Колонки.Добавить("СуммаНДС");
					НоваяСтрока.Товары.Колонки.Добавить("НДСРегл");
					НоваяСтрока.Товары.Колонки.Добавить("НомерГТД");
					НоваяСтрока.Товары.Колонки.Добавить("Серия");
					
					НоваяСтрока.Серии = Новый ТаблицаЗначений;
					НоваяСтрока.Серии.Колонки.Добавить("Номенклатура");
					НоваяСтрока.Серии.Колонки.Добавить("Характеристика");
					НоваяСтрока.Серии.Колонки.Добавить("Качество");
					НоваяСтрока.Серии.Колонки.Добавить("Серия");
					НоваяСтрока.Серии.Колонки.Добавить("Количество");
					НоваяСтрока.Серии.Колонки.Добавить("КоличествоУпаковок");
			
					ВыборкаДетальныеЗаписи = ВыборкаПоДокументамПоступления.Выбрать();
					Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
			
						СтрокаСообщения = "";
						Если ВыборкаДетальныеЗаписи.Количество &lt; 0 Тогда
							СтрокаСообщения = НСтр("ru = 'Обнаружен отрицательный остаток на складе ""%1"" по товару ""%2"" при выгрузке по правилу: ""%3""'");
						ИначеЕсли ВыборкаДетальныеЗаписи.Сумма &lt;= 0 Или ВыборкаДетальныеЗаписи.Количество = 0 Тогда
							СтрокаСообщения = НСтр("ru = 'Обнаружен некорректный суммовой остаток на складе ""%1"" по товару ""%2"" при выгрузке по правилу: ""%3""'");
						ИначеЕсли ВыборкаДетальныеЗаписи.СуммаСНДСРегл &lt;= ВыборкаДетальныеЗаписи.НДСРегл Или ВыборкаДетальныеЗаписи.НДСРегл &lt; 0 Тогда
							СтрокаСообщения = НСтр("ru = 'Обнаружен некорректный суммовой остаток по данным регл. учета на складе ""%1"" по товару ""%2"" при выгрузке по правилу: ""%3""'");
						КонецЕсли;
						
						Если ЗначениеЗаполнено(СтрокаСообщения) Тогда
							СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%1", ВыборкаПоСкладам.Склад);
							СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%2", ВыборкаДетальныеЗаписи.Номенклатура);
							СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%3", НСтр("ru = 'Собственные товары на складах'"));
							
							Если Не ЗначениеЗаполнено(ВыборкаПоСкладам.Склад) Тогда
								СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "на складе """" ", "");
							КонецЕсли;
							
							ЗаписатьВПротоколВыполнения(СтрокаСообщения,,Ложь);
							Продолжить;
						КонецЕсли;
				
						НоваяСтрокаТовары = НоваяСтрока.Товары.Добавить();
						ЗаполнитьЗначенияСвойств(НоваяСтрокаТовары, ВыборкаДетальныеЗаписи);
						НоваяСтрокаТовары.Цена = ВыборкаДетальныеЗаписи.Сумма / ВыборкаДетальныеЗаписи.Количество;
						НоваяСтрокаТовары.КоличествоУпаковок = ВыборкаДетальныеЗаписи.Количество;
				
						Если НоваяСтрокаТовары.НДСРегл = 0 Тогда
							СтавкаНДСЧислом = УчетНДС.ПолучитьСтавкуНДС(ВыборкаДетальныеЗаписи.СтавкаНДС) / 100;
							НоваяСтрокаТовары.СуммаНДС    = НоваяСтрокаТовары.Сумма / (СтавкаНДСЧислом + 1) * СтавкаНДСЧислом;
							НоваяСтрокаТовары.НДСРегл     = ВыборкаДетальныеЗаписи.СуммаСНДСРегл / (СтавкаНДСЧислом + 1) * СтавкаНДСЧислом;
							НоваяСтрокаТовары.СуммаБезНДС = НоваяСтрокаТовары.Сумма - НоваяСтрокаТовары.СуммаНДС;
						КонецЕсли;
				
						НоваяСтрокаТовары.СуммаРегл = ВыборкаДетальныеЗаписи.СуммаСНДСРегл - НоваяСтрокаТовары.НДСРегл;
				
						Если ЗначениеЗаполнено(ВыборкаДетальныеЗаписи.НомерГТД) Тогда
							НоваяСтрокаТовары.НомерГТД = Новый Структура;
							НоваяСтрокаТовары.НомерГТД.Вставить("Владелец", ВыборкаДетальныеЗаписи.Номенклатура);
							НоваяСтрокаТовары.НомерГТД.Вставить("СтранаПроисхождения", ВыборкаДетальныеЗаписи.СтранаПроисхождения);
							НоваяСтрокаТовары.НомерГТД.Вставить("ПометкаУдаления", ВыборкаДетальныеЗаписи.ПометкаУдаления);
							НоваяСтрокаТовары.НомерГТД.Вставить("Код", ВыборкаДетальныеЗаписи.НомерГТД);
						КонецЕсли;
				
						// Запоминаем серии номенклатуры, если для нее ведется учет серий
						Если ВыборкаДетальныеЗаписи.ВестиУчетПоСериям Тогда
							Если Параметры.РежимВыгрузкиСерий = 1 Тогда
								НоваяСтрокаСерии = НоваяСтрока.Серии.Добавить();
								НоваяСтрокаСерии.КоличествоУпаковок = ВыборкаДетальныеЗаписи.Количество;
								ЗаполнитьЗначенияСвойств(НоваяСтрокаСерии, ВыборкаДетальныеЗаписи);
							ИначеЕсли Параметры.РежимВыгрузкиСерий = 2 Тогда
								НоваяСтрокаТовары.Серия = ВыборкаДетальныеЗаписи.Серия;
							КонецЕсли;
						КонецЕсли;
						
					КонецЦикла;
			
				КонецЦикла;
			КонецЦикла;
		КонецЦикла;
	КонецЦикла;
	
	Если НоваяСтрока &lt;&gt; Неопределено И НоваяСтрока.Товары.Количество() = 0 Тогда
		ВыборкаДанных.Удалить(НоваяСтрока);
	КонецЕсли;	
	
Иначе // если не ведется партионный учет по складам
	
	РезультатыЗапроса = Запрос.ВыполнитьПакет();
	ТаблицаПартииТоваров    = РезультатыЗапроса[РезультатыЗапроса.Количество()-2].Выгрузить();
	ТаблицаТоваровПоСкладам = РезультатыЗапроса[РезультатыЗапроса.Количество()-1].Выгрузить();
	
	Если Не Константы.ИспользоватьХарактеристикиНоменклатуры.Получить() Тогда
		ТаблицаТоваровПоСкладам.Свернуть("Организация, Склад, Номенклатура, Характеристика, Серия, Качество, ВестиУчетПоСериям, ВестиПартионныйУчетПоСериям", "Количество");
		ТаблицаПартииТоваров.Свернуть("Организация, Номенклатура, Характеристика, Качество, Серия, СтавкаНДС, НомерГТД, СтранаПроисхождения", 
										"Количество, Сумма, НДСРегл, СуммаНДС, СуммаСНДСРегл");
	КонецЕсли;
	
	ТекущийСклад          = Неопределено;
	ТекущаяОрганизация    = Неопределено;
	
	НоваяСтрока = Неопределено;
	
	Для Каждого Строка Из ТаблицаТоваровПоСкладам Цикл
		Если Строка.Организация &lt;&gt; ТекущаяОрганизация Или ТекущийСклад &lt;&gt; Строка.Склад Тогда
			
			НоваяСтрока = ВыборкаДанных.Добавить();
			ТекущаяОрганизация    = Строка.Организация;
			ТекущийСклад          = Строка.Склад;
						
			НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
			НоваяСтрока.Организация = ТекущаяОрганизация;
			НоваяСтрока.Склад       = Строка.Склад;
			НоваяСтрока.Комментарий = НСтр("ru = 'УТ10.3 -&gt; УТ11: Собственные товары на складах'");
			НоваяСтрока.Валюта      = Константы.ВалютаУправленческогоУчета.Получить();
			
			НоваяСтрока.Товары = Новый ТаблицаЗначений;
			НоваяСтрока.Товары.Колонки.Добавить("Номенклатура");
			НоваяСтрока.Товары.Колонки.Добавить("Характеристика");
			НоваяСтрока.Товары.Колонки.Добавить("Качество");
			НоваяСтрока.Товары.Колонки.Добавить("Количество");
			НоваяСтрока.Товары.Колонки.Добавить("КоличествоУпаковок");
			НоваяСтрока.Товары.Колонки.Добавить("Цена");
			НоваяСтрока.Товары.Колонки.Добавить("Сумма");
			НоваяСтрока.Товары.Колонки.Добавить("СуммаРегл");
			НоваяСтрока.Товары.Колонки.Добавить("СтавкаНДС");
			НоваяСтрока.Товары.Колонки.Добавить("СуммаБезНДС");
			НоваяСтрока.Товары.Колонки.Добавить("СуммаНДС");
			НоваяСтрока.Товары.Колонки.Добавить("НДСРегл");
			НоваяСтрока.Товары.Колонки.Добавить("НомерГТД");
			НоваяСтрока.Товары.Колонки.Добавить("Серия");
			НоваяСтрока.Товары.Колонки.Добавить("ВестиУчетПоСериям");
			НоваяСтрока.Товары.Колонки.Добавить("ВестиПартионныйУчетПоСериям");
			
			НоваяСтрока.Серии = Новый ТаблицаЗначений;
			НоваяСтрока.Серии.Колонки.Добавить("Номенклатура");
			НоваяСтрока.Серии.Колонки.Добавить("Характеристика");
			НоваяСтрока.Серии.Колонки.Добавить("Качество");
			НоваяСтрока.Серии.Колонки.Добавить("Серия");
			НоваяСтрока.Серии.Колонки.Добавить("Количество");
			НоваяСтрока.Серии.Колонки.Добавить("КоличествоУпаковок");
			
		КонецЕсли;
		
		СтрокаСообщения = "";
		Если Строка.Количество &lt; 0 Тогда
			СтрокаСообщения = НСтр("ru = 'Обнаружен отрицательный остаток на складе ""%1"" по товару ""%2"" при выгрузке по правилу: ""%3""'");
		КонецЕсли;
		
		Если ЗначениеЗаполнено(СтрокаСообщения) Тогда
			СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%1", Строка.Склад);
			СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%2", Строка.Номенклатура);
			СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%3", НСтр("ru = 'Собственные товары на складах'"));
			Если Не ЗначениеЗаполнено(Строка.Склад) Тогда
				СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "на складе """" ", "");
			КонецЕсли;
			ЗаписатьВПротоколВыполнения(СтрокаСообщения,,Ложь);
			Продолжить;
		КонецЕсли;

		НоваяСтрокаТовары = НоваяСтрока.Товары.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаТовары, Строка);
		НоваяСтрокаТовары.КоличествоУпаковок = Строка.Количество;
		НоваяСтрокаТовары.Цена        = 0;
		НоваяСтрокаТовары.Сумма       = 0;
		НоваяСтрокаТовары.СуммаРегл   = 0;
		НоваяСтрокаТовары.СуммаБезНДС = 0;
		НоваяСтрокаТовары.СуммаНДС    = 0;
		НоваяСтрокаТовары.НДСРегл     = 0;
		
		// Запоминаем серии номенклатуры, если для нее ведется учет серий
		Если Строка.ВестиУчетПоСериям Тогда
			Если Параметры.РежимВыгрузкиСерий = 1 Тогда
				НоваяСтрокаСерии = НоваяСтрока.Серии.Добавить();
				НоваяСтрокаСерии.КоличествоУпаковок = Строка.Количество;
				ЗаполнитьЗначенияСвойств(НоваяСтрокаСерии, Строка);
			ИначеЕсли Параметры.РежимВыгрузкиСерий = 2 Тогда
				НоваяСтрокаТовары.Серия = Строка.Серия;
			КонецЕсли;
		КонецЕсли;
											
	КонецЦикла;
	
	// Выборка разбита по складам и организациям. И количественные данные также заполнены.
	Для Каждого Строка Из ВыборкаДанных Цикл
		Для Каждого СтрокаТоваров Из Строка.Товары Цикл
			
			Если СтрокаТоваров.ВестиПартионныйУчетПоСериям Тогда
				СтруктураПоиска = Новый Структура("Организация, Номенклатура, Характеристика, Серия, Качество", 
													Строка.Организация, СтрокаТоваров.Номенклатура, СтрокаТоваров.Характеристика, СтрокаТоваров.Серия, СтрокаТоваров.Качество);
													
			Иначе										
				СтруктураПоиска = Новый Структура("Организация, Номенклатура, Характеристика, Качество", 
													Строка.Организация, СтрокаТоваров.Номенклатура, СтрокаТоваров.Характеристика, СтрокаТоваров.Качество);
													
			КонецЕсли;
			
			НайденныеСтроки = ТаблицаПартииТоваров.НайтиСтроки(СтруктураПоиска);
			Если НайденныеСтроки.Количество() &gt; 0 Тогда
					
				СтрокаПартий = НайденныеСтроки[0];
				
				Если СтрокаПартий.Количество = 0 Тогда
					Цена = СтрокаПартий.Сумма;
					ЦенаСНДСРегл = СтрокаПартий.СуммаСНДСРегл;
					ЦенаНДС = СтрокаПартий.СуммаНДС;
					ЦенаНДСРегл = СтрокаПартий.НДСРегл;
				Иначе
					Цена = СтрокаПартий.Сумма / СтрокаПартий.Количество;
					ЦенаСНДСРегл = СтрокаПартий.СуммаСНДСРегл / СтрокаПартий.Количество;
					ЦенаНДС = СтрокаПартий.СуммаНДС / СтрокаПартий.Количество;
					ЦенаНДСРегл = СтрокаПартий.НДСРегл / СтрокаПартий.Количество;
				КонецЕсли;
				
				Если ЦенаСНДСРегл &lt;= ЦенаНДСРегл Тогда
					ЦенаСНДСРегл = Окр(ЦенаНДСРегл * 1.18 / 0.18, 2);
				КонецЕсли;
				Если Цена &lt;= ЦенаНДС Тогда
					Цена = Окр(ЦенаНДС / 0.18, 2);
				КонецЕсли;
				
				СтрокаТоваров.Цена        = Окр(Цена, 2);
				СтрокаТоваров.Сумма       = Окр(Цена * СтрокаТоваров.Количество, 2);
				СтрокаТоваров.СуммаРегл   = Окр((ЦенаСНДСРегл - ЦенаНДСРегл) * СтрокаТоваров.Количество, 2);
				СтрокаТоваров.СтавкаНДС   = СтрокаПартий.СтавкаНДС;
				СтрокаТоваров.СуммаБезНДС = Окр((Цена - ЦенаНДС) * СтрокаТоваров.Количество, 2);
				СтрокаТоваров.СуммаНДС    = Окр(ЦенаНДС * СтрокаТоваров.Количество, 2);
				СтрокаТоваров.НДСРегл     = Окр(ЦенаНДСРегл * СтрокаТоваров.Количество, 2);
				
				Если ЗначениеЗаполнено(СтрокаТоваров.Серия) Тогда
					СтрокаТоваров.НомерГТД = ОбщегоНазначения.ПолучитьЗначениеРеквизита(СтрокаТоваров.Серия, "НомерГТД");
				КонецЕсли;
				Если Не ЗначениеЗаполнено(СтрокаТоваров.СтавкаНДС) Тогда
					СтрокаТоваров.СтавкаНДС = Перечисления.СтавкиНДС.НДС18;
				КонецЕсли;
				
			Иначе // это возвратная тара, она переносится в отдельном правиле, не здесь
				СтрокаТоваров.Количество = 0;
			КонецЕсли;
			
		КонецЦикла;
			
	КонецЦикла;
	
КонецЕсли;

Индекс = ВыборкаДанных.Количество()-1;
Пока Индекс &gt;= 0 Цикл
	Строка = ВыборкаДанных.Получить(Индекс);
	Если Строка.Товары.Количество() = 0 Тогда
		ВыборкаДанных.Удалить(Строка);
	Иначе
		ИндексТоваров = Строка.Товары.Количество()-1;
		Пока ИндексТоваров &gt;= 0 Цикл
			СтрокаТоваров = Строка.Товары.Получить(ИндексТоваров);
			Если Окр(СтрокаТоваров.Сумма, 2) = 0 Или СтрокаТоваров.Количество = 0 Тогда
				Строка.Товары.Удалить(СтрокаТоваров);
			КонецЕсли;
			
			ИндексТоваров = ИндексТоваров - 1;
		КонецЦикла;
		Если Строка.Товары.Количество() = 0 Тогда
			ВыборкаДанных.Удалить(Строка);
		КонецЕсли;	
	КонецЕсли;
	
	Индекс = Индекс - 1;
КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="СоздатьВидНоменклатуры" ИспользуетсяПриЗагрузке="false">
				<Текст>// Попытка получения результата из кэша предыдущих вычислений

СоздатьВидНоменклатуры_РезультатПоиска = Параметры.КешВидовНоменклатуры.Получить(СоздатьВидНоменклатуры_Номенклатура);
Если СоздатьВидНоменклатуры_РезультатПоиска &lt;&gt; Неопределено Тогда
	Значение = СоздатьВидНоменклатуры_РезультатПоиска;
КонецЕсли;

Если Не ЗначениеЗаполнено(Значение) Тогда

	// Алгоритм формирования вида номенклатуры
	// Запрос выбирает все свойства, назначенные для данной номенклатуры, кроме общих свойств номенклатуры
	ЗапросПоСвойствамНоменклатуры = Новый Запрос(
		"ВЫБРАТЬ
		|	НазначенияСвойствОбъектов.Объект КАК Назначение,
		|	НазначенияСвойствОбъектов.Объект.Наименование КАК НазначениеНаименование,
		|	СвойстваОбъектов.Ссылка КАК Свойство
		|ИЗ
		|	ПланВидовХарактеристик.СвойстваОбъектов КАК СвойстваОбъектов
		|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.НазначенияСвойствОбъектов КАК НазначенияСвойствОбъектов
		|		ПО (НазначенияСвойствОбъектов.Свойство = СвойстваОбъектов.Ссылка)
		|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК Номенклатура
		|		ПО (
		|		(
		|		Номенклатура.Родитель = НазначенияСвойствОбъектов.Объект
		|		ИЛИ Номенклатура.Родитель.Родитель = НазначенияСвойствОбъектов.Объект
		|		ИЛИ Номенклатура.Родитель.Родитель.Родитель = НазначенияСвойствОбъектов.Объект
		|		ИЛИ Номенклатура.Родитель.Родитель.Родитель.Родитель = НазначенияСвойствОбъектов.Объект
		|		ИЛИ Номенклатура.Родитель.Родитель.Родитель.Родитель.Родитель = НазначенияСвойствОбъектов.Объект
		|		)
		|		И Номенклатура.Ссылка = &amp;Номенклатура
		|		)
		|ГДЕ
		|	СвойстваОбъектов.НазначениеСвойства = ЗНАЧЕНИЕ(ПланВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_Номенклатура)
		|	И НазначенияСвойствОбъектов.Объект.ЭтоГруппа
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	НазначенияСвойствОбъектов.Объект,
		|	НазначенияСвойствОбъектов.Объект.Наименование КАК НазначениеНаименование,
		|	СвойстваОбъектов.Ссылка
		|ИЗ
		|	ПланВидовХарактеристик.СвойстваОбъектов КАК СвойстваОбъектов
		|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.НазначенияСвойствОбъектов КАК НазначенияСвойствОбъектов
		|		ПО (НазначенияСвойствОбъектов.Свойство = СвойстваОбъектов.Ссылка)
		|ГДЕ
		|	СвойстваОбъектов.НазначениеСвойства = ЗНАЧЕНИЕ(ПланВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_Номенклатура)
		|	И Не НазначенияСвойствОбъектов.Объект.ЭтоГруппа
		|	И НазначенияСвойствОбъектов.Объект = &amp;Номенклатура");

	ЗапросПоСвойствамНоменклатуры.Параметры.Вставить("Номенклатура", СоздатьВидНоменклатуры_Номенклатура);

	// Запрос выбирает все свойства, назначенные для данной характеристики номенклатуры, кроме общих свойств характеристик
	ЗапросПоСвойствамХарактеристик = Новый Запрос(
		"ВЫБРАТЬ
		|	НазначенияСвойствОбъектов.Объект КАК Назначение,
		|	НазначенияСвойствОбъектов.Объект.Наименование КАК НазначениеНаименование,
		|	Номенклатура.Ссылка КАК Номенклатура,
		|	СвойстваОбъектов.Ссылка КАК Свойство
		|ИЗ
		|	ПланВидовХарактеристик.СвойстваОбъектов КАК СвойстваОбъектов
		|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.НазначенияСвойствОбъектов КАК НазначенияСвойствОбъектов
		|		ПО (НазначенияСвойствОбъектов.Свойство = СвойстваОбъектов.Ссылка)
		|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК Номенклатура
		|		ПО (
		|		(
		|		Номенклатура.Родитель = НазначенияСвойствОбъектов.Объект
		|		ИЛИ Номенклатура.Родитель.Родитель = НазначенияСвойствОбъектов.Объект
		|		ИЛИ Номенклатура.Родитель.Родитель.Родитель = НазначенияСвойствОбъектов.Объект
		|		ИЛИ Номенклатура.Родитель.Родитель.Родитель.Родитель = НазначенияСвойствОбъектов.Объект
		|		ИЛИ Номенклатура.Родитель.Родитель.Родитель.Родитель.Родитель = НазначенияСвойствОбъектов.Объект
		|		)
		|		И Номенклатура.Ссылка = &amp;Номенклатура
		|		)
		|ГДЕ
		|	СвойстваОбъектов.НазначениеСвойства = ЗНАЧЕНИЕ(ПланВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_ХарактеристикиНоменклатуры)
		|	И Номенклатура.ВестиУчетПоХарактеристикам
		|	И НазначенияСвойствОбъектов.Объект.ЭтоГруппа
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	НазначенияСвойствОбъектов.Объект,
		|	НазначенияСвойствОбъектов.Объект.Наименование КАК НазначениеНаименование,
		|	НазначенияСвойствОбъектов.Объект,
		|	СвойстваОбъектов.Ссылка
		|ИЗ
		|	ПланВидовХарактеристик.СвойстваОбъектов КАК СвойстваОбъектов
		|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.НазначенияСвойствОбъектов КАК НазначенияСвойствОбъектов
		|		ПО (НазначенияСвойствОбъектов.Свойство = СвойстваОбъектов.Ссылка)
		|ГДЕ
		|	СвойстваОбъектов.НазначениеСвойства = ЗНАЧЕНИЕ(ПланВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_ХарактеристикиНоменклатуры)
		|	И Не НазначенияСвойствОбъектов.Объект.ЭтоГруппа
		|	И НазначенияСвойствОбъектов.Объект.ВестиУчетПоХарактеристикам
		|	И НазначенияСвойствОбъектов.Объект = &amp;Номенклатура");

	ЗапросПоСвойствамХарактеристик.Параметры.Вставить("Номенклатура", СоздатьВидНоменклатуры_Номенклатура);

	РезультатЗапросаПоСвойствамХарактеристик = ЗапросПоСвойствамХарактеристик.Выполнить();
	РезультатЗапросаПоСвойствамНоменклатуры  = ЗапросПоСвойствамНоменклатуры.Выполнить();

	Значение = Новый Структура;
	Значение.Вставить("ПометкаУдаления",   Ложь);
	Значение.Вставить("ТипНоменклатуры",   СоздатьВидНоменклатуры_ТипНоменклатуры);
	Значение.Вставить("ИспользоватьСерии", СоздатьВидНоменклатуры_ИспользоватьСерии);
	Значение.Вставить("АлкогольнаяПродукция",          СоздатьВидНоменклатуры_АлкогольнаяПродукция);
	Значение.Вставить("ИмпортнаяАлкогольнаяПродукция", СоздатьВидНоменклатуры_ИмпортнаяАлкогольнаяПродукция);
	Значение.Вставить("ВидАлкогольнойПродукции",       СоздатьВидНоменклатуры_ВидАлкогольнойПродукции);
	
	Если СоздатьВидНоменклатуры_Номенклатура.ВестиУчетПоХарактеристикам Тогда
		Значение.Вставить("ИспользованиеХарактеристик", ?(Параметры.СворачиватьХарактеристики, "ОбщиеДляВидаНоменклатуры", "ИндивидуальныеДляНоменклатуры"));
	Иначе
		Значение.Вставить("ИспользованиеХарактеристик", "НеИспользовать");
	КонецЕсли;

	Если СоздатьВидНоменклатуры_АлкогольнаяПродукция Тогда
		Если Значение.ИспользованиеХарактеристик = "НеИспользовать" Тогда
			Постфикс = "(б/х, алко)";
		ИначеЕсли Значение.ИспользованиеХарактеристик = "ОбщиеДляВидаНоменклатуры" Тогда
			Постфикс = "(о/х, алко)";
		Иначе
			Постфикс = "(и/х, алко)";
		КонецЕсли;
	Иначе
		Если Значение.ИспользованиеХарактеристик = "НеИспользовать" Тогда
			Постфикс = "(б/х)";
		ИначеЕсли Значение.ИспользованиеХарактеристик = "ОбщиеДляВидаНоменклатуры" Тогда
			Постфикс = "(о/х)";
		Иначе
			Постфикс = "(и/х)";
		КонецЕсли;
	КонецЕсли;	

	СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = Лев(СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры, 49-СтрДлина(Постфикс)) + " " + Постфикс;

	Значение.Вставить("НаборСвойств",              Неопределено);
	Значение.Вставить("НаборСвойствХарактеристик", Неопределено);

	СоответствиеНаименование = Новый Соответствие;
	ЕстьНаборСвойств = Ложь;
	ЕстьНаборСвойствХарактеристик = Ложь;

	// Создаем набор свойств для характеристик
	Если Не РезультатЗапросаПоСвойствамХарактеристик.Пустой() Тогда
		
		ЕстьНаборСвойствХарактеристик = Истина;
		
		НаборСвойствХарактеристик = Новый Структура;
		Значение.Вставить("НаборСвойствХарактеристик", НаборСвойствХарактеристик);
		НаборСвойствХарактеристик.Вставить("ПометкаУдаления", Ложь);
		НаборСвойствХарактеристик.Вставить("Родитель", "Справочник_ХарактеристикиНоменклатуры");
		НаборСвойствХарактеристик.Вставить("ДополнительныеРеквизиты", Новый ТаблицаЗначений);
		
		НаборСвойствХарактеристик.ДополнительныеРеквизиты.Колонки.Добавить("Свойство");
		
		Выборка = РезультатЗапросаПоСвойствамХарактеристик.Выбрать();
		Пока Выборка.Следующий() Цикл
			
			// Формирование строкового хэш из настройки назначения свойства
			Если ЗначениеЗаполнено(Выборка.НазначениеНаименование) Тогда
				СоответствиеНаименование.Вставить(Выборка.НазначениеНаименование);
			КонецЕсли;
			
			НовыеСвойство = НаборСвойствХарактеристик.ДополнительныеРеквизиты.Добавить();
			НовыеСвойство.Свойство = Выборка.Свойство;
			
		КонецЦикла;
		
	КонецЕсли;

	// Создаем набор свойств для номенклатуры
	Если Не РезультатЗапросаПоСвойствамНоменклатуры.Пустой() Тогда
		
		ЕстьНаборСвойств = Истина;
		
		НаборСвойств = Новый Структура;
		Значение.Вставить("НаборСвойств", НаборСвойств);
		НаборСвойств.Вставить("ПометкаУдаления", Ложь);
		НаборСвойств.Вставить("Родитель", "Справочник_Номенклатура");
		НаборСвойств.Вставить("ДополнительныеРеквизиты", Новый ТаблицаЗначений);
		
		НаборСвойств.ДополнительныеРеквизиты.Колонки.Добавить("Свойство");
		
		Выборка = РезультатЗапросаПоСвойствамНоменклатуры.Выбрать();
		Пока Выборка.Следующий() Цикл
			
			// Формирование строкового хэш из настройки назначения свойства
			Если ЗначениеЗаполнено(Выборка.НазначениеНаименование) Тогда
				СоответствиеНаименование.Вставить(Выборка.НазначениеНаименование);
			КонецЕсли;
			
			НовыеСвойство = НаборСвойств.ДополнительныеРеквизиты.Добавить();
			НовыеСвойство.Свойство = Выборка.Свойство;
			
		КонецЦикла;
		
	КонецЕсли;

	// Формирование наименования
	ПерваяИтерация = Истина;
	Для Каждого КлючИЗначение Из СоответствиеНаименование Цикл
		Если ПерваяИтерация Тогда
			СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры + " (" + КлючИЗначение.Ключ;	
			ПерваяИтерация = Ложь;
		Иначе
			СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры + ", " + КлючИЗначение.Ключ;
		КонецЕсли;
	КонецЦикла;

	Если Не ПерваяИтерация Тогда
		СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры + ")";
	КонецЕсли;
		
	Если ЕстьНаборСвойствХарактеристик Тогда
		СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры + " (Для характеристик)";
	КонецЕсли;

	// Длина наименования не должна превышать 50 символов.
	СоздатьВидНоменклатуры_Наименование = Лев(СокрЛП(СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры), 50);

	Значение.Вставить("Наименование", СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры);
	
	Если ЕстьНаборСвойств Тогда
		НаборСвойств.Вставить("Наименование", СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры);
	КонецЕсли;

	Если ЕстьНаборСвойствХарактеристик Тогда
		НаборСвойствХарактеристик.Вставить("Наименование", СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры + "(Для характеристик)");
	КонецЕсли;

	Если Значение.ТипНоменклатуры = "МногооборотнаяТара" Тогда
		Значение.Наименование = Значение.Наименование + " (Тара)";
	КонецЕсли;

	Параметры.КешВидовНоменклатуры.Вставить(СоздатьВидНоменклатуры_Номенклатура, Значение);
	
КонецЕсли;</Текст>
				<Параметры>Значение, СоздатьВидНоменклатуры_ТипНоменклатуры, СоздатьВидНоменклатуры_Номенклатура, СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры, СоздатьВидНоменклатуры_ИспользоватьСерии, СоздатьВидНоменклатуры_ИмпортнаяАлкогольнаяПродукция, СоздатьВидНоменклатуры_АлкогольнаяПродукция, СоздатьВидНоменклатуры_ВидАлкогольнойПродукции</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ТаблицаРасчетовСПартнерами" ИспользуетсяПриЗагрузке="false">
				<Текст>РасчетыСПартнерами = Новый ТаблицаЗначений;
РасчетыСПартнерами.Колонки.Добавить("Партнер");
РасчетыСПартнерами.Колонки.Добавить("Контрагент");
РасчетыСПартнерами.Колонки.Добавить("ДатаРасчетногоДокумента");
РасчетыСПартнерами.Колонки.Добавить("НомерРасчетногоДокумента");
РасчетыСПартнерами.Колонки.Добавить("ОбъектРасчетов");
РасчетыСПартнерами.Колонки.Добавить("Сумма");
РасчетыСПартнерами.Колонки.Добавить("СуммаРегл");
РасчетыСПартнерами.Колонки.Добавить("СуммаУпр");
РасчетыСПартнерами.Колонки.Добавить("ВалютаВзаиморасчетов");
РасчетыСПартнерами.Колонки.Добавить("ДатаПлатежа");</Текст>
				<Параметры>РасчетыСПартнерами</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ШаблонПервичногоДокумента" ИспользуетсяПриЗагрузке="false">
				<Текст>ПервичныйДокумент = Новый Структура;
ПервичныйДокумент.Вставить("ТипПервичногоДокумента");
ПервичныйДокумент.Вставить("Дата");
ПервичныйДокумент.Вставить("Номер");
ПервичныйДокумент.Вставить("Организация");
ПервичныйДокумент.Вставить("Контрагент");
ПервичныйДокумент.Вставить("Договор");
ПервичныйДокумент.Вставить("Валюта");
ПервичныйДокумент.Вставить("СуммаДокумента");
ПервичныйДокумент.Вставить("СуммаРегл");
ПервичныйДокумент.Вставить("ДатаВходящегоДокумента");
ПервичныйДокумент.Вставить("НомерВходящегоДокумента");
ПервичныйДокумент.Вставить("ПорядокРасчетов");
ПервичныйДокумент.Вставить("Комментарий");</Текст>
				<Параметры>СтруктураПД</Параметры>
			</Алгоритм>
		</Группа>
		<Группа Имя="Загрузка">
			<Алгоритм Имя="ВыполнитьПроведениеДокументов" ИспользуетсяПриЗагрузке="true">
				<Текст>Для Каждого Документ Из Параметры.ДокументыДляПроведения Цикл
	
	Если Не Документ.ЭтоНовый() Тогда
		
		// Переполучаем объект, т.к. он мог быть изменен
		ДокументОбъект = Документ.Ссылка.ПолучитьОбъект();
		
		УстановитьОбменДаннымиЗагрузка(ДокументОбъект, Ложь);
		
		Попытка
			
			Если ДокументОбъект.ПроверитьЗаполнение() Тогда
			
				ДокументОбъект.ДополнительныеСвойства.Вставить("ОтключитьМеханизмРегистрацииОбъектов", Истина);
				ДокументОбъект.ДополнительныеСвойства.Вставить("НеПроверятьДатыЗапретаИзмененияДанных");
				
				// выполняем попытку проведения документа
				ДокументОбъект.Записать(РежимЗаписиДокумента.Проведение);
				
			КонецЕсли;
		Исключение
		КонецПопытки;
	Иначе
		Попытка
			ДокументОбъект.ДополнительныеСвойства.Вставить("ОтключитьМеханизмРегистрацииОбъектов", Истина);
			ДокументОбъект.ДополнительныеСвойства.Вставить("НеПроверятьДатыЗапретаИзмененияДанных");
			ДокументОбъект.Записать(РежимЗаписиДокумента.Проведение);
		Исключение
		КонецПопытки;
	КонецЕсли;
КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьНастройкиКонтроляОстатковУСкладов" ИспользуетсяПриЗагрузке="true">
				<Текст>// Определим склады, у которых не заполнена настройка контроля остатков
Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	Склады.Ссылка,
	|	Склады.КонтролироватьОбеспечение КАК КонтролироватьОбеспечение
	|ИЗ
	|	Справочник.Склады КАК Склады
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.НастройкаКонтроляОбеспечения КАК НастройкаКонтроляОбеспечения
	|		ПО (НастройкаКонтроляОбеспечения.Склад = Склады.Ссылка)
	|ГДЕ
	|	(НЕ Склады.ЭтоГруппа)
	|	И НастройкаКонтроляОбеспечения.Склад ЕСТЬ NULL");
	
ВыборкаСкладов = Запрос.Выполнить().Выбрать();

Пока ВыборкаСкладов.Следующий() Цикл
	
	МенеджерЗаписи = РегистрыСведений.НастройкаКонтроляОбеспечения.СоздатьМенеджерЗаписи();
	
	МенеджерЗаписи.Склад          = ВыборкаСкладов.Ссылка;
	МенеджерЗаписи.Контролировать = ВыборкаСкладов.КонтролироватьОбеспечение;
	
	МенеджерЗаписи.Записать();
	
КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ОбновитьСтатусыУказанияСерийВДокументах" ИспользуетсяПриЗагрузке="true">
				<Текст>Запрос = Новый Запрос("ВЫБРАТЬ
	|	ВводОстатков.Ссылка
	|ИЗ
	|	Документ.ВводОстатков КАК ВводОстатков
	|ГДЕ
	|	(ВводОстатков.ТипОперации = ЗНАЧЕНИЕ(Перечисление.ТипыОперацийВводаОстатков.ОстаткиСобственныхТоваров)
	|		ИЛИ ВводОстатков.ТипОперации = ЗНАЧЕНИЕ(Перечисление.ТипыОперацийВводаОстатков.ОстаткиТоваровПолученныхНаКомиссию))");
	
ВыборкаДокументов = Запрос.Выполнить().Выбрать();
Пока ВыборкаДокументов.Следующий() Цикл
	
	Объект = ВыборкаДокументов.Ссылка.ПолучитьОбъект();
	
	// Обновление табличной части "Серии"
	ПараметрыУказанияСерий = НоменклатураСервер.ПараметрыУказанияСерий(Объект, Документы.ВводОстатков);
	НоменклатураСервер.ЗаполнитьСтатусыУказанияСерий(Объект, ПараметрыУказанияСерий);
	
	НоменклатураСервер.ОчиститьНеиспользуемыеСерии(Объект, ПараметрыУказанияСерий);
	
	УстановитьОбменДаннымиЗагрузка(Объект);
	Объект.Записать();
	
КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ОбработатьВидыНоменклатурыПослеЗаписи" ИспользуетсяПриЗагрузке="true">
				<Текст>// Определим склады, по которым есть документы ввода остатков с сериями
Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	ВводОстатковСерии.Ссылка.Склад КАК Склад,
	|	ВЫБОР
	|		КОГДА ВводОстатковСерии.Номенклатура ЕСТЬ NULL 
	|			ТОГДА ЛОЖЬ
	|		ИНАЧЕ ИСТИНА
	|	КОНЕЦ КАК ЕстьОстатки,
	|	ВводОстатковСерии.Номенклатура.ВидНоменклатуры КАК ВидНоменклатуры
	|ПОМЕСТИТЬ ТаблицаОстатков
	|ИЗ
	|	Документ.ВводОстатков.Серии КАК ВводОстатковСерии
	|ГДЕ
	|	НЕ ВводОстатковСерии.Ссылка.ПометкаУдаления
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ВводОстатковТовары.Ссылка.Склад,
	|	ВЫБОР
	|		КОГДА ВводОстатковТовары.Серия = ЗНАЧЕНИЕ(Справочник.СерииНоменклатуры.ПустаяСсылка)
	|			ТОГДА ЛОЖЬ
	|		ИНАЧЕ ИСТИНА
	|	КОНЕЦ,
	|	ВводОстатковТовары.Номенклатура.ВидНоменклатуры
	|ИЗ
	|	Документ.ВводОстатков.Товары КАК ВводОстатковТовары
	|ГДЕ
	|	НЕ ВводОстатковТовары.Ссылка.ПометкаУдаления
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	ВидНоменклатуры
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВидыНоменклатуры.Ссылка КАК ВидНоменклатуры,
	|	ТаблицаОстатков.Склад,
	|	МАКСИМУМ(ЕСТЬNULL(ТаблицаОстатков.ЕстьОстатки, ЛОЖЬ)) КАК ЕстьОстатки
	|ИЗ
	|	Справочник.ВидыНоменклатуры КАК ВидыНоменклатуры
	|		ЛЕВОЕ СОЕДИНЕНИЕ ТаблицаОстатков КАК ТаблицаОстатков
	|		ПО ВидыНоменклатуры.Ссылка = ТаблицаОстатков.ВидНоменклатуры
	|ГДЕ
	|	ВидыНоменклатуры.ИспользоватьСерии
	|	И ЕстьОстатки 
	|
	|СГРУППИРОВАТЬ ПО
	|	ВидыНоменклатуры.Ссылка,
	|	ТаблицаОстатков.Склад
	|ИТОГИ ПО
	|	ВидНоменклатуры");
	
ВыборкаВидовНоменклатуры = Запрос.Выполнить().Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаВидовНоменклатуры.Следующий() Цикл
	
	Объект = ВыборкаВидовНоменклатуры.ВидНоменклатуры.ПолучитьОбъект();
	
	// Заполнение настроек использования серий
	ТекущаяПолитикаУчетаСерий = Неопределено;
	Если Объект.ПолитикиУчетаСерий.Количество() &gt; 0 Тогда
		ТекущаяПолитикаУчетаСерий = Объект.ПолитикиУчетаСерий[0].ПолитикаУчетаСерий;
	КонецЕсли;
	
	Объект.ПолитикиУчетаСерий.Очистить();
	
	Если ЗначениеЗаполнено(ТекущаяПолитикаУчетаСерий) И ВыборкаВидовНоменклатуры.ЕстьОстатки Тогда
		
		ДетальнаяВыборка = ВыборкаВидовНоменклатуры.Выбрать();
		Пока ДетальнаяВыборка.Следующий() Цикл
			НоваяСтрока                    = Объект.ПолитикиУчетаСерий.Добавить();
			НоваяСтрока.ПолитикаУчетаСерий = ТекущаяПолитикаУчетаСерий;
			НоваяСтрока.Склад              = ДетальнаяВыборка.Склад;
		КонецЦикла;
	КонецЕсли;
	
	// Запись не в режиме загрузки приведет к созданию наборов дополнительных реквизитов и установке признака использования серий у складов
	Объект.Записать();
	
КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ОбработатьПослеЗаписиСкладыУчитывающиеСерии" ИспользуетсяПриЗагрузке="true">
				<Текст>// Определим склады, по которым есть документы ввода остатков с сериями
Запрос = Новый Запрос("ВЫБРАТЬ
	|	ВводОстатковСерии.Ссылка.Склад КАК Склад
	|ИЗ
	|	Документ.ВводОстатков.Серии КАК ВводОстатковСерии
	|ГДЕ
	|	НЕ ВводОстатковСерии.Ссылка.ПометкаУдаления
	|	И НЕ ВводОстатковСерии.Ссылка.Склад.ИспользоватьОрдернуюСхемуПриОтраженииИзлишковНедостач
	|	И НЕ ВводОстатковСерии.Ссылка.Склад.ИспользоватьСерииНоменклатуры
	|
	|СГРУППИРОВАТЬ ПО
	|	ВводОстатковСерии.Ссылка.Склад
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ВводОстатковТовары.Ссылка.Склад
	|ИЗ
	|	Документ.ВводОстатков.Товары КАК ВводОстатковТовары
	|ГДЕ
	|	ВводОстатковТовары.Серия &lt;&gt; ЗНАЧЕНИЕ(Справочник.СерииНоменклатуры.ПустаяСсылка)
	|	И НЕ ВводОстатковТовары.Ссылка.ПометкаУдаления
	|	И НЕ ВводОстатковТовары.Ссылка.Склад.ИспользоватьОрдернуюСхемуПриОтраженииИзлишковНедостач
	|	И НЕ ВводОстатковТовары.Ссылка.Склад.ИспользоватьСерииНоменклатуры");
	
ВыборкаСкладов = Запрос.Выполнить().Выбрать();
Пока ВыборкаСкладов.Следующий() Цикл
	
	Объект = ВыборкаСкладов.Склад.ПолучитьОбъект();
	УстановитьОбменДаннымиЗагрузка(Объект);
	Объект.ИспользоватьОрдернуюСхемуПриОтраженииИзлишковНедостач = Истина;
	Объект.ИспользоватьСерииНоменклатуры = Истина;
	Объект.Записать();
	
КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ОбработкаСправочниковОтложенная" ИспользуетсяПриЗагрузке="true">
				<Текст>Если ИмяПКО = "Номенклатура" Тогда
	
	Если Не ЗначениеЗаполнено(Объект.ИспользованиеХарактеристик) Тогда
		
		ИспользованиеХарактеристикВидаНоменклатуры = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Объект.ВидНоменклатуры,"ИспользованиеХарактеристик");
			
		Если Не ЗначениеЗаполнено(ИспользованиеХарактеристикВидаНоменклатуры) Тогда
			Объект.ИспользованиеХарактеристик = Перечисления.ВариантыИспользованияХарактеристикНоменклатуры.НеИспользовать;
		Иначе
			Объект.ИспользованиеХарактеристик = ИспользованиеХарактеристикВидаНоменклатуры;
		КонецЕсли;
		
	КонецЕсли;
	
ИначеЕсли ИмяПКО = "ФайлыНоменклатуры" 
	Или ИмяПКО = "ФайлыПартнеров"
	Или ИмяПКО = "ФайлыПроектов"
	Или ИмяПКО = "ФайлыФизическихЛиц"
	Или ИмяПКО = "ФайлыСоглашенийСКлиентами"
	Или ИмяПКО = "ФайлыСоглашенийСПоставщиками" Тогда
	
	РаботаСФайламиСлужебный.ЗаписатьФайлВИнформационнуюБазу(Объект.Ссылка, Объект.ФайлХранилище.Получить());
	
ИначеЕсли ИмяПКО = "ДоговорСПокупателемСоглашениеСКомиссионером"
	Или ИмяПКО = "ДоговорСПокупателемСоглашениеСКлиентом" Тогда
	
	//Заполним служебный реквизит вариант расчета цен
	Объект.ЗаполнитьВариантРасчетаЦен();
	Объект.ОбменДанными.Загрузка = Истина;
	Объект.Записать();
	
КонецЕсли;</Текст>
				<Параметры>Объект, ПараметрыОбъекта, ИмяПКО</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ПередЗаписьюДокументаКорректировкаРегистров" ИспользуетсяПриЗагрузке="true">
				<Текст>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);

Если Объект.ЭтоНовый() Тогда
	Объект.УстановитьНовыйНомер();
КонецЕсли;

Выполнить(Алгоритмы.УстановитьФлагиЗаписиУДвижений);</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ПослеЗагрузкиПрисоединенногоФайла" ИспользуетсяПриЗагрузке="true">
				<Текст>Объект.Автор						= ПараметрыСеанса.ТекущийПользователь;
Объект.ДатаСоздания					= ТекущаяДата();
Объект.ДатаМодификацииУниверсальная	= УниверсальноеВремя(ТекущаяДата());
Объект.Изменил						= ПараметрыСеанса.ТекущийПользователь;
Объект.ИндексКартинки				= РаботаСФайламиСлужебныйКлиентСервер.ПолучитьИндексПиктограммыФайла(Объект.Расширение);</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
			<Алгоритм Имя="СерииНоменклатуры_ЗаполнитьНаименованиеПоШаблону" ИспользуетсяПриЗагрузке="true">
				<Текст>ВидНоменклатуры = Объект.ВидНоменклатуры;
Номер			= Объект.Номер;
ГоденДо			= Объект.ГоденДо;

// {{ Справочники.СерииНоменклатуры.МодульОбъекта.ПередЗаписью
	ПараметрыШаблона = ЗначениеНастроекПовтИсп.НастройкиИспользованияСерий(ВидНоменклатуры);
	
	Номер = СокрЛП(Номер);
	
	Если ПараметрыШаблона.ТочностьУказанияСрокаГодностиСерии = Перечисления.ТочностиУказанияСрокаГодности.СТочностьюДоЧасов Тогда
		ГоденДо = НачалоЧаса(ГоденДо);
	Иначе
		ГоденДо = НачалоДня(ГоденДо);
	КонецЕсли;
	
	Наименование = НоменклатураКлиентСервер.ПредставлениеСерии(ПараметрыШаблона, Объект);
// }} Справочники.СерииНоменклатуры.МодульОбъекта.ПередЗаписью

Объект.Наименование = Наименование;
Объект.ГоденДо = ГоденДо;
Объект.Номер = Номер;</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
			<Алгоритм Имя="СформироватьСчетаФактурыПолученные" ИспользуетсяПриЗагрузке="true">
				<Текст>//Запрос = Новый Запрос("
//	|ВЫБРАТЬ
//	|	ВводОстатков.Ссылка,
//	|	ВводОстатков.Дата КАК Дата,
//	|	ВводОстатков.Организация,
//	|	ВводОстатков.Контрагент,
//	|	ВводОстатков.НомерСчетаФактуры КАК НомерСчетФактуры,
//	|	ВводОстатков.ДатаСчетаФактуры КАК ДатаСчетФактуры,
//	|	ВалютаУправленческогоУчета.Значение КАК Валюта
//	|ИЗ
//	|	Документ.ВводОстатков КАК ВводОстатков,
//	|	Константа.ВалютаУправленческогоУчета КАК ВалютаУправленческогоУчета
//	|ГДЕ
//	|	ВводОстатков.Проведен = ИСТИНА
//	|	И ВводОстатков.ПредъявленСчетФактура = ИСТИНА");
	
//Выборка = Запрос.Выполнить().Выбрать();

ВалютаСФ = Константы.ВалютаУправленческогоУчета.Получить();
Для Каждого Элемент Из Параметры.ВводОстатковСчетаФактуры Цикл
	
	ДанныеСчетаФактуры = ЗакупкиСервер.ДанныеСчетаФактурыСтруктурой(
		Элемент.Объект.Ссылка,
		Элемент.Объект.Организация,
		Элемент.Объект.Контрагент,
		Элемент.НомерСчетФактуры,
		Элемент.ДатаСчетФактуры,
		ВалютаСФ,
		Элемент.Объект.Дата);
		
	ЗакупкиСервер.ВвестиСчетФактуру(ДанныеСчетаФактуры, Истина, Ложь);
	
КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="УстановитьЗначениеРеквизитаУпорядочивания" ИспользуетсяПриЗагрузке="true">
				<Текст>// Вычислим новое значение для порядка элемента
Информация = НастройкаПорядкаЭлементов.ПолучитьИнформациюДляПеремещения(Объект.Ссылка.Метаданные());
Если Объект.РеквизитДопУпорядочивания = 0 Тогда
	Объект.РеквизитДопУпорядочивания =
		НастройкаПорядкаЭлементовСлужебный.ПолучитьНовоеЗначениеРеквизитаДопУпорядочивания(
				Информация,
				?(Информация.ЕстьРодитель, Объект.Родитель, Неопределено),
				?(Информация.ЕстьВладелец, Объект.Владелец, Неопределено));
КонецЕсли;</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
			<Алгоритм Имя="УстановитьИспользованиеОпциональныхВозможностей" ИспользуетсяПриЗагрузке="true">
				<Текст>ПереченьКонстант = Новый Структура;
ПереченьЗеркальныхКонстант = Новый Структура;

Если Параметры.ЗагруженыВалюты Тогда

	Запрос = Новый Запрос("
		|ВЫБРАТЬ
		|	КОЛИЧЕСТВО(РАЗЛИЧНЫЕ Валюты.Ссылка) КАК КоличествоВалют
		|ИЗ
		|	Справочник.Валюты КАК Валюты");
		
	КоличествоВалют = 0;
	Выборка = Запрос.Выполнить().Выбрать();
	Если Выборка.Следующий() Тогда
		КоличествоВалют = Выборка.КоличествоВалют;
	КонецЕсли;

	Если КоличествоВалют &gt; 1 Тогда
		ПереченьКонстант.Вставить("ИспользоватьНесколькоВалют");
		ПереченьЗеркальныхКонстант.Вставить("НеИспользоватьНесколькоВалют");
	КонецЕсли;

КонецЕсли;

Если Параметры.ЗагруженыСклады Тогда

	Запрос = Новый Запрос("
		|ВЫБРАТЬ
		|	КОЛИЧЕСТВО(РАЗЛИЧНЫЕ Склады.Ссылка) КАК КоличествоСкладов
		|ИЗ
		|	Справочник.Склады КАК Склады");
		
	КоличествоСкладов = 0;
	Выборка = Запрос.Выполнить().Выбрать();
	Если Выборка.Следующий() Тогда
		КоличествоСкладов = Выборка.КоличествоСкладов;
	КонецЕсли;

	Если КоличествоСкладов &gt; 1 Тогда
		ПереченьКонстант.Вставить("ИспользоватьНесколькоСкладов");
		ПереченьЗеркальныхКонстант.Вставить("НеИспользоватьНесколькоСкладов");
	КонецЕсли;

КонецЕсли;

Если Параметры.ЗагруженыОрганизации Тогда

	Запрос = Новый Запрос("ВЫБРАТЬ
		|	КОЛИЧЕСТВО(РАЗЛИЧНЫЕ Организации.Ссылка) КАК КоличествоОрганизаций
		|ИЗ
		|	Справочник.Организации КАК Организации
		|ГДЕ
		|	Организации.Ссылка &lt;&gt; ЗНАЧЕНИЕ(Справочник.Организации.УправленческаяОрганизация)");
		
	КоличествоОрганизаций = 0;
	Выборка = Запрос.Выполнить().Выбрать();
	Если Выборка.Следующий() Тогда
		КоличествоОрганизаций = Выборка.КоличествоОрганизаций;
	КонецЕсли;

	Если КоличествоОрганизаций &gt; 1 Тогда
		
		Если Метаданные.Имя &lt;&gt; "УправлениеТорговлейБазовая" Тогда
			ПереченьКонстант.Вставить("ИспользоватьНесколькоОрганизаций");
			ПереченьЗеркальныхКонстант.Вставить("НеИспользоватьНесколькоОрганизаций");
		КонецЕсли;
		ПереченьКонстант.Вставить("ИспользоватьНесколькоКасс");
		
		ПереченьКонстант.Вставить("ИспользоватьНесколькоРасчетныхСчетов");
		
		ПереченьКонстант.Вставить("ИспользоватьНесколькоРасчетныхСчетовКасс");
		
	КонецЕсли;

КонецЕсли;

Если Параметры.ЗагруженыКассы Тогда

	Запрос = Новый Запрос("
		|ВЫБРАТЬ
		|	КОЛИЧЕСТВО(РАЗЛИЧНЫЕ Кассы.Ссылка) КАК КоличествоКасс
		|ИЗ
		|	Справочник.Кассы КАК Кассы");
		
		КоличествоКасс = 0;
	Выборка = Запрос.Выполнить().Выбрать();
	Если Выборка.Следующий() Тогда
		КоличествоКасс = Выборка.КоличествоКасс;
	КонецЕсли;

	Если КоличествоКасс &gt; 1 Тогда
		
		ПереченьКонстант.Вставить("ИспользоватьНесколькоКасс");
		ПереченьКонстант.Вставить("ИспользоватьНесколькоРасчетныхСчетовКасс");
		
	КонецЕсли;

КонецЕсли;

Если Параметры.ЗагруженыРасчетныеСчета Тогда

	Запрос = Новый Запрос("
		|ВЫБРАТЬ
		|	КОЛИЧЕСТВО(РАЗЛИЧНЫЕ РасчетныеСчета.Ссылка) КАК КоличествоРасчетныхСчетов
		|ИЗ
		|	Справочник.БанковскиеСчетаОрганизаций КАК РасчетныеСчета");

	КоличествоРасчетныхСчетов = 0;
	Выборка = Запрос.Выполнить().Выбрать();
	Если Выборка.Следующий() Тогда
		КоличествоРасчетныхСчетов = Выборка.КоличествоРасчетныхСчетов;
	КонецЕсли;

	Если КоличествоРасчетныхСчетов &gt; 1 Тогда
		
		ПереченьКонстант.Вставить("ИспользоватьНесколькоРасчетныхСчетов");
		ПереченьКонстант.Вставить("ИспользоватьНесколькоРасчетныхСчетовКасс");
		
	КонецЕсли;
	
КонецЕсли;

Если Параметры.ЗагруженыВидыЦен Тогда

	Запрос = Новый Запрос("
		|ВЫБРАТЬ
		|	КОЛИЧЕСТВО(РАЗЛИЧНЫЕ ВидыЦен.Ссылка) КАК КоличествоВидовЦен
		|ИЗ
		|	Справочник.ВидыЦен КАК ВидыЦен");

	КоличествоВидовЦен = 0;
	Выборка = Запрос.Выполнить().Выбрать();
	Если Выборка.Следующий() Тогда
		КоличествоВидовЦен = Выборка.КоличествоВидовЦен;
	КонецЕсли;

	Если КоличествоВидовЦен &gt; 1 Тогда
		ПереченьКонстант.Вставить("ИспользоватьНесколькоВидовЦен");
	КонецЕсли;
	
КонецЕсли;

Если Параметры.ЗагруженыРолиКонтактныхЛиц Тогда
	ПереченьКонстант.Вставить("ИспользоватьРолиКонтактныхЛицПартнеров");
КонецЕсли;

Если Параметры.ЗагруженыГруппыДоступаПартнеров Тогда
	ПереченьКонстант.Вставить("ИспользоватьГруппыДоступаПартнеров");
КонецЕсли;

Если Параметры.ЗагруженыПОЗаказовКлиентов Тогда
	ПереченьКонстант.Вставить("ИспользоватьПричиныОтменыЗаказовКлиентов");
КонецЕсли;

Если Параметры.ЗагруженыБизнесРегионы Тогда
	ПереченьКонстант.Вставить("ИспользоватьБизнесРегионы");
КонецЕсли;	

Для Каждого Константа Из ПереченьКонстант Цикл
	
	КонстантаМенеджерЗначения = Константы[Константа.Ключ].СоздатьМенеджерЗначения();
	КонстантаМенеджерЗначения.Значение = Истина;
	ЗаписатьОбъектВИБ(КонстантаМенеджерЗначения, ТипЗнч(КонстантаМенеджерЗначения));
	
КонецЦикла;

Для Каждого Константа Из ПереченьЗеркальныхКонстант Цикл
	
	КонстантаМенеджерЗначения = Константы[Константа.Ключ].СоздатьМенеджерЗначения();
	КонстантаМенеджерЗначения.Значение = Ложь;
	ЗаписатьОбъектВИБ(КонстантаМенеджерЗначения, ТипЗнч(КонстантаМенеджерЗначения));
	
КонецЦикла;

Если ПолучитьФункциональнуюОпцию("КонтролироватьОстаткиТоваровОрганизаций") Тогда
	
	КонстантаМенеджерЗначения = Константы.ВидКонтроляТоваровОрганизаций.СоздатьМенеджерЗначения();
	КонстантаМенеджерЗначения.Значение = Перечисления.ВидыКонтроляТоваровОрганизаций.КонецМесяцаИДатаПоследнегоДвижения;
	ЗаписатьОбъектВИБ(КонстантаМенеджерЗначения, ТипЗнч(КонстантаМенеджерЗначения));
	
КонецЕсли;</Текст>
			</Алгоритм>
			<Алгоритм Имя="УстановитьМенеджераВДокумент" ИспользуетсяПриЗагрузке="true">
				<Текст>Если Не ЗначениеЗаполнено(Объект.Менеджер) Тогда
	Объект.Менеджер = ПараметрыСеанса.ТекущийПользователь;
КонецЕсли;</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
			<Алгоритм Имя="УстановитьОграниченияБазовойВерсии" ИспользуетсяПриЗагрузке="true">
				<Текст>// Виды номенклатуры
Запрос = Новый Запрос;
Запрос.Текст = 
	"ВЫБРАТЬ
	|	ВидыНоменклатуры.Ссылка
	|ИЗ
	|	Справочник.ВидыНоменклатуры КАК ВидыНоменклатуры
	|ГДЕ
	|	ВидыНоменклатуры.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.МногооборотнаяТара)
	|	ИЛИ ВидыНоменклатуры.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Набор)";
	
Выборка = Запрос.Выполнить().Выбрать();
Пока Выборка.Следующий() Цикл
	Вид = Выборка.Ссылка.ПолучитьОбъект();
	Вид.ОбменДанными.Загрузка = Истина;
	Вид.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.Товар;
	Вид.Записать();
КонецЦикла;

// Номенклатура
Запрос = Новый Запрос;
Запрос.Текст = 
	"ВЫБРАТЬ
	|	Номенклатура.Ссылка
	|ИЗ
	|	Справочник.Номенклатура КАК Номенклатура
	|ГДЕ
	|	Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.МногооборотнаяТара)
	|	ИЛИ Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Набор)";
	
Выборка = Запрос.Выполнить().Выбрать();
Пока Выборка.Следующий() Цикл
	Номенклатура = Выборка.Ссылка.ПолучитьОбъект();
	Номенклатура.ОбменДанными.Загрузка = Истина;
	Номенклатура.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.Товар;
	Номенклатура.Записать();
КонецЦикла;

// Склады
Если Параметры.ЗагруженыСклады Тогда
	Запрос = Новый Запрос;
	Запрос.Текст = 
		"ВЫБРАТЬ
		|	Склады.Ссылка
		|ИЗ
		|	Справочник.Склады КАК Склады
		|ГДЕ
		|	Склады.ИспользоватьОрдернуюСхемуПриОтгрузке ИЛИ Склады.ИспользоватьОрдернуюСхемуПриПоступлении";
		
	Выборка = Запрос.Выполнить().Выбрать();
	Пока Выборка.Следующий() Цикл
		Склад = Выборка.Ссылка.ПолучитьОбъект();
		Склад.ОбменДанными.Загрузка = Истина;
		Склад.ИспользоватьОрдернуюСхемуПриОтгрузке = Ложь;
		Склад.ИспользоватьОрдернуюСхемуПриПоступлении = Ложь;
		Склад.Записать();
	КонецЦикла;
КонецЕсли;

СтруктураКонстант = ОбщегоНазначенияУТПовтИсп.ЗначенияКонстантКонтролируемыхВБазовойВерсии();
Для Каждого КБВ Из СтруктураКонстант Цикл
	ТекЗначение = Константы[КБВ.Ключ].Получить();
	Если ТекЗначение &lt;&gt; КБВ.Значение Тогда
		Константы[КБВ.Ключ].Установить(КБВ.Значение);
	КонецЕсли;
КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="УстановитьОтветственногоВДокумент" ИспользуетсяПриЗагрузке="true">
				<Текст>Если Не ЗначениеЗаполнено(Объект.Ответственный) Тогда
	Объект.Ответственный = ПараметрыСеанса.ТекущийПользователь;
КонецЕсли;</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
			<Алгоритм Имя="УстановитьФлагиЗаписиУДвижений" ИспользуетсяПриЗагрузке="true">
				<Текст>Для Каждого Движение Из Объект.Движения Цикл
	Если Движение.Количество() &lt;&gt; 0 Тогда
		Движение.Записывать = Истина;
	КонецЕсли;
КонецЦикла;</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
		</Группа>
	</Алгоритмы>
	<Запросы>
		<Запрос Имя="ОстаткиЗаказовПокупателей" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ РАЗЛИЧНЫЕ
	ВзаиморасчетыСКонтрагентамиОстатки.Сделка
ПОМЕСТИТЬ Заказы
ИЗ
	РегистрНакопления.ВзаиморасчетыСКонтрагентами.Остатки(
			&amp;ДатаОстатков,
			Сделка ССЫЛКА Документ.ЗаказПокупателя
				И Сделка &lt;&gt; ЗНАЧЕНИЕ(Документ.ЗаказПокупателя.ПустаяСсылка)) КАК ВзаиморасчетыСКонтрагентамиОстатки
ГДЕ
	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток &lt;&gt; 0
;


////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗЛИЧНЫЕ
	Заказы.Сделка КАК Ссылка
ИЗ
	Заказы КАК Заказы</Текст>
		</Запрос>
		<Запрос Имя="ОстаткиЗаказовПоставщикам" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ РАЗЛИЧНЫЕ
	ВзаиморасчетыСКонтрагентамиОстатки.Сделка
ПОМЕСТИТЬ Заказы
ИЗ
	РегистрНакопления.ВзаиморасчетыСКонтрагентами.Остатки(
			&amp;ДатаОстатков,
			Сделка ССЫЛКА Документ.ЗаказПоставщику
				И Сделка &lt;&gt; ЗНАЧЕНИЕ(Документ.ЗаказПоставщику.ПустаяСсылка)) КАК ВзаиморасчетыСКонтрагентамиОстатки
ГДЕ
	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток &lt;&gt; 0
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗЛИЧНЫЕ
	Заказы.Сделка КАК Ссылка
ИЗ
	Заказы КАК Заказы</Текст>
		</Запрос>
		<Запрос Имя="СобственныеТоварыНаСкладах" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	НДСПартииТоваровОстатки.Номенклатура КАК Номенклатура,
	НДСПартииТоваровОстатки.ХарактеристикаНоменклатуры КАК ХарактеристикаНоменклатуры,
	НДСПартииТоваровОстатки.СерияНоменклатуры КАК СерияНоменклатуры,
	НДСПартииТоваровОстатки.Склад КАК Склад,
	НДСПартииТоваровОстатки.СтавкаНДС КАК СтавкаНДС,
	СУММА(НДСПартииТоваровОстатки.СтоимостьОстаток) КАК СтоимостьОстаток,
	СУММА(НДСПартииТоваровОстатки.КоличествоОстаток) КАК КоличествоОстаток,
	СУММА(НДСПартииТоваровОстатки.НДСОстаток) КАК НДСОстаток,
	НДСПартииТоваровОстатки.Организация КАК Организация,
	НДСПартииТоваровОстатки.СчетФактура КАК СчетФактура
ПОМЕСТИТЬ НДСПоПартиям
ИЗ
	РегистрНакопления.НДСПартииТоваров.Остатки(&amp;ДатаОстатков, ) КАК НДСПартииТоваровОстатки

СГРУППИРОВАТЬ ПО
	НДСПартииТоваровОстатки.СтавкаНДС,
	НДСПартииТоваровОстатки.Организация,
	НДСПартииТоваровОстатки.ХарактеристикаНоменклатуры,
	НДСПартииТоваровОстатки.СчетФактура,
	НДСПартииТоваровОстатки.Номенклатура,
	НДСПартииТоваровОстатки.Склад,
	НДСПартииТоваровОстатки.СерияНоменклатуры

ИНДЕКСИРОВАТЬ ПО
	Организация,
	Номенклатура,
	СчетФактура,
	ХарактеристикаНоменклатуры,
	СерияНоменклатуры,
	Склад
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ЕСТЬNULL(ОстаткиТоваров.ДокументОприходования.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)) КАК Организация,
	ОстаткиТоваров.Склад КАК Склад,
	ОстаткиТоваров.Номенклатура КАК Номенклатура,
	ОстаткиТоваров.ДокументОприходования КАК ДокументОприходования,
	ОстаткиТоваров.Номенклатура.ВестиУчетПоСериям КАК ВестиУчетПоСериям,
	ОстаткиТоваров.ХарактеристикаНоменклатуры КАК Характеристика,
	ОстаткиТоваров.Качество КАК Качество,
	ОстаткиТоваров.СерияНоменклатуры КАК Серия,
	ОстаткиТоваров.СерияНоменклатуры.НомерГТД КАК НомерГТД,
	ОстаткиТоваров.СерияНоменклатуры.СтранаПроисхождения КАК СтранаПроисхождения,
	ОстаткиТоваров.СерияНоменклатуры.ПометкаУдаления КАК ПометкаУдаления,
	СУММА(ЕСТЬNULL(ОстаткиТоваров.КоличествоОстаток, 0) * ЕСТЬNULL(ОстаткиТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)) КАК Количество,
	СУММА(ЕСТЬNULL(ОстаткиТоваров.СтоимостьОстаток, 0)) КАК СуммаИтогоУпр
ПОМЕСТИТЬ ОстаткиТоваровПоПартиям
ИЗ
	РегистрНакопления.ПартииТоваровНаСкладах.Остатки(
			&amp;ДатаОстатков,
			СтатусПартии &lt;&gt; ЗНАЧЕНИЕ(Перечисление.СтатусыПартийТоваров.НаКомиссию)
				И СтатусПартии &lt;&gt; ЗНАЧЕНИЕ(Перечисление.СтатусыПартийТоваров.ВозвратнаяТара)
				И Номенклатура.ВидНоменклатуры.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)) КАК ОстаткиТоваров

СГРУППИРОВАТЬ ПО
	ОстаткиТоваров.Номенклатура,
	ОстаткиТоваров.Склад,
	ОстаткиТоваров.ХарактеристикаНоменклатуры,
	ОстаткиТоваров.Качество,
	ЕСТЬNULL(ОстаткиТоваров.ДокументОприходования.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)),
	ОстаткиТоваров.СерияНоменклатуры,
	ОстаткиТоваров.СерияНоменклатуры.НомерГТД,
	ОстаткиТоваров.СерияНоменклатуры.СтранаПроисхождения,
	ОстаткиТоваров.СерияНоменклатуры.ПометкаУдаления,
	ОстаткиТоваров.Номенклатура.ВестиУчетПоСериям,
	ОстаткиТоваров.ДокументОприходования

ИНДЕКСИРОВАТЬ ПО
	Организация
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ОстаткиТоваровПоПартиям.Организация КАК Организация,
	ОстаткиТоваровПоПартиям.Склад КАК Склад,
	ОстаткиТоваровПоПартиям.Номенклатура КАК Номенклатура,
	ОстаткиТоваровПоПартиям.ДокументОприходования КАК ДокументОприходования,
	ОстаткиТоваровПоПартиям.ВестиУчетПоСериям КАК ВестиУчетПоСериям,
	ОстаткиТоваровПоПартиям.Характеристика КАК Характеристика,
	ОстаткиТоваровПоПартиям.Качество КАК Качество,
	ОстаткиТоваровПоПартиям.Серия КАК Серия,
	ОстаткиТоваровПоПартиям.НомерГТД КАК НомерГТД,
	ОстаткиТоваровПоПартиям.СтранаПроисхождения КАК СтранаПроисхождения,
	ОстаткиТоваровПоПартиям.ПометкаУдаления КАК ПометкаУдаления,
	ОстаткиТоваровПоПартиям.Количество,
	ОстаткиТоваровПоПартиям.СуммаИтогоУпр,
	ЕСТЬNULL(УчетнаяПолитикаНалоговыйУчетСрезПоследних.СложныйУчетНДС, ЛОЖЬ) КАК СложныйУчетНДС,
	ЕСТЬNULL(УчетнаяПолитикаНалоговыйУчетСрезПоследних.ПартионныйУчетНДСвРазрезеСерийИХарактеристик, ЛОЖЬ) КАК УчетНДСВРазрезеСерийИХарактеристик,
	ЕСТЬNULL(УчетнаяПолитикаНалоговыйУчетСрезПоследних.ПартионныйУчетНДСвРазрезеСкладов, ЛОЖЬ) КАК УчетНДСВРазрезеСкладов
ПОМЕСТИТЬ ОстаткиПоПартиямСУчетнойПолитикой
ИЗ
	ОстаткиТоваровПоПартиям КАК ОстаткиТоваровПоПартиям
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.УчетнаяПолитикаНалоговыйУчет.СрезПоследних(&amp;ДатаОстатков, ) КАК УчетнаяПолитикаНалоговыйУчетСрезПоследних
		ПО ОстаткиТоваровПоПартиям.Организация = УчетнаяПолитикаНалоговыйУчетСрезПоследних.Организация

ИНДЕКСИРОВАТЬ ПО
	Номенклатура,
	Организация,
	ДокументОприходования,
	УчетНДСВРазрезеСерийИХарактеристик,
	УчетНДСВРазрезеСкладов
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ОстаткиПоПартиямСУчетнойПолитикой.СложныйУчетНДС КАК СложныйУчетНДС,
	ОстаткиПоПартиямСУчетнойПолитикой.Организация КАК Организация,
	ОстаткиПоПартиямСУчетнойПолитикой.Склад КАК Склад,
	
	ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования       КАК ДокументОприходования,
	ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования.Дата  КАК ДатаДокументаОприходования,
	ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования.Номер КАК НомерДокументаОприходования,
	
	МАКСИМУМ(ЕСТЬNULL(ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования.Контрагент,
		ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка)))                                           КАК Партнер,
	МАКСИМУМ(ЕСТЬNULL(ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования.ДоговорКонтрагента,
		ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка)))                                  КАК Договор,
	
	ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура КАК Номенклатура,
	ОстаткиПоПартиямСУчетнойПолитикой.ВестиУчетПоСериям,
	ОстаткиПоПартиямСУчетнойПолитикой.Характеристика,
	ОстаткиПоПартиямСУчетнойПолитикой.Качество,
	ОстаткиПоПартиямСУчетнойПолитикой.Серия,
	СУММА(ОстаткиПоПартиямСУчетнойПолитикой.Количество) КАК Количество,
	СУММА(ОстаткиПоПартиямСУчетнойПолитикой.СуммаИтогоУпр) КАК Сумма,
	ЕСТЬNULL(НДСПоПартиям.СтавкаНДС, ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура.СтавкаНДС) КАК СтавкаНДС,
	СУММА(ЕСТЬNULL(НДСПоПартиям.НДСОстаток, 0)) КАК НДСРегл,
	СУММА(ЕСТЬNULL(НДСПоПартиям.НДСОстаток, 0) * ВЫБОР
			КОГДА ЕСТЬNULL(КурсыВалютСрезПоследних.Курс, 0) &gt; 0
					И ЕСТЬNULL(КурсыВалютСрезПоследних.Кратность, 0) &gt; 0
				ТОГДА КурсыВалютСрезПоследних.Кратность / КурсыВалютСрезПоследних.Курс
			ИНАЧЕ 0
		КОНЕЦ) КАК СуммаНДС,
	СУММА(ОстаткиПоПартиямСУчетнойПолитикой.СуммаИтогоУпр * ВЫБОР
			КОГДА ЕСТЬNULL(КурсыВалютСрезПоследних.Курс, 0) &gt; 0
					И ЕСТЬNULL(КурсыВалютСрезПоследних.Кратность, 0) &gt; 0
				ТОГДА КурсыВалютСрезПоследних.Курс / КурсыВалютСрезПоследних.Кратность
			ИНАЧЕ 0
		КОНЕЦ) КАК СуммаСНДСРегл,
	ОстаткиПоПартиямСУчетнойПолитикой.НомерГТД,
	ОстаткиПоПартиямСУчетнойПолитикой.СтранаПроисхождения,
	КурсыВалютСрезПоследних.Курс,
	ОстаткиПоПартиямСУчетнойПолитикой.ПометкаУдаления
ИЗ
	ОстаткиПоПартиямСУчетнойПолитикой КАК ОстаткиПоПартиямСУчетнойПолитикой
		ЛЕВОЕ СОЕДИНЕНИЕ НДСПоПартиям КАК НДСПоПартиям
		ПО ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура = НДСПоПартиям.Номенклатура
			И ОстаткиПоПартиямСУчетнойПолитикой.Организация = НДСПоПартиям.Организация
			И ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования = НДСПоПартиям.СчетФактура
			И (НЕ ОстаткиПоПартиямСУчетнойПолитикой.УчетНДСВРазрезеСерийИХарактеристик
				ИЛИ ОстаткиПоПартиямСУчетнойПолитикой.Серия = НДСПоПартиям.СерияНоменклатуры)
			И (НЕ ОстаткиПоПартиямСУчетнойПолитикой.УчетНДСВРазрезеСкладов
				ИЛИ ОстаткиПоПартиямСУчетнойПолитикой.Склад = НДСПоПартиям.Склад)
			И (НЕ ОстаткиПоПартиямСУчетнойПолитикой.УчетНДСВРазрезеСерийИХарактеристик
				ИЛИ ОстаткиПоПартиямСУчетнойПолитикой.Характеристика = НДСПоПартиям.ХарактеристикаНоменклатуры)
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, Валюта = &amp;ВалютаУпрУчета) КАК КурсыВалютСрезПоследних
		ПО (ИСТИНА)

СГРУППИРОВАТЬ ПО
	НДСПоПартиям.СтавкаНДС,
	ОстаткиПоПартиямСУчетнойПолитикой.Организация,
	ОстаткиПоПартиямСУчетнойПолитикой.Склад,
	ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура,
	ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования,
	ОстаткиПоПартиямСУчетнойПолитикой.ВестиУчетПоСериям,
	ОстаткиПоПартиямСУчетнойПолитикой.Характеристика,
	ОстаткиПоПартиямСУчетнойПолитикой.Качество,
	ОстаткиПоПартиямСУчетнойПолитикой.Серия,
	ОстаткиПоПартиямСУчетнойПолитикой.НомерГТД,
	ОстаткиПоПартиямСУчетнойПолитикой.СтранаПроисхождения,
	ОстаткиПоПартиямСУчетнойПолитикой.Количество,
	ОстаткиПоПартиямСУчетнойПолитикой.СуммаИтогоУпр,
	ОстаткиПоПартиямСУчетнойПолитикой.СложныйУчетНДС,
	КурсыВалютСрезПоследних.Курс,
	ОстаткиПоПартиямСУчетнойПолитикой.ПометкаУдаления,
	ЕСТЬNULL(НДСПоПартиям.СтавкаНДС, ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура.СтавкаНДС)

УПОРЯДОЧИТЬ ПО
	Организация,
	Склад,
	СложныйУчетНДС,
	Номенклатура,
	ДокументОприходования

ИТОГИ ПО
	Организация,
	Склад,
	СложныйУчетНДС,
	ДокументОприходования</Текст>
		</Запрос>
		<Запрос Имя="СобственныеТоварыНаСкладахПоСредней" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	НДСПартииТоваровОстатки.Номенклатура КАК Номенклатура,
	НДСПартииТоваровОстатки.ХарактеристикаНоменклатуры КАК ХарактеристикаНоменклатуры,
	НДСПартииТоваровОстатки.СерияНоменклатуры КАК СерияНоменклатуры,
	НДСПартииТоваровОстатки.Склад КАК Склад,
	НДСПартииТоваровОстатки.СтавкаНДС КАК СтавкаНДС,
	СУММА(НДСПартииТоваровОстатки.СтоимостьОстаток) КАК СтоимостьОстаток,
	СУММА(НДСПартииТоваровОстатки.КоличествоОстаток) КАК КоличествоОстаток,
	СУММА(НДСПартииТоваровОстатки.НДСОстаток) КАК НДСОстаток,
	НДСПартииТоваровОстатки.Организация КАК Организация,
	НДСПартииТоваровОстатки.СчетФактура КАК СчетФактура
ПОМЕСТИТЬ НДСПоПартиям
ИЗ
	РегистрНакопления.НДСПартииТоваров.Остатки(&amp;ДатаОстатков, ) КАК НДСПартииТоваровОстатки

СГРУППИРОВАТЬ ПО
	НДСПартииТоваровОстатки.СтавкаНДС,
	НДСПартииТоваровОстатки.Организация,
	НДСПартииТоваровОстатки.ХарактеристикаНоменклатуры,
	НДСПартииТоваровОстатки.СчетФактура,
	НДСПартииТоваровОстатки.Номенклатура,
	НДСПартииТоваровОстатки.Склад,
	НДСПартииТоваровОстатки.СерияНоменклатуры

ИНДЕКСИРОВАТЬ ПО
	Организация,
	Номенклатура,
	СчетФактура,
	ХарактеристикаНоменклатуры,
	СерияНоменклатуры,
	Склад
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ПартииТоваровНаСкладах.Регистратор.Организация КАК Организация,
	ПартииТоваровНаСкладах.Склад КАК Склад,
	ПартииТоваровНаСкладах.Номенклатура КАК Номенклатура,
	ПартииТоваровНаСкладах.ДокументОприходования КАК ДокументОприходования,
	ПартииТоваровНаСкладах.Номенклатура.ВестиУчетПоСериям КАК ВестиУчетПоСериям,
	ПартииТоваровНаСкладах.ХарактеристикаНоменклатуры КАК Характеристика,
	ПартииТоваровНаСкладах.Качество КАК Качество,
	ПартииТоваровНаСкладах.СерияНоменклатуры КАК Серия,
	ПартииТоваровНаСкладах.СерияНоменклатуры.НомерГТД КАК НомерГТД,
	ПартииТоваровНаСкладах.СерияНоменклатуры.СтранаПроисхождения КАК СтранаПроисхождения,
	ПартииТоваровНаСкладах.СерияНоменклатуры.ПометкаУдаления КАК ПометкаУдаления,
	СУММА(ВЫБОР
			КОГДА ПартииТоваровНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ПартииТоваровНаСкладах.Количество * ЕСТЬNULL(ПартииТоваровНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
			ИНАЧЕ -ПартииТоваровНаСкладах.Количество * ЕСТЬNULL(ПартииТоваровНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
		КОНЕЦ) КАК Количество,
	СУММА(ВЫБОР
			КОГДА ПартииТоваровНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ПартииТоваровНаСкладах.Стоимость
			ИНАЧЕ -ПартииТоваровНаСкладах.Стоимость
		КОНЕЦ) КАК СуммаИтогоУпр
ПОМЕСТИТЬ ОстаткиТоваровПоПартиям
ИЗ
	РегистрНакопления.ПартииТоваровНаСкладах КАК ПартииТоваровНаСкладах
ГДЕ
	ПартииТоваровНаСкладах.Период &lt;= &amp;ДатаОстатков
	И ПартииТоваровНаСкладах.СтатусПартии &lt;&gt; ЗНАЧЕНИЕ(Перечисление.СтатусыПартийТоваров.НаКомиссию)
	И ПартииТоваровНаСкладах.СтатусПартии &lt;&gt; ЗНАЧЕНИЕ(Перечисление.СтатусыПартийТоваров.ВозвратнаяТара)
	И ПартииТоваровНаСкладах.Номенклатура.ВидНоменклатуры.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)

СГРУППИРОВАТЬ ПО
	ПартииТоваровНаСкладах.Номенклатура,
	ПартииТоваровНаСкладах.Склад,
	ПартииТоваровНаСкладах.ХарактеристикаНоменклатуры,
	ПартииТоваровНаСкладах.Качество,
	ПартииТоваровНаСкладах.Регистратор.Организация,
	ПартииТоваровНаСкладах.СерияНоменклатуры,
	ПартииТоваровНаСкладах.СерияНоменклатуры.НомерГТД,
	ПартииТоваровНаСкладах.СерияНоменклатуры.СтранаПроисхождения,
	ПартииТоваровНаСкладах.СерияНоменклатуры.ПометкаУдаления,
	ПартииТоваровНаСкладах.Номенклатура.ВестиУчетПоСериям,
	ПартииТоваровНаСкладах.ДокументОприходования

ИМЕЮЩИЕ
	(СУММА(ВЫБОР
				КОГДА ПартииТоваровНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
					ТОГДА ПартииТоваровНаСкладах.Количество * ЕСТЬNULL(ПартииТоваровНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
				ИНАЧЕ -ПартииТоваровНаСкладах.Количество * ЕСТЬNULL(ПартииТоваровНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
			КОНЕЦ) &lt;&gt; 0
		ИЛИ СУММА(ВЫБОР
				КОГДА ПартииТоваровНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
					ТОГДА ПартииТоваровНаСкладах.Стоимость
				ИНАЧЕ -ПартииТоваровНаСкладах.Стоимость
			КОНЕЦ) &lt;&gt; 0)

ИНДЕКСИРОВАТЬ ПО
	Организация
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ОстаткиТоваровПоПартиям.Организация КАК Организация,
	ОстаткиТоваровПоПартиям.Склад КАК Склад,
	ОстаткиТоваровПоПартиям.Номенклатура КАК Номенклатура,
	ОстаткиТоваровПоПартиям.ДокументОприходования КАК ДокументОприходования,
	ОстаткиТоваровПоПартиям.ВестиУчетПоСериям КАК ВестиУчетПоСериям,
	ОстаткиТоваровПоПартиям.Характеристика КАК Характеристика,
	ОстаткиТоваровПоПартиям.Качество КАК Качество,
	ОстаткиТоваровПоПартиям.Серия КАК Серия,
	ОстаткиТоваровПоПартиям.НомерГТД КАК НомерГТД,
	ОстаткиТоваровПоПартиям.СтранаПроисхождения КАК СтранаПроисхождения,
	ОстаткиТоваровПоПартиям.ПометкаУдаления КАК ПометкаУдаления,
	ОстаткиТоваровПоПартиям.Количество,
	ОстаткиТоваровПоПартиям.СуммаИтогоУпр,
	ЕСТЬNULL(УчетнаяПолитикаНалоговыйУчетСрезПоследних.СложныйУчетНДС, ЛОЖЬ) КАК СложныйУчетНДС,
	ЕСТЬNULL(УчетнаяПолитикаНалоговыйУчетСрезПоследних.ПартионныйУчетНДСвРазрезеСерийИХарактеристик, ЛОЖЬ) КАК УчетНДСВРазрезеСерийИХарактеристик,
	ЕСТЬNULL(УчетнаяПолитикаНалоговыйУчетСрезПоследних.ПартионныйУчетНДСвРазрезеСкладов, ЛОЖЬ) КАК УчетНДСВРазрезеСкладов
ПОМЕСТИТЬ ОстаткиПоПартиямСУчетнойПолитикой
ИЗ
	ОстаткиТоваровПоПартиям КАК ОстаткиТоваровПоПартиям
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.УчетнаяПолитикаНалоговыйУчет.СрезПоследних(&amp;ДатаОстатков, ) КАК УчетнаяПолитикаНалоговыйУчетСрезПоследних
		ПО ОстаткиТоваровПоПартиям.Организация = УчетнаяПолитикаНалоговыйУчетСрезПоследних.Организация

ИНДЕКСИРОВАТЬ ПО
	Номенклатура,
	Организация,
	ДокументОприходования,
	УчетНДСВРазрезеСерийИХарактеристик,
	УчетНДСВРазрезеСкладов
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ОстаткиПоПартиямСУчетнойПолитикой.СложныйУчетНДС КАК СложныйУчетНДС,
	ОстаткиПоПартиямСУчетнойПолитикой.Организация КАК Организация,
	ОстаткиПоПартиямСУчетнойПолитикой.Склад КАК Склад,
	
	ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования       КАК ДокументОприходования,
	ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования.Дата  КАК ДатаДокументаОприходования,
	ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования.Номер КАК НомерДокументаОприходования,
	
	МАКСИМУМ(ЕСТЬNULL(ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования.Контрагент,
		ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка)))                                           КАК Партнер,
	МАКСИМУМ(ЕСТЬNULL(ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования.ДоговорКонтрагента,
		ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка)))                                  КАК Договор,
	
	ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура КАК Номенклатура,
	ОстаткиПоПартиямСУчетнойПолитикой.ВестиУчетПоСериям,
	ОстаткиПоПартиямСУчетнойПолитикой.Характеристика,
	ОстаткиПоПартиямСУчетнойПолитикой.Качество,
	ОстаткиПоПартиямСУчетнойПолитикой.Серия,
	СУММА(ОстаткиПоПартиямСУчетнойПолитикой.Количество) КАК Количество,
	СУММА(ОстаткиПоПартиямСУчетнойПолитикой.СуммаИтогоУпр) КАК Сумма,
	ЕСТЬNULL(НДСПоПартиям.СтавкаНДС, ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура.СтавкаНДС) КАК СтавкаНДС,
	СУММА(ЕСТЬNULL(НДСПоПартиям.НДСОстаток, 0)) КАК НДСРегл,
	СУММА(ЕСТЬNULL(НДСПоПартиям.НДСОстаток, 0) * ВЫБОР
			КОГДА ЕСТЬNULL(КурсыВалютСрезПоследних.Курс, 0) &gt; 0
					И ЕСТЬNULL(КурсыВалютСрезПоследних.Кратность, 0) &gt; 0
				ТОГДА КурсыВалютСрезПоследних.Кратность / КурсыВалютСрезПоследних.Курс
			ИНАЧЕ 0
		КОНЕЦ) КАК СуммаНДС,
	СУММА(ОстаткиПоПартиямСУчетнойПолитикой.СуммаИтогоУпр * ВЫБОР
			КОГДА ЕСТЬNULL(КурсыВалютСрезПоследних.Курс, 0) &gt; 0
					И ЕСТЬNULL(КурсыВалютСрезПоследних.Кратность, 0) &gt; 0
				ТОГДА КурсыВалютСрезПоследних.Курс / КурсыВалютСрезПоследних.Кратность
			ИНАЧЕ 0
		КОНЕЦ) КАК СуммаСНДСРегл,
	ОстаткиПоПартиямСУчетнойПолитикой.НомерГТД,
	ОстаткиПоПартиямСУчетнойПолитикой.СтранаПроисхождения,
	КурсыВалютСрезПоследних.Курс,
	ОстаткиПоПартиямСУчетнойПолитикой.ПометкаУдаления
ИЗ
	ОстаткиПоПартиямСУчетнойПолитикой КАК ОстаткиПоПартиямСУчетнойПолитикой
		ЛЕВОЕ СОЕДИНЕНИЕ НДСПоПартиям КАК НДСПоПартиям
		ПО ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура = НДСПоПартиям.Номенклатура
			И ОстаткиПоПартиямСУчетнойПолитикой.Организация = НДСПоПартиям.Организация
			И ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования = НДСПоПартиям.СчетФактура
			И (НЕ ОстаткиПоПартиямСУчетнойПолитикой.УчетНДСВРазрезеСерийИХарактеристик
				ИЛИ ОстаткиПоПартиямСУчетнойПолитикой.Серия = НДСПоПартиям.СерияНоменклатуры)
			И (НЕ ОстаткиПоПартиямСУчетнойПолитикой.УчетНДСВРазрезеСкладов
				ИЛИ ОстаткиПоПартиямСУчетнойПолитикой.Склад = НДСПоПартиям.Склад)
			И (НЕ ОстаткиПоПартиямСУчетнойПолитикой.УчетНДСВРазрезеСерийИХарактеристик
				ИЛИ ОстаткиПоПартиямСУчетнойПолитикой.Характеристика = НДСПоПартиям.ХарактеристикаНоменклатуры)
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, Валюта = &amp;ВалютаУпрУчета) КАК КурсыВалютСрезПоследних
		ПО (ИСТИНА)

СГРУППИРОВАТЬ ПО
	НДСПоПартиям.СтавкаНДС,
	ОстаткиПоПартиямСУчетнойПолитикой.Организация,
	ОстаткиПоПартиямСУчетнойПолитикой.Склад,
	ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура,
	ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования,
	ОстаткиПоПартиямСУчетнойПолитикой.ВестиУчетПоСериям,
	ОстаткиПоПартиямСУчетнойПолитикой.Характеристика,
	ОстаткиПоПартиямСУчетнойПолитикой.Качество,
	ОстаткиПоПартиямСУчетнойПолитикой.Серия,
	ОстаткиПоПартиямСУчетнойПолитикой.НомерГТД,
	ОстаткиПоПартиямСУчетнойПолитикой.СтранаПроисхождения,
	ОстаткиПоПартиямСУчетнойПолитикой.Количество,
	ОстаткиПоПартиямСУчетнойПолитикой.СуммаИтогоУпр,
	ОстаткиПоПартиямСУчетнойПолитикой.СложныйУчетНДС,
	КурсыВалютСрезПоследних.Курс,
	ОстаткиПоПартиямСУчетнойПолитикой.ПометкаУдаления,
	ЕСТЬNULL(НДСПоПартиям.СтавкаНДС, ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура.СтавкаНДС)

УПОРЯДОЧИТЬ ПО
	Организация,
	Склад,
	СложныйУчетНДС,
	Номенклатура,
	ДокументОприходования

ИТОГИ ПО
	Организация,
	Склад,
	СложныйУчетНДС,
	ДокументОприходования</Текст>
		</Запрос>
		<Запрос Имя="СобственныеТоварыПартииБезСкладов" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	НДСПартииТоваровОстатки.Номенклатура КАК Номенклатура,
	НДСПартииТоваровОстатки.ХарактеристикаНоменклатуры КАК ХарактеристикаНоменклатуры,
	НДСПартииТоваровОстатки.СерияНоменклатуры КАК СерияНоменклатуры,
	НДСПартииТоваровОстатки.СтавкаНДС КАК СтавкаНДС,
	СУММА(НДСПартииТоваровОстатки.СтоимостьОстаток) КАК СтоимостьОстаток,
	СУММА(НДСПартииТоваровОстатки.КоличествоОстаток) КАК КоличествоОстаток,
	СУММА(НДСПартииТоваровОстатки.НДСОстаток) КАК НДСОстаток,
	НДСПартииТоваровОстатки.Организация КАК Организация,
	НДСПартииТоваровОстатки.СчетФактура КАК СчетФактура
ПОМЕСТИТЬ НДСПоПартиям
ИЗ
	РегистрНакопления.НДСПартииТоваров.Остатки(&amp;ДатаОстатков, ) КАК НДСПартииТоваровОстатки

СГРУППИРОВАТЬ ПО
	НДСПартииТоваровОстатки.СтавкаНДС,
	НДСПартииТоваровОстатки.Организация,
	НДСПартииТоваровОстатки.ХарактеристикаНоменклатуры,
	НДСПартииТоваровОстатки.СчетФактура,
	НДСПартииТоваровОстатки.Номенклатура,
	НДСПартииТоваровОстатки.СерияНоменклатуры

ИНДЕКСИРОВАТЬ ПО
	Организация,
	Номенклатура,
	СчетФактура,
	ХарактеристикаНоменклатуры,
	СерияНоменклатуры
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ЕСТЬNULL(ОстаткиТоваров.ДокументОприходования.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)) КАК Организация,
	ОстаткиТоваров.Номенклатура КАК Номенклатура,
	ОстаткиТоваров.ДокументОприходования КАК ДокументОприходования,
	ОстаткиТоваров.Номенклатура.ВестиУчетПоСериям КАК ВестиУчетПоСериям,
	ОстаткиТоваров.ХарактеристикаНоменклатуры КАК Характеристика,
	ОстаткиТоваров.Качество КАК Качество,
	ОстаткиТоваров.СерияНоменклатуры КАК Серия,
	ОстаткиТоваров.СерияНоменклатуры.НомерГТД КАК НомерГТД,
	ОстаткиТоваров.СерияНоменклатуры.СтранаПроисхождения КАК СтранаПроисхождения,
	ОстаткиТоваров.СерияНоменклатуры.ПометкаУдаления КАК ПометкаУдаления,
	СУММА(ЕСТЬNULL(ОстаткиТоваров.КоличествоОстаток, 0) * ЕСТЬNULL(ОстаткиТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)) КАК Количество,
	СУММА(ЕСТЬNULL(ОстаткиТоваров.СтоимостьОстаток, 0)) КАК СуммаИтогоУпр
ПОМЕСТИТЬ ОстаткиТоваровПоПартиям
ИЗ
	РегистрНакопления.ПартииТоваровНаСкладах.Остатки(
			&amp;ДатаОстатков,
			СтатусПартии &lt;&gt; ЗНАЧЕНИЕ(Перечисление.СтатусыПартийТоваров.НаКомиссию)
				И СтатусПартии &lt;&gt; ЗНАЧЕНИЕ(Перечисление.СтатусыПартийТоваров.ВозвратнаяТара)
				И Номенклатура.ВидНоменклатуры.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)) КАК ОстаткиТоваров

СГРУППИРОВАТЬ ПО
	ОстаткиТоваров.Номенклатура,
	ОстаткиТоваров.ХарактеристикаНоменклатуры,
	ОстаткиТоваров.Качество,
	ЕСТЬNULL(ОстаткиТоваров.ДокументОприходования.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)),
	ОстаткиТоваров.СерияНоменклатуры,
	ОстаткиТоваров.СерияНоменклатуры.НомерГТД,
	ОстаткиТоваров.СерияНоменклатуры.СтранаПроисхождения,
	ОстаткиТоваров.СерияНоменклатуры.ПометкаУдаления,
	ОстаткиТоваров.Номенклатура.ВестиУчетПоСериям,
	ОстаткиТоваров.ДокументОприходования

ИНДЕКСИРОВАТЬ ПО
	Организация
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ОстаткиТоваровПоПартиям.Организация КАК Организация,
	ОстаткиТоваровПоПартиям.Номенклатура КАК Номенклатура,
	ОстаткиТоваровПоПартиям.ДокументОприходования КАК ДокументОприходования,
	ОстаткиТоваровПоПартиям.ВестиУчетПоСериям КАК ВестиУчетПоСериям,
	ОстаткиТоваровПоПартиям.Характеристика КАК Характеристика,
	ОстаткиТоваровПоПартиям.Качество КАК Качество,
	ОстаткиТоваровПоПартиям.Серия КАК Серия,
	ОстаткиТоваровПоПартиям.НомерГТД КАК НомерГТД,
	ОстаткиТоваровПоПартиям.СтранаПроисхождения КАК СтранаПроисхождения,
	ОстаткиТоваровПоПартиям.ПометкаУдаления КАК ПометкаУдаления,
	ОстаткиТоваровПоПартиям.Количество,
	ОстаткиТоваровПоПартиям.СуммаИтогоУпр,
	ЕСТЬNULL(УчетнаяПолитикаНалоговыйУчетСрезПоследних.СложныйУчетНДС, ЛОЖЬ) КАК СложныйУчетНДС,
	ЕСТЬNULL(УчетнаяПолитикаНалоговыйУчетСрезПоследних.ПартионныйУчетНДСвРазрезеСерийИХарактеристик, ЛОЖЬ) КАК УчетНДСВРазрезеСерийИХарактеристик
ПОМЕСТИТЬ ОстаткиПоПартиямСУчетнойПолитикой
ИЗ
	ОстаткиТоваровПоПартиям КАК ОстаткиТоваровПоПартиям
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.УчетнаяПолитикаНалоговыйУчет.СрезПоследних(&amp;ДатаОстатков, ) КАК УчетнаяПолитикаНалоговыйУчетСрезПоследних
		ПО ОстаткиТоваровПоПартиям.Организация = УчетнаяПолитикаНалоговыйУчетСрезПоследних.Организация

ИНДЕКСИРОВАТЬ ПО
	Номенклатура,
	Организация,
	ДокументОприходования,
	УчетНДСВРазрезеСерийИХарактеристик
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ОстаткиПоПартиямСУчетнойПолитикой.Организация КАК Организация,
	ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура КАК Номенклатура,
	ОстаткиПоПартиямСУчетнойПолитикой.Характеристика,
	ОстаткиПоПартиямСУчетнойПолитикой.Качество,
	ОстаткиПоПартиямСУчетнойПолитикой.Серия,
	СУММА(ОстаткиПоПартиямСУчетнойПолитикой.Количество) КАК Количество,
	СУММА(ОстаткиПоПартиямСУчетнойПолитикой.СуммаИтогоУпр) КАК Сумма,
	МАКСИМУМ(ЕСТЬNULL(НДСПоПартиям.СтавкаНДС, ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура.СтавкаНДС)) КАК СтавкаНДС,
	СУММА(ЕСТЬNULL(НДСПоПартиям.НДСОстаток, 0)) КАК НДСРегл,
	СУММА(ЕСТЬNULL(НДСПоПартиям.НДСОстаток, 0) * ВЫБОР
			КОГДА ЕСТЬNULL(КурсыВалютСрезПоследних.Курс, 0) &gt; 0
					И ЕСТЬNULL(КурсыВалютСрезПоследних.Кратность, 0) &gt; 0
				ТОГДА КурсыВалютСрезПоследних.Кратность / КурсыВалютСрезПоследних.Курс
			ИНАЧЕ 0
		КОНЕЦ) КАК СуммаНДС,
	СУММА(ОстаткиПоПартиямСУчетнойПолитикой.СуммаИтогоУпр * ВЫБОР
			КОГДА ЕСТЬNULL(КурсыВалютСрезПоследних.Курс, 0) &gt; 0
					И ЕСТЬNULL(КурсыВалютСрезПоследних.Кратность, 0) &gt; 0
				ТОГДА КурсыВалютСрезПоследних.Курс / КурсыВалютСрезПоследних.Кратность
			ИНАЧЕ 0
		КОНЕЦ) КАК СуммаСНДСРегл,
	МАКСИМУМ(ОстаткиПоПартиямСУчетнойПолитикой.НомерГТД) КАК НомерГТД,
	МАКСИМУМ(ОстаткиПоПартиямСУчетнойПолитикой.СтранаПроисхождения) КАК СтранаПроисхождения
ИЗ
	ОстаткиПоПартиямСУчетнойПолитикой КАК ОстаткиПоПартиямСУчетнойПолитикой
		ЛЕВОЕ СОЕДИНЕНИЕ НДСПоПартиям КАК НДСПоПартиям
		ПО ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура = НДСПоПартиям.Номенклатура
			И ОстаткиПоПартиямСУчетнойПолитикой.Организация = НДСПоПартиям.Организация
			И ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования = НДСПоПартиям.СчетФактура
			И (НЕ ОстаткиПоПартиямСУчетнойПолитикой.УчетНДСВРазрезеСерийИХарактеристик
				ИЛИ ОстаткиПоПартиямСУчетнойПолитикой.Серия = НДСПоПартиям.СерияНоменклатуры)
			И (НЕ ОстаткиПоПартиямСУчетнойПолитикой.УчетНДСВРазрезеСерийИХарактеристик
				ИЛИ ОстаткиПоПартиямСУчетнойПолитикой.Характеристика = НДСПоПартиям.ХарактеристикаНоменклатуры)
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, Валюта = &amp;ВалютаУпрУчета) КАК КурсыВалютСрезПоследних
		ПО (ИСТИНА)

СГРУППИРОВАТЬ ПО
	ОстаткиПоПартиямСУчетнойПолитикой.Организация,
	ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура,
	ОстаткиПоПартиямСУчетнойПолитикой.Характеристика,
	ОстаткиПоПартиямСУчетнойПолитикой.Качество,
	ОстаткиПоПартиямСУчетнойПолитикой.Серия

УПОРЯДОЧИТЬ ПО
	Организация,
	Номенклатура,
	ОстаткиПоПартиямСУчетнойПолитикой.Характеристика,
	Серия,
	Качество

ИТОГИ ПО
	Организация
;

ВЫБРАТЬ
	ТоварыНаСкладах.Регистратор.Организация КАК Организация,
	ТоварыНаСкладах.Склад КАК Склад,
	ТоварыНаСкладах.Номенклатура КАК Номенклатура,
	ТоварыНаСкладах.Номенклатура.ВестиУчетПоСериям КАК ВестиУчетПоСериям,
	ТоварыНаСкладах.Номенклатура.ВестиПартионныйУчетПоСериям КАК ВестиПартионныйУчетПоСериям,
	ТоварыНаСкладах.ХарактеристикаНоменклатуры КАК Характеристика,
	ТоварыНаСкладах.СерияНоменклатуры КАК Серия,
	ТоварыНаСкладах.Качество КАК Качество,
	СУММА(ВЫБОР
			КОГДА ТоварыНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ТоварыНаСкладах.Количество * ЕСТЬNULL(ТоварыНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
			ИНАЧЕ -ТоварыНаСкладах.Количество * ЕСТЬNULL(ТоварыНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
		КОНЕЦ) КАК Количество
ИЗ
	РегистрНакопления.ТоварыНаСкладах КАК ТоварыНаСкладах

СГРУППИРОВАТЬ ПО
	ТоварыНаСкладах.Регистратор.Организация,
	ТоварыНаСкладах.Склад,
	ТоварыНаСкладах.Качество,
	ТоварыНаСкладах.ХарактеристикаНоменклатуры,
	ТоварыНаСкладах.Номенклатура,
	ТоварыНаСкладах.Номенклатура.ВестиУчетПоСериям,
	ТоварыНаСкладах.Номенклатура.ВестиПартионныйУчетПоСериям,
	ТоварыНаСкладах.СерияНоменклатуры

ИМЕЮЩИЕ
	СУММА(ВЫБОР
			КОГДА ТоварыНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ТоварыНаСкладах.Количество * ЕСТЬNULL(ТоварыНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
			ИНАЧЕ -ТоварыНаСкладах.Количество * ЕСТЬNULL(ТоварыНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
		КОНЕЦ) &lt;&gt; 0

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ТоварыВРознице.Регистратор.Организация,
	ТоварыВРознице.Склад,
	ТоварыВРознице.Номенклатура,
	ТоварыВРознице.Номенклатура.ВестиУчетПоСериям,
	ТоварыВРознице.Номенклатура.ВестиПартионныйУчетПоСериям,
	ТоварыВРознице.ХарактеристикаНоменклатуры,
	ТоварыВРознице.СерияНоменклатуры,
	ТоварыВРознице.Качество,
	СУММА(ВЫБОР
			КОГДА ТоварыВРознице.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ТоварыВРознице.Количество * ЕСТЬNULL(ТоварыВРознице.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
			ИНАЧЕ -ТоварыВРознице.Количество * ЕСТЬNULL(ТоварыВРознице.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
		КОНЕЦ)
ИЗ
	РегистрНакопления.ТоварыВРознице КАК ТоварыВРознице

СГРУППИРОВАТЬ ПО
	ТоварыВРознице.Склад,
	ТоварыВРознице.Номенклатура,
	ТоварыВРознице.ХарактеристикаНоменклатуры,
	ТоварыВРознице.СерияНоменклатуры,
	ТоварыВРознице.Качество,
	ТоварыВРознице.Регистратор.Организация,
	ТоварыВРознице.Номенклатура.ВестиУчетПоСериям,
	ТоварыВРознице.Номенклатура.ВестиПартионныйУчетПоСериям

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ТоварыВНТТ.Регистратор.Организация,
	ТоварыВНТТ.Склад,
	ТоварыВНТТ.Номенклатура,
	ТоварыВНТТ.Номенклатура.ВестиУчетПоСериям,
	ТоварыВНТТ.Номенклатура.ВестиПартионныйУчетПоСериям,
	ТоварыВНТТ.ХарактеристикаНоменклатуры,
	ТоварыВНТТ.СерияНоменклатуры,
	ЗНАЧЕНИЕ(Справочник.Качество.Новый),
	СУММА(ВЫБОР
			КОГДА ТоварыВНТТ.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ТоварыВНТТ.Количество * ЕСТЬNULL(ТоварыВНТТ.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
			ИНАЧЕ -ТоварыВНТТ.Количество * ЕСТЬNULL(ТоварыВНТТ.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
		КОНЕЦ)
ИЗ
	РегистрНакопления.ТоварыВНТТ КАК ТоварыВНТТ

СГРУППИРОВАТЬ ПО
	ТоварыВНТТ.Склад,
	ТоварыВНТТ.Номенклатура,
	ТоварыВНТТ.ХарактеристикаНоменклатуры,
	ТоварыВНТТ.СерияНоменклатуры,
	ТоварыВНТТ.Регистратор.Организация,
	ТоварыВНТТ.Номенклатура.ВестиУчетПоСериям,
	ТоварыВНТТ.Номенклатура.ВестиПартионныйУчетПоСериям
	
УПОРЯДОЧИТЬ ПО
	Организация,
	Склад,
	Номенклатура,
	Качество</Текст>
		</Запрос>
		<Запрос Имя="СобственныеТоварыПартииБезСкладовПоСредней" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	НДСПартииТоваровОстатки.Номенклатура КАК Номенклатура,
	НДСПартииТоваровОстатки.ХарактеристикаНоменклатуры КАК ХарактеристикаНоменклатуры,
	НДСПартииТоваровОстатки.СерияНоменклатуры КАК СерияНоменклатуры,
	НДСПартииТоваровОстатки.СтавкаНДС КАК СтавкаНДС,
	СУММА(НДСПартииТоваровОстатки.СтоимостьОстаток) КАК СтоимостьОстаток,
	СУММА(НДСПартииТоваровОстатки.КоличествоОстаток) КАК КоличествоОстаток,
	СУММА(НДСПартииТоваровОстатки.НДСОстаток) КАК НДСОстаток,
	НДСПартииТоваровОстатки.Организация КАК Организация,
	НДСПартииТоваровОстатки.СчетФактура КАК СчетФактура
ПОМЕСТИТЬ НДСПоПартиям
ИЗ
	РегистрНакопления.НДСПартииТоваров.Остатки(&amp;ДатаОстатков, ) КАК НДСПартииТоваровОстатки

СГРУППИРОВАТЬ ПО
	НДСПартииТоваровОстатки.СтавкаНДС,
	НДСПартииТоваровОстатки.Организация,
	НДСПартииТоваровОстатки.ХарактеристикаНоменклатуры,
	НДСПартииТоваровОстатки.СчетФактура,
	НДСПартииТоваровОстатки.Номенклатура,
	НДСПартииТоваровОстатки.СерияНоменклатуры

ИНДЕКСИРОВАТЬ ПО
	Организация,
	Номенклатура,
	СчетФактура,
	ХарактеристикаНоменклатуры,
	СерияНоменклатуры
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ПартииТоваровНаСкладах.Регистратор.Организация КАК Организация,
	ПартииТоваровНаСкладах.Номенклатура КАК Номенклатура,
	ПартииТоваровНаСкладах.ДокументОприходования КАК ДокументОприходования,
	ПартииТоваровНаСкладах.Номенклатура.ВестиУчетПоСериям КАК ВестиУчетПоСериям,
	ПартииТоваровНаСкладах.ХарактеристикаНоменклатуры КАК Характеристика,
	ПартииТоваровНаСкладах.Качество КАК Качество,
	ПартииТоваровНаСкладах.СерияНоменклатуры КАК Серия,
	ПартииТоваровНаСкладах.СерияНоменклатуры.НомерГТД КАК НомерГТД,
	ПартииТоваровНаСкладах.СерияНоменклатуры.СтранаПроисхождения КАК СтранаПроисхождения,
	ПартииТоваровНаСкладах.СерияНоменклатуры.ПометкаУдаления КАК ПометкаУдаления,
	СУММА(ВЫБОР
			КОГДА ПартииТоваровНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ПартииТоваровНаСкладах.Количество * ЕСТЬNULL(ПартииТоваровНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
			ИНАЧЕ -ПартииТоваровНаСкладах.Количество * ЕСТЬNULL(ПартииТоваровНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
		КОНЕЦ) КАК Количество,
	СУММА(ВЫБОР
			КОГДА ПартииТоваровНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ПартииТоваровНаСкладах.Стоимость
			ИНАЧЕ -ПартииТоваровНаСкладах.Стоимость
		КОНЕЦ) КАК СуммаИтогоУпр
ПОМЕСТИТЬ ОстаткиТоваровПоПартиям
ИЗ
	РегистрНакопления.ПартииТоваровНаСкладах КАК ПартииТоваровНаСкладах
ГДЕ
	ПартииТоваровНаСкладах.Период &lt;= &amp;ДатаОстатков
	И ПартииТоваровНаСкладах.СтатусПартии &lt;&gt; ЗНАЧЕНИЕ(Перечисление.СтатусыПартийТоваров.НаКомиссию)
	И ПартииТоваровНаСкладах.СтатусПартии &lt;&gt; ЗНАЧЕНИЕ(Перечисление.СтатусыПартийТоваров.ВозвратнаяТара)
	И ПартииТоваровНаСкладах.Номенклатура.ВидНоменклатуры.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)

СГРУППИРОВАТЬ ПО
	ПартииТоваровНаСкладах.Номенклатура,
	ПартииТоваровНаСкладах.ХарактеристикаНоменклатуры,
	ПартииТоваровНаСкладах.Качество,
	ПартииТоваровНаСкладах.Регистратор.Организация,
	ПартииТоваровНаСкладах.СерияНоменклатуры,
	ПартииТоваровНаСкладах.СерияНоменклатуры.НомерГТД,
	ПартииТоваровНаСкладах.СерияНоменклатуры.СтранаПроисхождения,
	ПартииТоваровНаСкладах.СерияНоменклатуры.ПометкаУдаления,
	ПартииТоваровНаСкладах.Номенклатура.ВестиУчетПоСериям,
	ПартииТоваровНаСкладах.ДокументОприходования

ИМЕЮЩИЕ
	(СУММА(ВЫБОР
				КОГДА ПартииТоваровНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
					ТОГДА ПартииТоваровНаСкладах.Количество * ЕСТЬNULL(ПартииТоваровНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
				ИНАЧЕ -ПартииТоваровНаСкладах.Количество * ЕСТЬNULL(ПартииТоваровНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
			КОНЕЦ) &lt;&gt; 0
		ИЛИ СУММА(ВЫБОР
				КОГДА ПартииТоваровНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
					ТОГДА ПартииТоваровНаСкладах.Стоимость
				ИНАЧЕ -ПартииТоваровНаСкладах.Стоимость
			КОНЕЦ) &lt;&gt; 0)

ИНДЕКСИРОВАТЬ ПО
	Организация
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ОстаткиТоваровПоПартиям.Организация КАК Организация,
	ОстаткиТоваровПоПартиям.Номенклатура КАК Номенклатура,
	ОстаткиТоваровПоПартиям.ДокументОприходования КАК ДокументОприходования,
	ОстаткиТоваровПоПартиям.ВестиУчетПоСериям КАК ВестиУчетПоСериям,
	ОстаткиТоваровПоПартиям.Характеристика КАК Характеристика,
	ОстаткиТоваровПоПартиям.Качество КАК Качество,
	ОстаткиТоваровПоПартиям.Серия КАК Серия,
	ОстаткиТоваровПоПартиям.НомерГТД КАК НомерГТД,
	ОстаткиТоваровПоПартиям.СтранаПроисхождения КАК СтранаПроисхождения,
	ОстаткиТоваровПоПартиям.ПометкаУдаления КАК ПометкаУдаления,
	ОстаткиТоваровПоПартиям.Количество,
	ОстаткиТоваровПоПартиям.СуммаИтогоУпр,
	ЕСТЬNULL(УчетнаяПолитикаНалоговыйУчетСрезПоследних.СложныйУчетНДС, ЛОЖЬ) КАК СложныйУчетНДС,
	ЕСТЬNULL(УчетнаяПолитикаНалоговыйУчетСрезПоследних.ПартионныйУчетНДСвРазрезеСерийИХарактеристик, ЛОЖЬ) КАК УчетНДСВРазрезеСерийИХарактеристик
ПОМЕСТИТЬ ОстаткиПоПартиямСУчетнойПолитикой
ИЗ
	ОстаткиТоваровПоПартиям КАК ОстаткиТоваровПоПартиям
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.УчетнаяПолитикаНалоговыйУчет.СрезПоследних(&amp;ДатаОстатков, ) КАК УчетнаяПолитикаНалоговыйУчетСрезПоследних
		ПО ОстаткиТоваровПоПартиям.Организация = УчетнаяПолитикаНалоговыйУчетСрезПоследних.Организация

ИНДЕКСИРОВАТЬ ПО
	Номенклатура,
	Организация,
	ДокументОприходования,
	УчетНДСВРазрезеСерийИХарактеристик
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ОстаткиПоПартиямСУчетнойПолитикой.Организация КАК Организация,
	ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура КАК Номенклатура,
	ОстаткиПоПартиямСУчетнойПолитикой.Характеристика,
	ОстаткиПоПартиямСУчетнойПолитикой.Качество,
	ОстаткиПоПартиямСУчетнойПолитикой.Серия,
	СУММА(ОстаткиПоПартиямСУчетнойПолитикой.Количество) КАК Количество,
	СУММА(ОстаткиПоПартиямСУчетнойПолитикой.СуммаИтогоУпр) КАК Сумма,
	МАКСИМУМ(ЕСТЬNULL(НДСПоПартиям.СтавкаНДС, ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура.СтавкаНДС)) КАК СтавкаНДС,
	СУММА(ЕСТЬNULL(НДСПоПартиям.НДСОстаток, 0)) КАК НДСРегл,
	СУММА(ЕСТЬNULL(НДСПоПартиям.НДСОстаток, 0) * ВЫБОР
			КОГДА ЕСТЬNULL(КурсыВалютСрезПоследних.Курс, 0) &gt; 0
					И ЕСТЬNULL(КурсыВалютСрезПоследних.Кратность, 0) &gt; 0
				ТОГДА КурсыВалютСрезПоследних.Кратность / КурсыВалютСрезПоследних.Курс
			ИНАЧЕ 0
		КОНЕЦ) КАК СуммаНДС,
	СУММА(ОстаткиПоПартиямСУчетнойПолитикой.СуммаИтогоУпр * ВЫБОР
			КОГДА ЕСТЬNULL(КурсыВалютСрезПоследних.Курс, 0) &gt; 0
					И ЕСТЬNULL(КурсыВалютСрезПоследних.Кратность, 0) &gt; 0
				ТОГДА КурсыВалютСрезПоследних.Курс / КурсыВалютСрезПоследних.Кратность
			ИНАЧЕ 0
		КОНЕЦ) КАК СуммаСНДСРегл,
	МАКСИМУМ(ОстаткиПоПартиямСУчетнойПолитикой.НомерГТД) КАК НомерГТД,
	МАКСИМУМ(ОстаткиПоПартиямСУчетнойПолитикой.СтранаПроисхождения) КАК СтранаПроисхождения
ИЗ
	ОстаткиПоПартиямСУчетнойПолитикой КАК ОстаткиПоПартиямСУчетнойПолитикой
		ЛЕВОЕ СОЕДИНЕНИЕ НДСПоПартиям КАК НДСПоПартиям
		ПО ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура = НДСПоПартиям.Номенклатура
			И ОстаткиПоПартиямСУчетнойПолитикой.Организация = НДСПоПартиям.Организация
			И ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования = НДСПоПартиям.СчетФактура
			И (НЕ ОстаткиПоПартиямСУчетнойПолитикой.УчетНДСВРазрезеСерийИХарактеристик
				ИЛИ ОстаткиПоПартиямСУчетнойПолитикой.Серия = НДСПоПартиям.СерияНоменклатуры)
			И (НЕ ОстаткиПоПартиямСУчетнойПолитикой.УчетНДСВРазрезеСерийИХарактеристик
				ИЛИ ОстаткиПоПартиямСУчетнойПолитикой.Характеристика = НДСПоПартиям.ХарактеристикаНоменклатуры)
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, Валюта = &amp;ВалютаУпрУчета) КАК КурсыВалютСрезПоследних
		ПО (ИСТИНА)

СГРУППИРОВАТЬ ПО
	ОстаткиПоПартиямСУчетнойПолитикой.Организация,
	ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура,
	ОстаткиПоПартиямСУчетнойПолитикой.Характеристика,
	ОстаткиПоПартиямСУчетнойПолитикой.Качество,
	ОстаткиПоПартиямСУчетнойПолитикой.Серия

УПОРЯДОЧИТЬ ПО
	Организация,
	Номенклатура,
	ОстаткиПоПартиямСУчетнойПолитикой.Характеристика,
	Серия,
	Качество

ИТОГИ ПО
	Организация
;

ВЫБРАТЬ
	ТоварыНаСкладах.Регистратор.Организация КАК Организация,
	ТоварыНаСкладах.Склад КАК Склад,
	ТоварыНаСкладах.Номенклатура КАК Номенклатура,
	ТоварыНаСкладах.Номенклатура.ВестиУчетПоСериям КАК ВестиУчетПоСериям,
	ТоварыНаСкладах.Номенклатура.ВестиПартионныйУчетПоСериям КАК ВестиПартионныйУчетПоСериям,
	ТоварыНаСкладах.ХарактеристикаНоменклатуры КАК Характеристика,
	ТоварыНаСкладах.СерияНоменклатуры КАК Серия,
	ТоварыНаСкладах.Качество КАК Качество,
	СУММА(ВЫБОР
			КОГДА ТоварыНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ТоварыНаСкладах.Количество * ЕСТЬNULL(ТоварыНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
			ИНАЧЕ -ТоварыНаСкладах.Количество * ЕСТЬNULL(ТоварыНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
		КОНЕЦ) КАК Количество
ИЗ
	РегистрНакопления.ТоварыНаСкладах КАК ТоварыНаСкладах

СГРУППИРОВАТЬ ПО
	ТоварыНаСкладах.Регистратор.Организация,
	ТоварыНаСкладах.Склад,
	ТоварыНаСкладах.Качество,
	ТоварыНаСкладах.ХарактеристикаНоменклатуры,
	ТоварыНаСкладах.Номенклатура,
	ТоварыНаСкладах.Номенклатура.ВестиУчетПоСериям,
	ТоварыНаСкладах.Номенклатура.ВестиПартионныйУчетПоСериям,
	ТоварыНаСкладах.СерияНоменклатуры

ИМЕЮЩИЕ
	СУММА(ВЫБОР
			КОГДА ТоварыНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ТоварыНаСкладах.Количество * ЕСТЬNULL(ТоварыНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
			ИНАЧЕ -ТоварыНаСкладах.Количество * ЕСТЬNULL(ТоварыНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
		КОНЕЦ) &lt;&gt; 0

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ТоварыВРознице.Регистратор.Организация,
	ТоварыВРознице.Склад,
	ТоварыВРознице.Номенклатура,
	ТоварыВРознице.Номенклатура.ВестиУчетПоСериям,
	ТоварыВРознице.Номенклатура.ВестиПартионныйУчетПоСериям,
	ТоварыВРознице.ХарактеристикаНоменклатуры,
	ТоварыВРознице.СерияНоменклатуры,
	ТоварыВРознице.Качество,
	СУММА(ВЫБОР
			КОГДА ТоварыВРознице.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ТоварыВРознице.Количество * ЕСТЬNULL(ТоварыВРознице.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
			ИНАЧЕ -ТоварыВРознице.Количество * ЕСТЬNULL(ТоварыВРознице.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
		КОНЕЦ)
ИЗ
	РегистрНакопления.ТоварыВРознице КАК ТоварыВРознице

СГРУППИРОВАТЬ ПО
	ТоварыВРознице.Склад,
	ТоварыВРознице.Номенклатура,
	ТоварыВРознице.ХарактеристикаНоменклатуры,
	ТоварыВРознице.СерияНоменклатуры,
	ТоварыВРознице.Качество,
	ТоварыВРознице.Регистратор.Организация,
	ТоварыВРознице.Номенклатура.ВестиУчетПоСериям,
	ТоварыВРознице.Номенклатура.ВестиПартионныйУчетПоСериям

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ТоварыВНТТ.Регистратор.Организация,
	ТоварыВНТТ.Склад,
	ТоварыВНТТ.Номенклатура,
	ТоварыВНТТ.Номенклатура.ВестиУчетПоСериям,
	ТоварыВНТТ.Номенклатура.ВестиПартионныйУчетПоСериям,
	ТоварыВНТТ.ХарактеристикаНоменклатуры,
	ТоварыВНТТ.СерияНоменклатуры,
	ЗНАЧЕНИЕ(Справочник.Качество.Новый),
	СУММА(ВЫБОР
			КОГДА ТоварыВНТТ.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ТоварыВНТТ.Количество * ЕСТЬNULL(ТоварыВНТТ.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
			ИНАЧЕ -ТоварыВНТТ.Количество * ЕСТЬNULL(ТоварыВНТТ.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
		КОНЕЦ)
ИЗ
	РегистрНакопления.ТоварыВНТТ КАК ТоварыВНТТ

СГРУППИРОВАТЬ ПО
	ТоварыВНТТ.Склад,
	ТоварыВНТТ.Номенклатура,
	ТоварыВНТТ.ХарактеристикаНоменклатуры,
	ТоварыВНТТ.СерияНоменклатуры,
	ТоварыВНТТ.Регистратор.Организация,
	ТоварыВНТТ.Номенклатура.ВестиУчетПоСериям,
	ТоварыВНТТ.Номенклатура.ВестиПартионныйУчетПоСериям
	
УПОРЯДОЧИТЬ ПО
	Организация,
	Склад,
	Номенклатура,
	Качество</Текст>
		</Запрос>
	</Запросы>
</ПравилаОбмена>